import{c as k,j as e,a as P,B as c,r as n,ag as Ws,a0 as ea,L as ts,R as us,ah as fs,ai as sa,a2 as Ne,t as N,a1 as Z}from"./index-BHiDnAhb.js";import{C as L,b as W,c as ee,e as ze,a as re}from"./card-D5d_z5D3.js";import{T as aa,a as ta,b as ls,c as rs}from"./index-CCs4NJAW.js";import{C as js,S as ns,b as is,c as cs,d as os,e as ds,a as Re,h as la,f as ra,i as na}from"./select-DrFdc-J-.js";import{a as ms,T as we}from"./index-BsGWJLqS.js";import{S as ge}from"./scroll-area-C3QEeV-t.js";import{B as Q}from"./badge-ha8OpXVo.js";import{T as A,a as S,b as M,c as B}from"./tooltip-yCot1KK6.js";import{T as oe}from"./trash-2-mod70nNL.js";import{A as ia,X as ve}from"./x-BwmXUMlv.js";import{I as H}from"./input-DgOOQQvn.js";import{F as Ns}from"./file-down-BZlVU_mD.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],oa=k("Archive",ca);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ue=k("ArrowUp",da);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],xa=k("ChevronsDown",ma);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],pa=k("ChevronsUp",ha);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fa=k("CircleCheckBig",ua);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ee=k("CircleCheck",ja);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ga=k("CircleX",Na);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],be=k("Clipboard",wa);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],va=k("Database",ba);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Ta=k("Eraser",ya);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],gs=k("FilePlus",Ca);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Aa=k("FileText",ka);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Be=k("Folder",Sa);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ws=k("History",Ma);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],bs=k("Lightbulb",Ba);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],za=k("Pencil",Ea);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_e=k("Plus",Ra);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vs=k("RotateCcw",Ua);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]],Ia=k("Text",_a);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],xs=k("Users",$a),Ha=({show:r,history:x,onClear:v,onUseAgain:f,arcrylicBg:p})=>r?e.jsxs(L,{className:P("border-border/60",p&&"arcrylic-blur"),children:[e.jsx(W,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ws,{className:"h-5 w-5 mr-2 text-primary"}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl",children:"Translation History"}),e.jsx(ze,{className:"text-sm mt-1",children:"Previously translated content"})]})]}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{variant:"destructive",size:"sm",onClick:v,disabled:x.length===0,className:"h-8 text-xs",children:[e.jsx(oe,{className:"h-3.5 w-3.5 mr-1.5"}),"Clear All"]})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Delete all translation history"})})]})})]})}),e.jsx(re,{className:"px-4 pb-4",children:x.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(oa,{className:"h-12 w-12 text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-muted-foreground font-medium",children:"No translation history yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-md",children:"Translations will be saved here automatically as you use the translator"})]}):e.jsx(ge,{className:"h-[450px] pr-2",children:e.jsx("div",{className:"space-y-3",children:x.map(j=>e.jsxs(L,{className:"overflow-hidden",children:[e.jsxs("div",{className:"bg-muted/30 px-4 py-3 flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(js,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(j.timestamp).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(va,{className:"h-3.5 w-3.5 mr-1.5 text-primary/70"}),e.jsx("span",{className:"text-sm font-medium mr-2",children:j.collectionName}),e.jsx(Q,{variant:"outline",className:"text-xs px-1.5 py-0 h-5",children:j.model})]})]}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>f(j),className:"h-8",children:[e.jsx(vs,{className:"h-3.5 w-3.5 mr-1.5"}),"Reuse"]})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Load this translation again"})})]})})]}),e.jsx(re,{className:"p-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(ms,{className:"text-xs flex items-center text-muted-foreground",children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),"Input Text"]}),e.jsx("div",{className:"text-sm bg-muted/20 rounded-md p-3 max-h-[100px] overflow-y-auto border border-border/40",children:j.inputText})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(ms,{className:"text-xs flex items-center text-muted-foreground",children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),"Translated Text"]}),e.jsx("div",{className:"text-sm bg-muted/20 rounded-md p-3 max-h-[100px] overflow-y-auto border border-border/40",children:j.translatedText})]})]})})]},j.id))})})})]}):null,hs=32e3,Da=({inputText:r,setInputText:x,translatedText:v,isTranslating:f,error:p,isCopied:j,onTranslate:E,onCopy:C,selectedModel:u,onModelChange:d,models:b,selectedCollectionId:z,collections:R,onCollectionChange:G,isCollectionManagementVisible:g,onToggleCollectionManagement:w,arcrylicBg:h})=>{var O;const[se,ae]=n.useState(!0),te=r.length;return e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 md:gap-8 min-h-[650px] w-full",children:[e.jsxs(L,{className:P("flex-1 flex flex-col shadow-lg rounded-xl border-0 bg-white/80 mb-6 lg:mb-0",h&&"arcrylic-blur"),children:[e.jsx(W,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"📝 Translate Text"}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(Q,{variant:"outline",className:"px-2 sm:px-3 py-1 h-auto rounded-full text-sm sm:text-base bg-muted/40",children:[e.jsx(Ws,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"truncate max-w-[100px] sm:max-w-none",children:u})]})}),e.jsx(B,{side:"left",children:e.jsx("p",{className:"text-xs",children:"Current translation model"})})]})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col px-4 sm:px-6 py-3 sm:py-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(we,{id:"inputText",placeholder:"Type or paste text to translate...",className:"min-h-[200px] sm:min-h-[300px] h-full text-sm sm:text-lg leading-relaxed rounded-xl p-3 sm:p-4 pr-12 sm:pr-16 focus-visible:ring-1 focus-visible:ring-primary/30 transition-all resize-none shadow-sm",value:r,maxLength:hs,onChange:o=>x(o.target.value),"aria-label":"Input text to translate"}),e.jsxs("span",{className:"absolute bottom-2 right-4 text-xs text-muted-foreground/70",children:[te,"/",hs]}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>x(""),disabled:!r.trim()||f,className:"absolute top-2 right-2 rounded-full","aria-label":"Clear input",children:e.jsx(vs,{className:"h-5 w-5"})})}),e.jsx(B,{side:"left",children:e.jsx("p",{className:"text-xs",children:"Clear input"})})]})})]}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 items-center w-full sm:w-auto",children:[e.jsxs(ns,{value:u,onValueChange:d,children:[e.jsx(is,{className:"h-8 text-xs font-medium px-2 py-1 rounded-full min-w-[90px] max-w-[110px]",children:e.jsx(cs,{placeholder:"Model",children:e.jsx("span",{className:"truncate",children:u})})}),e.jsx(os,{className:"z-[100]",children:b.map(o=>e.jsx(ds,{value:o,children:e.jsx("span",{className:"truncate",children:o})},o))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs(ns,{value:z,onValueChange:G,children:[e.jsx(is,{className:"h-8 text-xs font-medium px-2 py-1 rounded-full min-w-[90px] max-w-[110px]",children:e.jsx(cs,{placeholder:"Collection",children:e.jsx("span",{className:"truncate",children:((O=R.find(o=>o.id===z))==null?void 0:O.name)||"Collection"})})}),e.jsx(os,{className:"z-[100]",children:R.map(o=>e.jsx(ds,{value:o.id,children:e.jsx("span",{className:"truncate",children:o.name})},o.id))})]}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{variant:g?"default":"outline",size:"icon",onClick:()=>w(z),className:"h-8 w-8 rounded-full ml-1","aria-label":"Manage collections",children:e.jsx(ea,{className:"h-3 w-3"})})}),e.jsx(B,{side:"top",children:e.jsx("p",{className:"text-xs",children:"Manage collections"})})]})})]})]}),e.jsx(c,{onClick:E,disabled:f||!r.trim(),className:"h-8 px-3 rounded-full shadow-sm text-sm w-full sm:w-auto",size:"default","aria-label":"Translate",children:f?e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"mr-2 h-3.5 w-3.5 animate-spin"})," Translating..."]}):e.jsxs(e.Fragment,{children:["Translate ",e.jsx(ia,{className:"ml-2 h-3.5 w-3.5"})]})})]})]})]}),e.jsxs(L,{className:P("flex-1 flex flex-col shadow-lg rounded-3xl border-0 bg-white/80 relative",h&&"arcrylic-blur"),children:[e.jsx(W,{className:"pb-2 border-b border-muted/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"🌐 Translation"}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"icon",onClick:C,disabled:!v,className:"rounded-full","aria-label":"Copy translation",children:j?e.jsx(Ee,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}):e.jsx(be,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),e.jsx(B,{side:"left",children:e.jsx("p",{className:"text-xs",children:"Copy translation"})})]})})]})}),p&&!p.includes("import")&&se&&e.jsx("div",{className:"mx-3 sm:mx-6 mt-3 sm:mt-4 mb-1 sm:mb-2",children:e.jsxs("div",{className:"flex items-center bg-destructive/10 border border-destructive/30 text-destructive rounded-lg px-3 sm:px-4 py-2 relative",children:[e.jsx(Re,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-xs sm:text-sm",children:p}),e.jsx(c,{variant:"ghost",size:"icon",className:"h-6 w-6 sm:h-8 sm:w-8 ml-1 sm:ml-2 text-destructive/70 hover:text-destructive p-0",onClick:()=>ae(!1),"aria-label":"Dismiss error",children:"×"})]})}),e.jsx("div",{className:"flex-1 flex flex-col px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(we,{id:"translatedText",className:"min-h-[200px] sm:min-h-[300px] h-full text-sm sm:text-lg leading-relaxed rounded-xl p-3 sm:p-4 pr-12 sm:pr-16 focus-visible:ring-1 focus-visible:ring-primary/30 transition-all resize-none shadow-sm",value:f?"":v,readOnly:!0,placeholder:"Translation will appear here...","aria-label":"Translated text output"}),f&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70 rounded-xl animate-pulse z-10",children:[e.jsx(ts,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary animate-spin"}),e.jsx("span",{className:"ml-2 sm:ml-3 text-base sm:text-lg text-primary font-semibold",children:"Translating..."})]}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{variant:"default",size:"icon",onClick:C,disabled:!v,className:"absolute bottom-3 right-3 rounded-full shadow-lg h-9 w-9 sm:h-10 sm:w-10","aria-label":"Copy translation",children:j?e.jsx(Ee,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"}):e.jsx(be,{className:"h-5 w-5 sm:h-6 sm:w-6"})})}),e.jsx(B,{side:"left",children:e.jsx("p",{className:"text-xs",children:"Copy translation"})})]})})]})})]})]})},Fa=({isVisible:r,settingsPanelRef:x,collections:v,collectionToEdit:f,setCollectionToEdit:p,editedCollectionName:j,setEditedCollectionName:E,addNewCollection:C,useCollection:u,renameCollection:d,requestDeleteCollection:b,showDeleteConfirmation:z,setShowDeleteConfirmation:R,confirmDeleteCollection:G,selectedCollectionId:g,error:w,setError:h,arcrylicBg:se})=>{const ae=v.find(T=>T.id===f),[te,O]=n.useState(!1),[o,_]=n.useState(""),y=n.useRef(null);us.useEffect(()=>{te&&y.current&&y.current.focus()},[te]);const K=()=>{o.trim()?(C(o.trim()),_(""),O(!1)):(O(!1),_(""))};return e.jsx("div",{ref:x,className:P("overflow-hidden transition-all duration-300 ease-in-out",r?"h-[480px] sm:h-[400px] opacity-100 mb-8 pb-8 border-b border-gray-200 dark:border-gray-700":"h-0 opacity-0 mb-0 pb-0 border-b-0"),tabIndex:-1,children:e.jsxs(L,{className:P("h-full w-full bg-white/90 dark:bg-zinc-900/90 shadow-xl rounded-2xl p-0 flex flex-col sm:flex-row border border-gray-100 dark:border-zinc-800 transition-all duration-300 overflow-hidden",se&&"backdrop-blur-md"),children:[e.jsxs("aside",{className:"w-full sm:w-1/3 bg-muted/40 dark:bg-muted/20 p-4 flex flex-col gap-2 border-r border-gray-200 dark:border-gray-800 min-h-[320px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5 text-primary"}),"Collections"]}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{size:"icon",variant:"outline",onClick:()=>{O(!0),_("")},"aria-label":"Add new collection",children:e.jsx(_e,{className:"h-5 w-5"})})}),e.jsx(B,{children:"Add new collection"})]})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[te&&e.jsx("div",{className:"flex items-center gap-2 px-2 py-2 mb-1 rounded-lg bg-muted/30 dark:bg-muted/10",children:e.jsx(H,{ref:y,value:o,onChange:T=>_(T.target.value),onBlur:K,onKeyDown:T=>{T.key==="Enter"?K():T.key==="Escape"&&(O(!1),_(""))},placeholder:"Collection name",className:"flex-1 h-8 text-sm"})}),v.map(T=>e.jsxs("div",{className:P("flex items-center gap-2 px-2 py-2 rounded-lg cursor-pointer group transition-all",T.id===f?"bg-primary/10 dark:bg-primary/20 text-primary":"hover:bg-muted/60 dark:hover:bg-muted/30 text-gray-700 dark:text-gray-200"),onClick:()=>{p(T.id),E(T.name),h(null)},children:[e.jsx(Be,{className:"h-4 w-4 mr-1 text-primary/70"}),e.jsx("span",{className:"flex-1 truncate font-medium",children:T.name}),T.id===g&&e.jsx(Ee,{className:"h-4 w-4 text-green-500 ml-1"}),T.id===f&&e.jsx("span",{className:"ml-2 text-xs font-semibold",children:"Editing"})]},T.id))]})]}),e.jsxs("section",{className:"flex-1 p-6 flex flex-col gap-6",children:[f&&ae&&e.jsxs("div",{className:"flex flex-col gap-4 max-w-lg mx-auto w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Be,{className:"h-6 w-6 text-primary/80"}),e.jsx("h4",{className:"text-xl font-bold flex-1 truncate",children:ae.name}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{size:"icon",variant:"outline",onClick:()=>E(ae.name),"aria-label":"Rename collection",children:e.jsx(za,{className:"h-4 w-4"})})}),e.jsx(B,{children:"Rename"})]})}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{size:"icon",variant:"destructive",onClick:()=>{v.length>1?b(f):h("You must have at least one collection")},disabled:v.length<=1,"aria-label":"Delete collection",children:e.jsx(oe,{className:"h-4 w-4"})})}),e.jsx(B,{children:"Delete"})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{value:j,onChange:T=>E(T.target.value),placeholder:"Rename collection",className:"flex-1"}),e.jsx(c,{variant:"secondary",onClick:d,disabled:!j.trim(),children:"Save"}),e.jsx(c,{variant:"outline",onClick:()=>p(""),children:"Cancel"})]}),e.jsx("div",{className:"flex gap-2 mt-2",children:e.jsx(c,{variant:"default",onClick:()=>u(f),className:"flex-1",children:"Use This Collection"})})]}),w&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 font-medium flex items-center gap-2",children:[e.jsx(ga,{className:"h-4 w-4"}),w]})]}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-gray-200 dark:border-zinc-800 animate-fadeIn",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-3 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(oe,{className:"h-6 w-6 text-destructive"})," Confirm Deletion"]}),e.jsx("p",{className:"mb-2 text-gray-700 dark:text-gray-300",children:"Are you sure you want to delete this collection?"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(c,{variant:"outline",onClick:()=>R(!1),className:"min-w-[90px]",children:"Cancel"}),e.jsx(c,{variant:"destructive",onClick:G,className:"min-w-[90px]",children:"Delete"})]})]})})]})})},Pa=({mappingTable:r,updateMappingEntry:x,removeMappingEntry:v,addMappingEntry:f,showImportArea:p,toggleImportArea:j,mappingMarkdown:E,setMappingMarkdown:C,revertImport:u,showRevertButton:d,exportMarkdownTable:b,importMarkdownTable:z,error:R,arcrylicBg:G})=>e.jsxs(L,{className:P("border-border/60",G&&"arcrylic-blur"),children:[e.jsx(W,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ee,{className:"text-xl flex items-center",children:[e.jsx(Ia,{className:"h-5 w-5 mr-2 text-primary"}),"Mapping Table"]}),e.jsx(ze,{className:"text-sm text-muted-foreground mt-1",children:"Manage term mappings and transcriptions"})]}),e.jsxs(Q,{variant:"outline",className:"h-6",children:[r.length," ",r.length===1?"Entry":"Entries"]})]})}),e.jsx(re,{className:"p-4 pb-0",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2 sm:gap-4",children:[e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{onClick:f,variant:"default",className:"text-sm h-9 px-4 w-full md:w-auto",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Add New Term"]})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Add a new term mapping entry"})})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{variant:p?"default":"outline",onClick:j,size:"sm",className:"h-9",children:p?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Close Import/Export"]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Import/Export"]})})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Import or export mapping data as markdown"})})]})}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{variant:"outline",onClick:()=>{C(`| Term / Name | Transcription | Type (Person/Place/Other) | Gender (if person) | Notes |
|:----------- |:------------- |:------------------------- |:------------------ |:------ |
| 事情是这样的 | Chuyện là thế này | Phrase | | Opening phrase |
| 最近 | Gần đây | Time | | |
| 师兄 | Sư huynh | Title/Relationship | Male | Elder martial brother |
| 其实 | Thực ra | Adverb | | |`),p||j()},size:"sm",className:"h-9",children:[e.jsx(bs,{className:"h-4 w-4 mr-2"}),"Show Example"]})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Load a sample mapping table"})})]})})]})]}),e.jsx("div",{className:P("overflow-hidden transition-all duration-300 ease-in-out",p?"h-[320px] opacity-100":"h-0 opacity-0"),children:e.jsxs(L,{className:"border-dashed",children:[e.jsx(W,{className:"py-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsx(ee,{className:"text-base font-medium",children:"Import/Export Markdown"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-2 mt-1 sm:mt-0 w-full sm:w-auto",children:[d&&e.jsxs(c,{variant:"destructive",size:"sm",onClick:u,className:"text-xs h-8",title:"Revert to previous state (available for 1 minute)",children:[e.jsx(Ue,{className:"h-3.5 w-3.5 mr-1.5"}),"Undo Import"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:b,title:"Update markdown from current table",className:"text-xs h-8",children:[e.jsx(Ns,{className:"h-3.5 w-3.5 mr-1.5"}),"Update"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:z,className:"text-xs h-8",children:[e.jsx(fs,{className:"h-3.5 w-3.5 mr-1.5"}),"Import"]})]})]})}),e.jsxs(re,{className:"py-2",children:[e.jsx(we,{placeholder:"Paste markdown table here...",className:"h-40 w-full text-sm font-mono",value:E,onChange:g=>C(g.target.value)}),R&&R.includes("import")&&e.jsxs("div",{className:"flex items-start mt-2 p-2 rounded-md bg-destructive/10 text-destructive text-sm",children:[e.jsx(Re,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:R})]})]})]})}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse min-w-max",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Term / Name"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Transcription"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Type"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Gender"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Notes"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap w-[100px]",children:"Actions"})]})}),e.jsx("tbody",{children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center h-24 text-muted-foreground",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(Aa,{className:"h-8 w-8 mb-2 text-muted-foreground/40"}),e.jsx("p",{children:"No terms added yet"}),e.jsx("p",{className:"text-xs mt-1",children:"Add a new entry to begin"})]})})}):r.map((g,w)=>e.jsxs("tr",{className:"border-b hover:bg-muted/20 transition-colors",children:[e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.term,onChange:h=>x(w,"term",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Term or name"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.transcription,onChange:h=>x(w,"transcription",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Transcription"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.type,onChange:h=>x(w,"type",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Type"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.gender,onChange:h=>x(w,"gender",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Gender"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.notes,onChange:h=>x(w,"notes",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Additional notes"})}),e.jsx("td",{className:"py-2 px-2 text-center",children:e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{variant:"destructive",size:"sm",onClick:()=>v(w),className:"w-full h-8",children:[e.jsx(oe,{className:"h-3.5 w-3.5 sm:mr-1.5"}),e.jsx("span",{className:"hidden sm:inline text-xs",children:"Remove"})]})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Delete this mapping entry"})})]})})})]},w))})]})})]})})]}),La=({relationshipsTable:r,updateRelationshipEntry:x,removeRelationshipEntry:v,addRelationshipEntry:f,showImportArea:p,toggleImportArea:j,relationshipsMarkdown:E,setRelationshipsMarkdown:C,revertImport:u,showRevertButton:d,exportMarkdownTable:b,importMarkdownTable:z,error:R,arcrylicBg:G})=>e.jsxs(L,{className:P("border-border/60",G&&"arcrylic-blur"),children:[e.jsx(W,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ee,{className:"text-xl flex items-center",children:[e.jsx(xs,{className:"h-5 w-5 mr-2 text-primary"}),"Relationships Table"]}),e.jsx(ze,{className:"text-sm text-muted-foreground mt-1",children:"Manage character relationships and address terms"})]}),e.jsxs(Q,{variant:"outline",className:"h-6",children:[r.length," ",r.length===1?"Entry":"Entries"]})]})}),e.jsx(re,{className:"p-4 pb-0",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2 sm:gap-4",children:[e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{onClick:f,variant:"default",className:"text-sm h-9 px-4 w-full md:w-auto",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Add New Relationship"]})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Add a new character relationship entry"})})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{variant:p?"default":"outline",onClick:j,size:"sm",className:"h-9",children:p?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Close Import/Export"]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Import/Export"]})})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Import or export relationship data as markdown"})})]})}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{variant:"outline",onClick:()=>{C(`| Character A | Character B | Relationship | Address Terms (A→B) | Address Terms (B→A) | Notes |
|:----------- |:----------- |:------------ |:------------------- |:------------------- |:----- |
| Vưu Thiên Thu | Triệu Không Minh | Adoptive Younger Sister -> Elder Brother | Huynh trưởng, Sư huynh | Ngươi | Formal/Respectful |
| Lâm Linh Dao | Vưu Thiên Thu | Female Lead 2 -> Female Lead 1 | Dao tỷ tỷ, Muội | Thiên Thu | Relationship strained |`),p||j()},size:"sm",className:"h-9",children:[e.jsx(bs,{className:"h-4 w-4 mr-2"}),"Show Example"]})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Load a sample relationship table"})})]})})]})]}),e.jsx("div",{className:P("overflow-hidden transition-all duration-300 ease-in-out",p?"h-[320px] opacity-100":"h-0 opacity-0"),children:e.jsxs(L,{className:"border-dashed",children:[e.jsx(W,{className:"py-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsx(ee,{className:"text-base font-medium",children:"Import/Export Markdown"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-2 mt-1 sm:mt-0 w-full sm:w-auto",children:[d&&e.jsxs(c,{variant:"destructive",size:"sm",onClick:u,className:"text-xs h-8",title:"Revert to previous state (available for 1 minute)",children:[e.jsx(Ue,{className:"h-3.5 w-3.5 mr-1.5"}),"Undo Import"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:b,title:"Update markdown from current table",className:"text-xs h-8",children:[e.jsx(Ns,{className:"h-3.5 w-3.5 mr-1.5"}),"Update"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:z,className:"text-xs h-8",children:[e.jsx(fs,{className:"h-3.5 w-3.5 mr-1.5"}),"Import"]})]})]})}),e.jsxs(re,{className:"py-2",children:[e.jsx(we,{placeholder:"Paste markdown table here...",className:"h-40 w-full text-sm font-mono",value:E,onChange:g=>C(g.target.value)}),R&&R.includes("import")&&e.jsxs("div",{className:"flex items-start mt-2 p-2 rounded-md bg-destructive/10 text-destructive text-sm",children:[e.jsx(Re,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:R})]})]})]})}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse min-w-max",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Character A"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Character B"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Relationship"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Address (A→B)"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Address (B→A)"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap",children:"Notes"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium whitespace-nowrap w-[100px]",children:"Actions"})]})}),e.jsx("tbody",{children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center h-24 text-muted-foreground",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(xs,{className:"h-8 w-8 mb-2 text-muted-foreground/40"}),e.jsx("p",{children:"No relationships added yet"}),e.jsx("p",{className:"text-xs mt-1",children:"Add a new entry to begin"})]})})}):r.map((g,w)=>e.jsxs("tr",{className:"border-b hover:bg-muted/20 transition-colors",children:[e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.characterA,onChange:h=>x(w,"characterA",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Character name"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.characterB,onChange:h=>x(w,"characterB",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Character name"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.relationship,onChange:h=>x(w,"relationship",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Relationship type"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.addressTermsAToB,onChange:h=>x(w,"addressTermsAToB",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"How A addresses B"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.addressTermsBToA,onChange:h=>x(w,"addressTermsBToA",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"How B addresses A"})}),e.jsx("td",{className:"py-2 px-2",children:e.jsx(H,{value:g.notes,onChange:h=>x(w,"notes",h.target.value),className:"w-full text-sm px-3 py-1 h-8",placeholder:"Additional notes"})}),e.jsx("td",{className:"py-2 px-2 text-center",children:e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{variant:"destructive",size:"sm",onClick:()=>v(w),className:"w-full h-8",children:[e.jsx(oe,{className:"h-3.5 w-3.5 sm:mr-1.5"}),e.jsx("span",{className:"hidden sm:inline text-xs",children:"Remove"})]})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Delete this relationship entry"})})]})})})]},w))})]})})]})})]}),Va=({showTableUpdates:r,isTableUpdatesAnimating:x,arcrylicBg:v,pendingTableUpdates:f,expandedEntries:p,toggleEntryExpansion:j,setShowTableUpdates:E,setCurrentUpdateEntry:C,setShowUpdateConfirmation:u})=>r?e.jsxs(L,{className:P("fixed bottom-20 right-6 w-96 max-w-[calc(100vw-3rem)] z-[9998] shadow-lg transition-all duration-300 ease-in-out rounded-xl border-border/40",x?"translate-y-4 opacity-0":"translate-y-0 opacity-100",v&&"arcrylic-blur"),children:[e.jsxs(W,{className:"p-4 pb-2 flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-base font-medium",children:"Table Updates"}),e.jsx(Q,{variant:"outline",className:"ml-2 text-xs",children:f.length})]}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>E(!1),className:"h-8 w-8 rounded-full",children:e.jsx(ve,{className:"h-4 w-4"})})]}),e.jsx(re,{className:"p-3",children:e.jsx(ge,{className:"max-h-[60vh] pr-2 overflow-y-auto",children:e.jsx("div",{className:"space-y-3",children:f.length>0?f.map(d=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-muted/30 p-3 flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:d.type==="mapping"?"Mapping Table":"Relationships Table"}),e.jsx(Q,{variant:d.status==="pending"?"outline":d.status==="approved"?"secondary":"destructive",className:"ml-2 text-xs px-1.5",children:d.status})]}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[e.jsx(js,{className:"h-3 w-3 mr-1"}),new Date(d.timestamp).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:()=>j(d.id),children:p.has(d.id)?e.jsx(la,{className:"h-4 w-4"}):e.jsx(ra,{className:"h-4 w-4"})}),e.jsx(A,{children:e.jsxs(S,{children:[e.jsx(M,{asChild:!0,children:e.jsx(c,{variant:"outline",size:"sm",className:"h-8",onClick:()=>{C(d),u(!0)},children:"Review"})}),e.jsx(B,{children:e.jsx("p",{className:"text-xs",children:"Review and approve/reject changes"})})]})})]})]}),p.has(d.id)&&e.jsxs("div",{className:"p-3 space-y-3 bg-background",children:[d.updates.added.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-medium flex items-center",children:[e.jsx(pa,{className:"h-3.5 w-3.5 mr-1 text-emerald-500"}),"Added Entries"]}),e.jsx(Q,{variant:"outline",className:"text-xs px-1.5 h-5",children:d.updates.added.length})]}),e.jsx(ge,{className:"h-[120px]",children:e.jsx("div",{className:"bg-muted/30 rounded-md p-2.5",children:d.updates.added.map((b,z)=>e.jsx("div",{className:"text-xs py-1.5 px-2 rounded mb-1 hover:bg-accent/50 transition-colors",children:d.type==="mapping"?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:b.term}),e.jsxs("span",{className:"text-muted-foreground",children:["→ ",b.transcription]})]}):e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:b.characterA}),e.jsxs("span",{className:"text-muted-foreground",children:["→ ",b.characterB]})]})},z))})})]}),d.updates.updated.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-medium flex items-center",children:[e.jsx(xa,{className:"h-3.5 w-3.5 mr-1 text-blue-500"}),"Updated Entries"]}),e.jsx(Q,{variant:"outline",className:"text-xs px-1.5 h-5",children:d.updates.updated.length})]}),e.jsx(ge,{className:"h-[120px]",children:e.jsx("div",{className:"bg-muted/30 rounded-md p-2.5",children:d.updates.updated.map((b,z)=>e.jsx("div",{className:"text-xs py-1.5 px-2 rounded mb-1 hover:bg-accent/50 transition-colors",children:d.type==="mapping"?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:b.term}),e.jsxs("span",{className:"text-muted-foreground",children:["→ ",b.transcription]})]}):e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:b.characterA}),e.jsxs("span",{className:"text-muted-foreground",children:["→ ",b.characterB]})]})},z))})})]})]})]},d.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(fa,{className:"h-8 w-8 text-muted-foreground/40 mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending updates"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Updates will appear here when available"})]})})})})]}):null,qa=r=>!r||typeof r!="object"?(console.warn("Invalid mapping entry:",r),null):{term:String(r.term||""),transcription:String(r.transcription||""),type:String(r.type||""),gender:String(r.gender||""),notes:String(r.notes||"")},Ga=r=>!r||typeof r!="object"?(console.warn("Invalid relationship entry:",r),null):{characterA:String(r.characterA||""),characterB:String(r.characterB||""),relationship:String(r.relationship||""),addressTermsAToB:String(r.addressTermsAToB||""),addressTermsBToA:String(r.addressTermsBToA||""),notes:String(r.notes||"")},ps=(r,x,v,f)=>{if(!Array.isArray(x))return console.error("Invalid entries format:",x),{newTable:r,updatedCount:0,added:[],updated:[]};const p=[...r];let j=0;const E=[],C=[];return x.forEach(u=>{const d=v(u);if(d){const b=f(p,d);b>=0?(p[b]=d,C.push(d)):(p.push(d),E.push(d)),j++}}),{newTable:p,updatedCount:j,added:E,updated:C}},lt=()=>{var as;const r=sa(),[x,v]=n.useState(""),[f,p]=n.useState(""),[j,E]=n.useState(!1),[C,u]=n.useState(null),[d,b]=n.useState(!1),[z,R]=n.useState([]),[G,g]=n.useState(!1),[,w]=n.useState(!0),[h,se]=n.useState("gemini-2.0-flash-exp-image-generation"),ae=["gemini-2.0-flash-exp-image-generation","gemini-2.0-flash-thinking-exp-01-21","gemini-2.5-pro-exp-03-25"],[te,O]=n.useState(null),[o,_]=n.useState([]),[y,K]=n.useState(""),[T,Ie]=n.useState(!1),[Y,ne]=n.useState(""),[de,ie]=n.useState(""),[me,ye]=n.useState(""),[ys,xe]=n.useState(!1),[$e,Ts]=n.useState("mapping"),[I,D]=n.useState([]),[$,F]=n.useState([]),[He,he]=n.useState(""),[De,pe]=n.useState(""),[ce,Fe]=n.useState(!1),[Pe,Le]=n.useState([]),[Ve,qe]=n.useState([]),[Ge,Te]=n.useState(!1),[Ke,ue]=n.useState(!1),[Oe,Ye]=n.useState([]),[Cs,Ce]=n.useState(!1),[V,ke]=n.useState(null),[ks,Xe]=n.useState(!1),fe=us.useRef(null),Ae=n.useRef(null),[As,Ss]=n.useState(new Set),Ms=s=>{Ss(t=>{const l=new Set(t);return l.has(s)?l.delete(s):l.add(s),l})};n.useEffect(()=>{(async()=>{try{const t=await Ne("apiKey"),l=await Ne("translateModel"),a=await Ne("translationCollections"),i=await Ne("translationHistory");if(t&&O(t),l&&se(l),i&&R(i),a&&a.length>0)_(a),K(a[0].id),D(a[0].mappingTable),F(a[0].relationshipsTable);else{const m={id:Date.now().toString(),name:"Default Collection",mappingTable:[],relationshipsTable:[],tableUpdateHistory:[]};_([m]),K(m.id)}}catch(t){console.error("Error loading settings:",t)}})()},[]),n.useEffect(()=>{y&&!Y&&ne(y)},[y,Y]);const Bs=async s=>{se(s),await Z("translateModel",s)},Es=(s,t)=>{try{const l=s.trim().split(`
`);if(l.length<3)return[];const a=l.slice(2);return t?a.map(i=>{const m=i.split("|").filter((U,X,J)=>X!==0&&X!==J.length-1||U.trim()!=="").map(U=>U.trim());if(m.length<5)for(console.warn("Row has fewer than expected columns:",i);m.length<5;)m.push("");return{term:m[0]||"",transcription:m[1]||"",type:m[2]||"",gender:m[3]||"",notes:m[4]||""}}):a.map(i=>{const m=i.split("|").filter((U,X,J)=>X!==0&&X!==J.length-1||U.trim()!=="").map(U=>U.trim());if(m.length<6)for(console.warn("Row has fewer than expected columns:",i);m.length<6;)m.push("");return{characterA:m[0]||"",characterB:m[1]||"",relationship:m[2]||"",addressTermsAToB:m[3]||"",addressTermsBToA:m[4]||"",notes:m[5]||""}})}catch(l){return console.error("Error parsing markdown table:",l),[]}},le=(s,t)=>{if(s.length===0)return"";let l="";return t?(l=`| Term / Name | Transcription | Type (Person/Place/Other) | Gender (if person) | Notes |
`,l+=`|:----------- |:------------- |:------------------------- |:------------------ |:------ |
`,s.forEach(a=>{l+=`| ${a.term} | ${a.transcription} | ${a.type} | ${a.gender} | ${a.notes} |
`})):(l=`| Character A | Character B | Relationship | Address Terms (A→B) | Address Terms (B→A) | Notes |
`,l+=`|:----------- |:----------- |:------------ |:------------------- |:------------------- |:----- |
`,s.forEach(a=>{l+=`| ${a.characterA} | ${a.characterB} | ${a.relationship} | ${a.addressTermsAToB} | ${a.addressTermsBToA} | ${a.notes} |
`})),l},Ze=(s,t)=>{try{if(!s.trim()){N.error("Please enter a markdown table to import"),u("Please enter a markdown table to import");return}if(!s.includes("|")){N.error("Invalid table format. Table must contain pipe characters (|)"),u("Import failed: Invalid table format. Table must contain pipe characters (|)");return}const l=s.trim().split(`
`);if(l.length<3){N.error("Table must contain at least 3 lines (header, separator, and data row)"),u("Import failed: Table must contain at least 3 lines (header, separator, and data row)");return}const a=l[1];if(!a.includes("|")||!a.includes("-")){N.error("Second line must be a separator with pipes (|) and dashes (-)"),u("Import failed: Second line must be a separator with pipes (|) and dashes (-)");return}const i=Es(s,t);if(i.length===0){N.error("No valid data rows found in the table"),u("Import failed: No valid data rows found in the table");return}u(null),t?(Le(I),D(i)):(qe($),F(i)),q(t,i),Te(!0),setTimeout(()=>{Te(!1)},6e4),N.success(`${t?"Mapping":"Relationships"} table imported successfully`)}catch(l){console.error("Error importing markdown table:",l),N.error(`Import failed: ${l instanceof Error?l.message:"Unknown error"}`),u(`Import failed: ${l instanceof Error?l.message:"Unknown error"}`)}},Je=s=>{s?(D(Pe),q(!0,Pe),Le([])):(F(Ve),q(!1,Ve),qe([])),Te(!1),N.success(`${s?"Mapping":"Relationships"} table reverted to previous state`)},q=async(s,t)=>{if(!y)return;const l=o.map(a=>a.id===y?{...a,mappingTable:s?t:a.mappingTable,relationshipsTable:s?a.relationshipsTable:t}:a);_(l),await Z("translationCollections",l)},Qe=s=>{const t=le(s?I:$,s);s?he(t):pe(t),Fe(!0)},Se=s=>{if(s===y)return;Me();const t=o.find(l=>l.id===s);t&&(K(s),D(t.mappingTable),F(t.relationshipsTable))},Me=()=>{if(!y)return;const s=o.map(t=>t.id===y?{...t,mappingTable:I,relationshipsTable:$}:t);_(s),Z("translationCollections",s)},zs=s=>{if(!s.trim()){N.error("Please enter a name for the new collection"),u("Please enter a name for the new collection");return}Me();const t={id:Date.now().toString(),name:s,mappingTable:[],relationshipsTable:[],tableUpdateHistory:[]},l=[...o,t];_(l),K(t.id),D([]),F([]),Z("translationCollections",l),N.success(`Collection "${s}" created`)},Rs=s=>{if(o.length<=1){N.error("You must have at least one collection"),u("You must have at least one collection");return}const t=o.find(a=>a.id===s);if(!t)return;const l=o.filter(a=>a.id!==s);if(s===y&&l.length>0){const a=l[0];K(a.id),D(a.mappingTable),F(a.relationshipsTable)}_(l),Z("translationCollections",l).then(()=>{N.success(`Collection "${t.name}" deleted`)}).catch(a=>{console.error("Failed to save collections after deletion:",a),N.error("Failed to delete collection")}),s===Y&&(ne(""),ie(""))},We=()=>{Fe(!ce),ce||($e==="mapping"?he(le(I,!0)):pe(le($,!1)))},Us=s=>{v(s.inputText),p(""),se(s.model),Se(s.collectionId),g(!1),N.info("Previous translation loaded")},_s=async()=>{R([]),await Z("translationHistory",[]),N.success("Translation history cleared")},Is=async s=>{const t=o.find(i=>i.id===y);if(!t)return;const a=[{id:Date.now().toString(),timestamp:Date.now(),inputText:x,translatedText:s,model:h,collectionId:y,collectionName:t.name},...z].slice(0,50);R(a),await Z("translationHistory",a)},$s=async()=>{if(!x.trim()){N.error("Please enter text to translate"),u("Please enter text to translate");return}Me(),E(!0),u(null),N.promise(async()=>{try{const s=le(I,!0),t=le($,!1),l=await na(x,s,t,te||"default-key",h,{onMappingTableUpdate:a=>{console.log("Received entries mapping table:",a);try{const{updatedCount:i,added:m,updated:U}=ps(I,a,qa,(X,J)=>X.findIndex(je=>je.term===J.term));i>0&&es("mapping",m,U)}catch(i){console.error("Error updating mapping table:",i),N.error("Failed to update mapping table")}},onRelationshipsTableUpdate:a=>{console.log("Received entries relationships table:",a);try{const{updatedCount:i,added:m,updated:U}=ps($,a,Ga,(X,J)=>X.findIndex(je=>je.characterA===J.characterA&&je.characterB===J.characterB));i>0&&es("relationships",m,U)}catch(i){console.error("Error updating relationships table:",i),N.error("Failed to update relationships table")}}});if(l.hasError)throw u(l.thinking||"Translation failed. Please try again."),new Error(l.thinking||"Translation failed");{const a=l.ocrText||"";return p(a),await Is(a),a}}catch(s){throw console.error("Translation error:",s),u("An error occurred during translation. Please try again."),s}finally{E(!1)}},{loading:"Translating text...",success:"Translation completed successfully",error:s=>`Translation failed: ${s instanceof Error?s.message:"Unknown error"}`})},Hs=()=>{navigator.clipboard.writeText(f),b(!0),N.success("Copied to clipboard"),setTimeout(()=>b(!1),2e3)},Ds=()=>{const s={term:"",transcription:"",type:"",gender:"",notes:""},t=[...I,s];D(t),q(!0,t)},Fs=(s,t,l)=>{const a=[...I];a[s]={...a[s],[t]:l},D(a),q(!0,a)},Ps=s=>{const t=I.filter((l,a)=>a!==s);D(t),q(!0,t)},Ls=()=>{const s={characterA:"",characterB:"",relationship:"",addressTermsAToB:"",addressTermsBToA:"",notes:""},t=[...$,s];F(t),q(!1,t)},Vs=(s,t,l)=>{const a=[...$];a[s]={...a[s],[t]:l},F(a),q(!1,a)},qs=s=>{const t=$.filter((l,a)=>a!==s);F(t),q(!1,t)};n.useEffect(()=>{const s=()=>{window.scrollY>200?w(!0):w(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const Gs=()=>{if(console.log("Scrolling to top attempt"),fe.current){fe.current.scrollIntoView({behavior:"smooth"}),console.log("Used scrollIntoView");return}try{window.scroll({top:0,left:0,behavior:"smooth"}),console.log("Used window.scroll")}catch{window.scrollTo(0,0),console.log("Used fallback scrollTo")}},Ks=()=>{v(""),p(""),u(null),N.info("Text cleared")},Os=()=>{if(!Y||!de.trim())return;const s=o.map(t=>t.id===Y?{...t,name:de.trim()}:t);_(s),Z("translationCollections",s),N.success(`Collection renamed to "${de}"`)},Ys=s=>{const t=!T;if(Ie(t),t){const l=o.find(a=>a.id===s);l&&(ne(s),ie(l.name))}};n.useEffect(()=>{T&&Ae.current&&setTimeout(()=>{var s;(s=Ae.current)==null||s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},[T]);const Xs=()=>{Ie(!1),ne(""),ie(""),ye(""),xe(!1),setTimeout(()=>{var s;(s=fe.current)==null||s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},Zs=s=>{console.log("Delete confirmation requested for collection:",s),ye(s),setTimeout(()=>{xe(!0),console.log("showDeleteConfirmation set to true")},0)},Js=()=>{if(console.log("Confirming deletion of collection:",me),!!me)try{Rs(me),xe(!1),ye("")}catch(s){console.error("Error deleting collection:",s),N.error("Failed to delete collection")}},Qs=s=>{Se(s),Xs()};n.useEffect(()=>{if(Y){const s=o.find(t=>t.id===Y);s&&ie(s.name)}},[Y,o]);const es=(s,t,l)=>{const a={id:Date.now().toString(),timestamp:Date.now(),type:s,updates:{added:t,updated:l},status:"pending"};Ye(i=>[...i,a]),ue(!0),Xe(!0),setTimeout(()=>Xe(!1),300),N.info("New table update available for review",{description:`${t.length} new entries and ${l.length} updated entries`,action:{label:"Review",onClick:()=>ue(!0)}})},ss=async(s,t)=>{try{if(t)if(s.type==="mapping"){const a=[...I];s.updates.added.forEach(i=>a.push(i)),s.updates.updated.forEach(i=>{const m=a.findIndex(U=>U.term===i.term);m>=0&&(a[m]=i)}),D(a),await q(!0,a)}else{const a=[...$];s.updates.added.forEach(i=>a.push(i)),s.updates.updated.forEach(i=>{const m=a.findIndex(U=>U.characterA===i.characterA&&U.characterB===i.characterB);m>=0&&(a[m]=i)}),F(a),await q(!1,a)}const l=o.map(a=>{if(a.id===y){const i=[...a.tableUpdateHistory||[]],m={...s,status:t?"approved":"rejected"};return i.push(m),{...a,tableUpdateHistory:i,mappingTable:t&&s.type==="mapping"?I:a.mappingTable,relationshipsTable:t&&s.type==="relationships"?$:a.relationshipsTable}}return a});_(l),await Z("translationCollections",l),Ye(a=>a.filter(i=>i.id!==s.id)),Ce(!1),ke(null),N.success(`Table update ${t?"approved":"rejected"} successfully`),Oe.length<=1&&ue(!1)}catch(l){console.error("Error handling update confirmation:",l),N.error(`Failed to ${t?"approve":"reject"} update`)}};return n.useEffect(()=>{if(o.length===0){K(""),D([]),F([]);return}o.find(t=>t.id===y)||(K(o[0].id),D(o[0].mappingTable),F(o[0].relationshipsTable))},[o,y]),e.jsxs("div",{className:"container mx-auto p-4 flex flex-col gap-6 pb-10 relative",children:[e.jsx("div",{ref:fe,className:"absolute top-0"}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Text Translator"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:"outline",onClick:()=>g(!G),"aria-label":"Show translation history",children:[e.jsx(ws,{className:"h-5 w-5 mr-2"}),"History"]}),e.jsxs(c,{variant:"outline",onClick:Ks,"aria-label":"Clear all text",children:[e.jsx(Ta,{className:"h-5 w-5 mr-2"}),"Clear"]})]})]}),e.jsx(Ha,{show:G,history:z,onClear:_s,onUseAgain:Us,arcrylicBg:r}),e.jsx(Da,{inputText:x,setInputText:v,translatedText:f,isTranslating:j,error:C,isCopied:d,onTranslate:$s,onCopy:Hs,selectedModel:h,onModelChange:Bs,models:ae,selectedCollectionId:y,collections:o,onCollectionChange:Se,isCollectionManagementVisible:T,onToggleCollectionManagement:Ys,arcrylicBg:r}),e.jsxs(L,{className:P("p-6",r&&"arcrylic-blur"),children:[e.jsx(Fa,{isVisible:T,settingsPanelRef:Ae,collections:o,collectionToEdit:Y,setCollectionToEdit:ne,editedCollectionName:de,setEditedCollectionName:ie,addNewCollection:zs,useCollection:Qs,renameCollection:Os,requestDeleteCollection:Zs,showDeleteConfirmation:ys,setShowDeleteConfirmation:xe,confirmDeleteCollection:Js,collectionToDelete:me,selectedCollectionId:y,error:C,setError:u,arcrylicBg:r}),e.jsxs(aa,{defaultValue:$e,onValueChange:s=>{Ts(s),ce&&(s==="mapping"?he(le(I,!0)):pe(le($,!1)))},className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold",children:["Translation Mapping Tables",y&&e.jsxs("span",{className:"text-base sm:text-lg font-medium ml-2 text-muted-foreground",children:["-"," ",((as=o.find(s=>s.id===y))==null?void 0:as.name)||""]})]}),e.jsxs(ta,{className:"w-full sm:w-auto mt-2 sm:mt-0",children:[e.jsx(ls,{value:"mapping",className:"text-xs sm:text-sm px-2 sm:px-4 flex-1 sm:flex-initial",children:"Mapping Table"}),e.jsx(ls,{value:"relationships",className:"text-xs sm:text-sm px-2 sm:px-4 flex-1 sm:flex-initial",children:"Relationships Table"})]})]}),e.jsx(rs,{value:"mapping",className:"mt-4",children:e.jsx(Pa,{mappingTable:I,updateMappingEntry:Fs,removeMappingEntry:Ps,addMappingEntry:Ds,showImportArea:ce,toggleImportArea:We,mappingMarkdown:He,setMappingMarkdown:he,revertImport:()=>Je(!0),showRevertButton:Ge,exportMarkdownTable:()=>Qe(!0),importMarkdownTable:()=>Ze(He,!0),error:C,arcrylicBg:r})}),e.jsx(rs,{value:"relationships",className:"mt-4",children:e.jsx(La,{relationshipsTable:$,updateRelationshipEntry:Vs,removeRelationshipEntry:qs,addRelationshipEntry:Ls,showImportArea:ce,toggleImportArea:We,relationshipsMarkdown:De,setRelationshipsMarkdown:pe,revertImport:()=>Je(!1),showRevertButton:Ge,exportMarkdownTable:()=>Qe(!1),importMarkdownTable:()=>Ze(De,!1),error:C,arcrylicBg:r})})]})]}),e.jsx(c,{variant:"default",size:"lg",className:"fixed bottom-6 right-6 rounded-full shadow-lg hover:shadow-xl z-[9999] w-12 h-12 p-0",onClick:()=>{console.log("Button clicked"),Gs()},"aria-label":"Scroll to top",children:e.jsx(Ue,{className:"h-6 w-6"})}),Ke&&e.jsx(Va,{showTableUpdates:Ke,isTableUpdatesAnimating:ks,arcrylicBg:r,pendingTableUpdates:Oe,expandedEntries:As,toggleEntryExpansion:Ms,setShowTableUpdates:ue,setCurrentUpdateEntry:ke,setShowUpdateConfirmation:Ce}),Cs&&V&&e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:e.jsx(L,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Confirm Table Update"}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>{Ce(!1),ke(null)},className:"h-8 w-8 p-0",children:e.jsx(ve,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Added Entries"}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsx("tr",{children:V.type==="mapping"?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"p-2 text-left",children:"Term"}),e.jsx("th",{className:"p-2 text-left",children:"Transcription"}),e.jsx("th",{className:"p-2 text-left",children:"Type"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"p-2 text-left",children:"Character A"}),e.jsx("th",{className:"p-2 text-left",children:"Character B"}),e.jsx("th",{className:"p-2 text-left",children:"Relationship"})]})})}),e.jsx("tbody",{children:V.updates.added.map((s,t)=>e.jsx("tr",{className:"border-t",children:V.type==="mapping"?e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"p-2",children:s.term}),e.jsx("td",{className:"p-2",children:s.transcription}),e.jsx("td",{className:"p-2",children:s.type})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"p-2",children:s.characterA}),e.jsx("td",{className:"p-2",children:s.characterB}),e.jsx("td",{className:"p-2",children:s.relationship})]})},t))})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Updated Entries"}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsx("tr",{children:V.type==="mapping"?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"p-2 text-left",children:"Term"}),e.jsx("th",{className:"p-2 text-left",children:"Transcription"}),e.jsx("th",{className:"p-2 text-left",children:"Type"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"p-2 text-left",children:"Character A"}),e.jsx("th",{className:"p-2 text-left",children:"Character B"}),e.jsx("th",{className:"p-2 text-left",children:"Relationship"})]})})}),e.jsx("tbody",{children:V.updates.updated.map((s,t)=>e.jsx("tr",{className:"border-t",children:V.type==="mapping"?e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"p-2",children:s.term}),e.jsx("td",{className:"p-2",children:s.transcription}),e.jsx("td",{className:"p-2",children:s.type})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"p-2",children:s.characterA}),e.jsx("td",{className:"p-2",children:s.characterB}),e.jsx("td",{className:"p-2",children:s.relationship})]})},t))})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(c,{variant:"outline",onClick:()=>{V&&ss(V,!1)},children:"Reject"}),e.jsx(c,{variant:"default",onClick:()=>{V&&ss(V,!0)},children:"Approve"})]})]})]})})})]})};export{lt as default};
