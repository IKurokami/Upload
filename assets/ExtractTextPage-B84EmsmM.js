import{c as bt,r as E,j as u,a as Te,G as Ml,m as be,H as Qn,B as Q,h as sa,v as ze,I as yn,J as ca,K as Ol,d as Ll,M as Bl,N as $l,P as Ul,e as Ft,O as ql,Q as Hl,T as Vl,U as Wl,V as Gl,W as Kl,X as Yl,Y as Xl,Z as Ql,_ as Zl,$ as Jl,a0 as eo,a1 as to,R as Vt,l as En,a2 as wt,a3 as Pn,a4 as Jt,a5 as _t}from"./index-BzUyL632.js";import{C as no,a as io,S as ht,b as xt,c as gt,d as vt,e as ye,G as _i,f as ro,r as ao,g as lo}from"./select-CD8L-6iK.js";import{X as Wt,S as un}from"./scroll-area-DWjPR9RW.js";import{T as mi,a as hi,b as Pt,c as Nt}from"./index-RzkpjbD8.js";import{C as ua}from"./copy-DVdL76NP.js";import{L as oo,u as so,D as Mi,a as Oi}from"./dialog-CDvu98m5.js";import{A as Li,a as Bi,b as $i,c as Ui,d as qi,e as Hi,f as Vi,g as Wi}from"./alert-dialog-Du2mI55X.js";import{T as Zn}from"./trash-2-CSIMQV7K.js";import{E as co}from"./eye-CnlxmqtP.js";import{T as en,a as uo}from"./index-ByYMR5nM.js";import{C as $t}from"./card-Cvln_JTO.js";import{S as Gi,a as Nn,M as po,Z as fo}from"./zoom-out-BbR4oslP.js";import{S as Ki}from"./square-pen-Dl0kFjAg.js";import{A as Yi}from"./arrow-right-qj_17vxG.js";import{U as Xi}from"./upload-CdJQUnQV.js";import"./index-DdnoAe72.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ho=bt("ArrowUpDown",mo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],go=bt("Filter",xo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pn=bt("Image",vo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],bo=bt("MessageSquare",yo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Qi=bt("Paperclip",wo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],It=bt("RefreshCw",ko);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Zi=bt("Send",jo),Co=({id:e,x:t,y:n,color:i,delay:r,scale:l})=>u.jsx(Ml.svg,{className:"pointer-events-none absolute z-20",initial:{opacity:0,left:t,top:n},animate:{opacity:[0,1,0],scale:[0,l,0],rotate:[75,120,150]},transition:{duration:.8,repeat:1/0,delay:r},width:"21",height:"21",viewBox:"0 0 21 21",children:u.jsx("path",{d:"M9.82531 0.843845C10.0553 0.215178 10.9446 0.215178 11.1746 0.843845L11.8618 2.72026C12.4006 4.19229 12.3916 6.39157 13.5 7.5C14.6084 8.60843 16.8077 8.59935 18.2797 9.13822L20.1561 9.82534C20.7858 10.0553 20.7858 10.9447 20.1561 11.1747L18.2797 11.8618C16.8077 12.4007 14.6084 12.3916 13.5 13.5C12.3916 14.6084 12.4006 16.8077 11.8618 18.2798L11.1746 20.1562C10.9446 20.7858 10.0553 20.7858 9.82531 20.1562L9.13819 18.2798C8.59932 16.8077 8.60843 14.6084 7.5 13.5C6.39157 12.3916 4.19225 12.4007 2.72023 11.8618L0.843814 11.1747C0.215148 10.9447 0.215148 10.0553 0.843814 9.82534L2.72023 9.13822C4.19225 8.59935 6.39157 8.60843 7.5 7.5C8.60843 6.39157 8.59932 4.19229 9.13819 2.72026L9.82531 0.843845Z",fill:i})},e),So=({text:e,colors:t={first:"#9E7AFF",second:"#FE8BBB"},className:n,sparklesCount:i=7,...r})=>{const[l,a]=E.useState([]);return E.useEffect(()=>{const o=()=>{const p=`${Math.random()*100}%`,h=`${Math.random()*100}%`,f=Math.random()>.5?t.first:t.second,y=Math.random()*2,C=Math.random()*1+.3,A=Math.random()*10+1;return{id:`${p}-${h}-${Date.now()}`,x:p,y:h,color:f,delay:y,scale:C,lifespan:A}},c=()=>{const p=Array.from({length:i},o);a(p)},s=()=>{a(p=>p.map(h=>h.lifespan<=0?o():{...h,lifespan:h.lifespan-.1}))};c();const d=setInterval(s,50);return()=>clearInterval(d)},[t.first,t.second,i]),u.jsx("div",{className:Te("text-6xl font-bold",n),...r,style:{"--sparkles-first-color":`${t.first}`,"--sparkles-second-color":`${t.second}`},children:u.jsxs("span",{className:"relative inline-block py-2",children:[l.map(o=>u.jsx(Co,{...o},o.id)),u.jsx("strong",{children:e})]})})},Ji=({text:e,className:t})=>u.jsxs("div",{className:Te("relative overflow-hidden",t),children:[u.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e}),u.jsx(be.div,{style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent)",backgroundSize:"200% 100%"},animate:{backgroundPosition:["200% 0","-200% 0"]},transition:{duration:1.5,ease:"linear",repeat:1/0}})]}),Eo=({active:e,setActive:t,handleRetry:n,copied:i,copyToClipboard:r,positionData:l})=>{const a=E.useRef(null),o=E.useId(),c=()=>t(null);return E.useEffect(()=>{const s=d=>{a.current&&!a.current.contains(d.target)&&t(null)};return e?(document.addEventListener("mousedown",s),document.body.style.overflow="hidden"):document.body.style.overflow="auto",()=>{document.removeEventListener("mousedown",s),document.body.style.overflow="auto"}},[e,t]),E.useEffect(()=>{const s=d=>{d.key==="Escape"&&t(null)};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t]),E.useEffect(()=>{e&&l&&a.current&&(a.current.style.position="fixed",a.current.style.top=`${l.top}px`,a.current.style.left=`${l.left}px`,a.current.style.width=`${l.width}px`,a.current.style.height=`${l.height}px`,a.current.style.borderRadius="0.5rem",a.current.style.zIndex="50",a.current.style.opacity="1",a.current.style.transformOrigin="top left",a.current.getBoundingClientRect(),a.current.style.transition="all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)",a.current.style.top="50%",a.current.style.left="50%",a.current.style.transform="translate(-50%, -50%)",a.current.style.width="100%",a.current.style.maxWidth="64rem",a.current.style.maxHeight="90vh",a.current.style.borderRadius="0.75rem")},[e,l]),e?u.jsxs(u.Fragment,{children:[u.jsx(Qn,{children:e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:c,children:u.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%"}})})}),u.jsx(Qn,{children:e&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-0 md:p-4 h-screen w-screen",children:u.jsx("div",{ref:a,className:"bg-white dark:bg-neutral-900 rounded-xl overflow-hidden flex flex-col w-full h-screen max-w-full max-h-full md:max-w-4xl md:max-h-[90vh]",children:u.jsxs(be.div,{layoutId:`card-${e.id}-${o}`,initial:{opacity:l?1:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%"},children:[u.jsxs("div",{className:"flex justify-between items-center p-2 md:p-4 border-b",children:[u.jsx("div",{className:"font-semibold truncate",children:u.jsx(be.div,{layoutId:`title-${e.id}-${o}`,children:e.file.name})}),u.jsx(Q,{variant:"ghost",size:"icon",onClick:c,children:u.jsx(Wt,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 flex-1 overflow-hidden h-full min-h-0",children:[u.jsxs("div",{className:"relative flex-1 min-h-0 h-[35vh] md:h-[70vh] overflow-auto",children:[u.jsx("div",{className:`w-full h-auto object-contain ${e.isProcessing||e.willProcess?"blur-xs":""}`,children:u.jsx(be.div,{layoutId:`image-${e.id}-${o}`,style:{width:"100%",height:"100%",position:"relative"},children:u.jsx("img",{src:e.url,alt:`Uploaded image ${e.file.name}`,style:{width:"100%",height:"auto",objectFit:"contain"}})})}),e.isProcessing&&u.jsx("div",{className:"absolute inset-0 backdrop-blur-xs flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded",children:[u.jsx("div",{className:"animate-spin",children:u.jsx(It,{className:"h-4 w-4 text-white"})}),u.jsx(Ji,{text:"Processing..."})]})}),e.willProcess&&!e.isProcessing&&u.jsx("div",{className:"absolute inset-0 backdrop-blur-xs flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded",children:[u.jsx(no,{className:"h-4 w-4"}),u.jsx(Ji,{text:"In queue..."})]})})]}),u.jsxs("div",{className:"relative flex-1 min-h-0 h-[35vh] md:h-[70vh] overflow-auto p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h4",{className:"font-medium text-base md:text-lg",children:"Gemini OCR Result"}),u.jsxs("div",{className:"flex gap-2",children:[!e.isProcessing&&!e.willProcess&&e.hasError&&u.jsxs(Q,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>n(e),children:[u.jsx(It,{className:"h-4 w-4"}),u.jsx("span",{children:"Retry"})]}),u.jsx(Q,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:r,disabled:e.isProcessing||e.willProcess,children:i?u.jsxs(u.Fragment,{children:[u.jsx(sa,{className:"h-4 w-4"}),u.jsx("span",{children:"Copied"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ua,{className:"h-4 w-4"}),u.jsx("span",{children:"Copy"})]})})]})]}),u.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:u.jsxs(mi,{defaultValue:"ocr",className:"flex flex-col min-h-0 flex-1",children:[u.jsxs(hi,{className:"mb-2",children:[u.jsx(Pt,{value:"ocr",children:"Answer"}),u.jsx(Pt,{value:"thinking",children:"Image"})]}),u.jsxs("div",{className:"flex-1 min-h-0",children:[u.jsx(Nt,{value:"ocr",className:"flex flex-col h-full min-h-0",children:u.jsx(un,{className:"flex-1 min-h-0 border rounded-md p-2 md:p-3 overflow-y-auto overflow-x-hidden whitespace-pre-wrap break-words break-all text-sm md:text-base font-mono",children:e.isProcessing?"Processing...":e.willProcess?"Waiting in queue...":e.geminiResponse.ocrText})}),u.jsx(Nt,{value:"thinking",className:"flex flex-col h-full min-h-0",children:u.jsx(un,{className:"flex-1 min-h-0 border rounded-md p-2 md:p-3 overflow-y-auto overflow-x-hidden whitespace-pre-wrap break-words break-all text-sm md:text-base font-mono",children:e.isProcessing?"Processing...":e.willProcess?"Waiting in queue...":e.geminiResponse.thinking})})]})]})})]})]})]})})})})]}):null},Po=({images:e,handleRetry:t,copiedAll:n,copyAllToClipboard:i,handleDelete:r,handleDeleteAll:l=()=>{}})=>{const[a,o]=E.useState(null),[c,s]=E.useState(!1),[d,p]=E.useState(null),[h,f]=E.useState("name"),[y,C]=E.useState(!1),[A,w]=E.useState(null),[N,P]=E.useState(null),[F,L]=E.useState(!1),[S,B]=E.useState(!1),[W,q]=E.useState(null),j=E.useRef([]),R=E.useId(),D=(x,H)=>{const K=H.currentTarget.getBoundingClientRect(),we=window.innerHeight*.8;p({top:K.top,left:K.left,width:K.width,height:we}),o(x)},M=()=>{a&&a.geminiResponse.ocrText?(navigator.clipboard.writeText(a.geminiResponse.ocrText),s(!0),ze.success(`Copied text from ${a.file.name}`),setTimeout(()=>s(!1),2e3)):ze.error("No text available to copy")},T=()=>{o(null),p(null)},O=(x,H)=>{const ie=j.current[H];ie&&(w(ie.getBoundingClientRect()),P(x),C(!0))},te=x=>{const H=[{label:"View",icon:u.jsx(co,{className:"w-4 h-4"}),onClick:()=>{o(x),C(!1)}}];return x.hasError&&H.push({label:"Retry",icon:u.jsx(It,{className:"w-4 h-4"}),onClick:()=>t(x)}),H.push({label:"Remove",icon:u.jsx(Wt,{className:"w-4 h-4"}),onClick:()=>ee(x.id),destructive:!0}),H},ne=(x,H)=>x.localeCompare(H,void 0,{numeric:!0,sensitivity:"base"}),oe=E.useMemo(()=>{const x=[...e];switch(h){case"name":return x.sort((H,ie)=>ne(H.file.name,ie.file.name));case"timestamp":return x.sort((H,ie)=>H.timestamp?ie.timestamp?ie.timestamp-H.timestamp:-1:1);case"status":return x.sort((H,ie)=>{const K=me=>!me.isProcessing&&!me.willProcess&&!me.hasError?1:me.isProcessing?2:me.willProcess?3:me.hasError?4:5;return K(H)-K(ie)});default:return x}},[e,h]),ee=x=>{q(x),L(!0)},v=()=>{B(!0)},J=()=>{W&&(r(W),q(null)),L(!1)},ce=()=>{l(),B(!1)};return(e==null?void 0:e.length)===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-10rem)] text-muted-foreground",children:[u.jsx(io,{className:"h-10 w-10 mb-2 text-muted-foreground/50"}),u.jsx("p",{children:"No images uploaded yet"}),u.jsx("p",{className:"text-xs mt-1 text-muted-foreground/70",children:"Use the upload button to add images for text extraction"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col bg-background rounded-md border",children:[u.jsxs("div",{className:"p-3 border-b flex flex-col xs:flex-row xs:justify-between xs:items-center gap-2",children:[u.jsxs("h2",{className:"text-base font-medium mb-2 xs:mb-0",children:["Processed Images (",e==null?void 0:e.length,")"]}),u.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center gap-2 w-full xs:w-auto",children:[u.jsxs(ht,{value:h,onValueChange:x=>f(x),children:[u.jsx(xt,{className:"h-8 w-full xs:w-[140px]",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ho,{className:"h-3.5 w-3.5"}),u.jsx(gt,{placeholder:"Sort by"})]})}),u.jsxs(vt,{children:[u.jsx(ye,{value:"default",children:"Default"}),u.jsx(ye,{value:"name",children:"Filename"}),u.jsx(ye,{value:"timestamp",children:"Time added"}),u.jsx(ye,{value:"status",children:"Status"})]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 w-full xs:w-auto",children:[u.jsx(Q,{variant:"outline",size:"sm",onClick:i,disabled:!e.some(x=>!x.isProcessing&&!x.hasError),className:Te("flex items-center gap-1 h-7 text-xs transition-all duration-200 px-2 flex-1 xs:flex-initial",n&&"bg-primary text-primary-foreground"),children:n?u.jsxs(u.Fragment,{children:[u.jsx(sa,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden xs:inline",children:"Copied"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ua,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden xs:inline",children:"Copy All"})]})}),u.jsxs(Q,{variant:"outline",size:"sm",onClick:v,className:"flex items-center gap-1 h-7 text-xs text-destructive hover:bg-destructive hover:text-destructive-foreground transition-colors px-2 flex-1 xs:flex-initial",children:[u.jsx(Zn,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden xs:inline",children:"Remove All"})]})]})]})]}),u.jsx(un,{className:"flex-1",children:u.jsx("div",{className:"p-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:oe.map((x,H)=>u.jsx(No,{image:x,index:H,id:R,handleImageClick:D,handleRetry:t,handleDelete:ee,handleLongPress:O,cardRefs:j},x.id))})})]}),u.jsx(Li,{open:F,onOpenChange:L,children:u.jsxs(Bi,{children:[u.jsxs($i,{children:[u.jsx(Ui,{children:"Confirm Deletion"}),u.jsx(qi,{children:"Are you sure you want to delete this image? This action cannot be undone."})]}),u.jsxs(Hi,{children:[u.jsx(Vi,{children:"Cancel"}),u.jsx(Wi,{onClick:J,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),u.jsx(Li,{open:S,onOpenChange:B,children:u.jsxs(Bi,{children:[u.jsxs($i,{children:[u.jsx(Ui,{children:"Delete All Images"}),u.jsxs(qi,{children:["Are you sure you want to delete all ",e==null?void 0:e.length," images? This action cannot be undone."]})]}),u.jsxs(Hi,{children:[u.jsx(Vi,{children:"Cancel"}),u.jsx(Wi,{onClick:ce,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete All"})]})]})}),y&&N&&u.jsx(oo,{rect:A,actions:te(N),onClose:()=>C(!1),renderHighlighted:()=>{var x;return u.jsxs("div",{style:{width:A==null?void 0:A.width,height:A==null?void 0:A.height,borderRadius:12,boxShadow:"0 0 0 4px rgba(0, 0, 0, 0.25)",border:"2px solid rgba(110, 152, 219, 0.41)6",background:"#fff",overflow:"hidden",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("img",{src:N.url,alt:N.file.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:12}}),u.jsx("span",{style:{position:"absolute",top:4,left:4,fontSize:12,color:"#fff",background:"rgba(0,0,0,0.5)",padding:"2px 6px",borderRadius:4,zIndex:1},children:((x=N.file.name)==null?void 0:x.length)>15?`${N.file.name.substring(0,15)}...`:N.file.name})]})}}),u.jsx(Eo,{active:a,setActive:T,handleRetry:t,copied:c,copyToClipboard:M,positionData:d,id:(a==null?void 0:a.id)||""})]})};function No({image:e,index:t,id:n,handleImageClick:i,handleRetry:r,handleDelete:l,handleLongPress:a,cardRefs:o}){const c=so({onLongPress:()=>a(e,t),delay:500});return u.jsx("div",{className:"relative group rounded-lg overflow-hidden border shadow-sm hover:shadow-md transition-all duration-300 animate-in fade-in-0 zoom-in-95 cursor-pointer",style:{animationDelay:`${t*30}ms`,touchAction:"manipulation"},onClick:s=>i(e,s),ref:s=>{o.current[t]=s},...c,children:u.jsxs(be.div,{layoutId:`card-${e.id}-${n}`,style:{width:"100%",height:"100%"},children:[u.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[u.jsx("div",{className:"w-full h-full",children:u.jsx(be.div,{layoutId:`image-${e.id}-${n}`,style:{width:"100%",height:"100%"},children:u.jsx("img",{src:e.url,alt:e.file.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),u.jsxs("div",{className:"p-2 bg-background border-t",children:[u.jsx("div",{className:"text-sm font-medium truncate mb-1",children:u.jsx(be.div,{layoutId:`title-${e.id}-${n}`,children:e.file.name})}),e.isProcessing?u.jsxs("div",{className:"flex items-center text-xs text-amber-500",children:[u.jsx("div",{className:"animate-spin mr-1 h-3 w-3 border-2 border-amber-500 border-t-transparent rounded-full"}),"Processing..."]}):e.willProcess?u.jsx("div",{className:"text-xs text-muted-foreground",children:"Queued for processing"}):e.hasError?u.jsx("div",{className:"text-xs text-destructive mb-1",children:"Error processing image"}):u.jsx("div",{className:"text-xs text-muted-foreground mb-1 overflow-x-auto break-words",style:{maxHeight:"4.5em",WebkitLineClamp:3,display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.geminiResponse.ocrText?e.geminiResponse.ocrText:"No text extracted"}),u.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.hasError?u.jsxs(Q,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:s=>{s.stopPropagation(),r(e)},children:[u.jsx(It,{className:"h-3 w-3 mr-1"}),"Retry"]}):u.jsx("span",{className:"text-[10px] text-muted-foreground/70",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():""}),u.jsxs(Q,{variant:"ghost",size:"sm",className:"h-7 text-xs text-destructive hover:text-destructive ml-auto",onClick:s=>{s.stopPropagation(),l(e.id)},children:[u.jsx(Wt,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]}),u.jsxs("div",{className:"absolute top-2 right-2",children:[e.isProcessing&&u.jsx("div",{className:"bg-amber-500 text-white text-xs px-2 py-0.5 rounded-full animate-pulse",children:"Processing"}),e.willProcess&&u.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Queued"}),e.hasError&&u.jsx("div",{className:"bg-destructive text-destructive-foreground text-xs px-2 py-0.5 rounded-full",children:"Error"}),!e.isProcessing&&!e.willProcess&&!e.hasError&&u.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Complete"})]})]})})}function Io(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Ao=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Do=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zo={};function er(e,t){return(zo.jsx?Do:Ao).test(e)}const To=/[ \t\n\f\r]/g;function Ro(e){return typeof e=="object"?e.type==="text"?tr(e.value):!1:tr(e)}function tr(e){return e.replace(To,"")===""}class Xt{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Xt.prototype.normal={};Xt.prototype.property={};Xt.prototype.space=void 0;function pa(e,t){const n={},i={};for(const r of e)Object.assign(n,r.property),Object.assign(i,r.normal);return new Xt(n,i,t)}function Jn(e){return e.toLowerCase()}class Oe{constructor(t,n){this.attribute=n,this.property=t}}Oe.prototype.attribute="";Oe.prototype.booleanish=!1;Oe.prototype.boolean=!1;Oe.prototype.commaOrSpaceSeparated=!1;Oe.prototype.commaSeparated=!1;Oe.prototype.defined=!1;Oe.prototype.mustUseProperty=!1;Oe.prototype.number=!1;Oe.prototype.overloadedBoolean=!1;Oe.prototype.property="";Oe.prototype.spaceSeparated=!1;Oe.prototype.space=void 0;let Fo=0;const G=kt(),ve=kt(),da=kt(),z=kt(),se=kt(),Et=kt(),$e=kt();function kt(){return 2**++Fo}const ei=Object.freeze(Object.defineProperty({__proto__:null,boolean:G,booleanish:ve,commaOrSpaceSeparated:$e,commaSeparated:Et,number:z,overloadedBoolean:da,spaceSeparated:se},Symbol.toStringTag,{value:"Module"})),In=Object.keys(ei);class xi extends Oe{constructor(t,n,i,r){let l=-1;if(super(t,n),nr(this,"space",r),typeof i=="number")for(;++l<In.length;){const a=In[l];nr(this,In[l],(i&ei[a])===ei[a])}}}xi.prototype.defined=!0;function nr(e,t,n){n&&(e[t]=n)}function zt(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const l=new xi(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[Jn(i)]=i,n[Jn(l.attribute)]=i}return new Xt(t,n,e.space)}const fa=zt({properties:{ariaActiveDescendant:null,ariaAtomic:ve,ariaAutoComplete:null,ariaBusy:ve,ariaChecked:ve,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:se,ariaCurrent:null,ariaDescribedBy:se,ariaDetails:null,ariaDisabled:ve,ariaDropEffect:se,ariaErrorMessage:null,ariaExpanded:ve,ariaFlowTo:se,ariaGrabbed:ve,ariaHasPopup:null,ariaHidden:ve,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:se,ariaLevel:z,ariaLive:null,ariaModal:ve,ariaMultiLine:ve,ariaMultiSelectable:ve,ariaOrientation:null,ariaOwns:se,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:ve,ariaReadOnly:ve,ariaRelevant:null,ariaRequired:ve,ariaRoleDescription:se,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:ve,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ma(e,t){return t in e?e[t]:t}function ha(e,t){return ma(e,t.toLowerCase())}const _o=zt({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Et,acceptCharset:se,accessKey:se,action:null,allow:null,allowFullScreen:G,allowPaymentRequest:G,allowUserMedia:G,alt:null,as:null,async:G,autoCapitalize:null,autoComplete:se,autoFocus:G,autoPlay:G,blocking:se,capture:null,charSet:null,checked:G,cite:null,className:se,cols:z,colSpan:null,content:null,contentEditable:ve,controls:G,controlsList:se,coords:z|Et,crossOrigin:null,data:null,dateTime:null,decoding:null,default:G,defer:G,dir:null,dirName:null,disabled:G,download:da,draggable:ve,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:G,formTarget:null,headers:se,height:z,hidden:G,high:z,href:null,hrefLang:null,htmlFor:se,httpEquiv:se,id:null,imageSizes:null,imageSrcSet:null,inert:G,inputMode:null,integrity:null,is:null,isMap:G,itemId:null,itemProp:se,itemRef:se,itemScope:G,itemType:se,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:G,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:G,muted:G,name:null,nonce:null,noModule:G,noValidate:G,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:G,optimum:z,pattern:null,ping:se,placeholder:null,playsInline:G,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:G,referrerPolicy:null,rel:se,required:G,reversed:G,rows:z,rowSpan:z,sandbox:se,scope:null,scoped:G,seamless:G,selected:G,shadowRootClonable:G,shadowRootDelegatesFocus:G,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:ve,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:G,useMap:null,value:ve,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:se,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:G,declare:G,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:G,noHref:G,noShade:G,noWrap:G,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:ve,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:G,disableRemotePlayback:G,prefix:null,property:null,results:z,security:null,unselectable:null},space:"html",transform:ha}),Mo=zt({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$e,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:se,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:G,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Et,g2:Et,glyphName:Et,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:$e,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:se,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$e,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$e,rev:$e,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$e,requiredFeatures:$e,requiredFonts:$e,requiredFormats:$e,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:$e,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$e,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$e,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ma}),xa=zt({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),ga=zt({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ha}),va=zt({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Oo={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Lo=/[A-Z]/g,ir=/-[a-z]/g,Bo=/^data[-\w.:]+$/i;function $o(e,t){const n=Jn(t);let i=t,r=Oe;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Bo.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(ir,qo);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!ir.test(l)){let a=l.replace(Lo,Uo);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}r=xi}return new r(i,t)}function Uo(e){return"-"+e.toLowerCase()}function qo(e){return e.charAt(1).toUpperCase()}const Ho=pa([fa,_o,xa,ga,va],"html"),gi=pa([fa,Mo,xa,ga,va],"svg");function Vo(e){return e.join(" ").trim()}var jt={},An,rr;function Wo(){if(rr)return An;rr=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,s="/",d="*",p="",h="comment",f="declaration";An=function(C,A){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];A=A||{};var w=1,N=1;function P(M){var T=M.match(t);T&&(w+=T.length);var O=M.lastIndexOf(c);N=~O?M.length-O:N+M.length}function F(){var M={line:w,column:N};return function(T){return T.position=new L(M),W(),T}}function L(M){this.start=M,this.end={line:w,column:N},this.source=A.source}L.prototype.content=C;function S(M){var T=new Error(A.source+":"+w+":"+N+": "+M);if(T.reason=M,T.filename=A.source,T.line=w,T.column=N,T.source=C,!A.silent)throw T}function B(M){var T=M.exec(C);if(T){var O=T[0];return P(O),C=C.slice(O.length),T}}function W(){B(n)}function q(M){var T;for(M=M||[];T=j();)T!==!1&&M.push(T);return M}function j(){var M=F();if(!(s!=C.charAt(0)||d!=C.charAt(1))){for(var T=2;p!=C.charAt(T)&&(d!=C.charAt(T)||s!=C.charAt(T+1));)++T;if(T+=2,p===C.charAt(T-1))return S("End of comment missing");var O=C.slice(2,T-2);return N+=2,P(O),C=C.slice(T),N+=2,M({type:h,comment:O})}}function R(){var M=F(),T=B(i);if(T){if(j(),!B(r))return S("property missing ':'");var O=B(l),te=M({type:f,property:y(T[0].replace(e,p)),value:O?y(O[0].replace(e,p)):p});return B(a),te}}function D(){var M=[];q(M);for(var T;T=R();)T!==!1&&(M.push(T),q(M));return M}return W(),D()};function y(C){return C?C.replace(o,p):p}return An}var ar;function Go(){if(ar)return jt;ar=1;var e=jt&&jt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=n;var t=e(Wo());function n(i,r){var l=null;if(!i||typeof i!="string")return l;var a=(0,t.default)(i),o=typeof r=="function";return a.forEach(function(c){if(c.type==="declaration"){var s=c.property,d=c.value;o?r(s,d,c):d&&(l=l||{},l[s]=d)}}),l}return jt}var Mt={},lr;function Ko(){if(lr)return Mt;lr=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,l=function(s){return!s||n.test(s)||e.test(s)},a=function(s,d){return d.toUpperCase()},o=function(s,d){return"".concat(d,"-")},c=function(s,d){return d===void 0&&(d={}),l(s)?s:(s=s.toLowerCase(),d.reactCompat?s=s.replace(r,o):s=s.replace(i,o),s.replace(t,a))};return Mt.camelCase=c,Mt}var Ot,or;function Yo(){if(or)return Ot;or=1;var e=Ot&&Ot.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=e(Go()),n=Ko();function i(r,l){var a={};return!r||typeof r!="string"||(0,t.default)(r,function(o,c){o&&c&&(a[(0,n.camelCase)(o,l)]=c)}),a}return i.default=i,Ot=i,Ot}var Xo=Yo();const Qo=yn(Xo),ya=ba("end"),vi=ba("start");function ba(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Zo(e){const t=vi(e),n=ya(e);if(t&&n)return{start:t,end:n}}function Ut(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?sr(e.position):"start"in e||"end"in e?sr(e):"line"in e||"column"in e?ti(e):""}function ti(e){return cr(e&&e.line)+":"+cr(e&&e.column)}function sr(e){return ti(e&&e.start)+"-"+ti(e&&e.end)}function cr(e){return e&&typeof e=="number"?e:1}class Ie extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",l={},a=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?r=t:!l.cause&&t&&(a=!0,r=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof i=="string"){const c=i.indexOf(":");c===-1?l.ruleId=i:(l.source=i.slice(0,c),l.ruleId=i.slice(c+1))}if(!l.place&&l.ancestors&&l.ancestors){const c=l.ancestors[l.ancestors.length-1];c&&(l.place=c.position)}const o=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=o?o.line:void 0,this.name=Ut(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=a&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ie.prototype.file="";Ie.prototype.name="";Ie.prototype.reason="";Ie.prototype.message="";Ie.prototype.stack="";Ie.prototype.column=void 0;Ie.prototype.line=void 0;Ie.prototype.ancestors=void 0;Ie.prototype.cause=void 0;Ie.prototype.fatal=void 0;Ie.prototype.place=void 0;Ie.prototype.ruleId=void 0;Ie.prototype.source=void 0;const yi={}.hasOwnProperty,Jo=new Map,es=/[A-Z]/g,ts=new Set(["table","tbody","thead","tfoot","tr"]),ns=new Set(["td","th"]),wa="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function is(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=ps(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=us(n,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?gi:Ho,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=ka(r,e,void 0);return l&&typeof l!="string"?l:r.create(e,r.Fragment,{children:l||void 0},void 0)}function ka(e,t,n){if(t.type==="element")return rs(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return as(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return os(e,t,n);if(t.type==="mdxjsEsm")return ls(e,t);if(t.type==="root")return ss(e,t,n);if(t.type==="text")return cs(e,t)}function rs(e,t,n){const i=e.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=gi,e.schema=r),e.ancestors.push(t);const l=Ca(e,t.tagName,!1),a=ds(e,t);let o=wi(e,t);return ts.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!Ro(c):!0})),ja(e,a,l,t),bi(a,o),e.ancestors.pop(),e.schema=i,e.create(t,l,a,n)}function as(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Gt(e,t.position)}function ls(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Gt(e,t.position)}function os(e,t,n){const i=e.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=gi,e.schema=r),e.ancestors.push(t);const l=t.name===null?e.Fragment:Ca(e,t.name,!0),a=fs(e,t),o=wi(e,t);return ja(e,a,l,t),bi(a,o),e.ancestors.pop(),e.schema=i,e.create(t,l,a,n)}function ss(e,t,n){const i={};return bi(i,wi(e,t)),e.create(t,e.Fragment,i,n)}function cs(e,t){return t.value}function ja(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function bi(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function us(e,t,n){return i;function i(r,l,a,o){const s=Array.isArray(a.children)?n:t;return o?s(l,a,o):s(l,a)}}function ps(e,t){return n;function n(i,r,l,a){const o=Array.isArray(l.children),c=vi(i);return t(r,l,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function ds(e,t){const n={};let i,r;for(r in t.properties)if(r!=="children"&&yi.call(t.properties,r)){const l=ms(e,r,t.properties[r]);if(l){const[a,o]=l;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&ns.has(t.tagName)?i=o:n[a]=o}}if(i){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function fs(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const l=i.data.estree.body[0];l.type;const a=l.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Gt(e,t.position);else{const r=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const o=i.value.data.estree.body[0];o.type,l=e.evaluater.evaluateExpression(o.expression)}else Gt(e,t.position);else l=i.value===null?!0:i.value;n[r]=l}return n}function wi(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:Jo;for(;++i<t.children.length;){const l=t.children[i];let a;if(e.passKeys){const c=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(c){const s=r.get(c)||0;a=c+"-"+s,r.set(c,s+1)}}const o=ka(e,l,a);o!==void 0&&n.push(o)}return n}function ms(e,t,n){const i=$o(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Io(n):Vo(n)),i.property==="style"){let r=typeof n=="object"?n:hs(e,String(n));return e.stylePropertyNameCase==="css"&&(r=xs(r)),["style",r]}return[e.elementAttributeNameCase==="react"&&i.space?Oo[i.property]||i.property:i.attribute,n]}}function hs(e,t){try{return Qo(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,r=new Ie("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=wa+"#cannot-parse-style-attribute",r}}function Ca(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let l=-1,a;for(;++l<r.length;){const o=er(r[l])?{type:"Identifier",name:r[l]}:{type:"Literal",value:r[l]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(l&&o.type==="Literal"),optional:!1}:o}i=a}else i=er(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return yi.call(e.components,r)?e.components[r]:r}if(e.evaluater)return e.evaluater.evaluateExpression(i);Gt(e)}function Gt(e,t){const n=new Ie("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wa+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xs(e){const t={};let n;for(n in e)yi.call(e,n)&&(t[gs(n)]=e[n]);return t}function gs(e){let t=e.replace(es,vs);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function vs(e){return"-"+e.toLowerCase()}const Dn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ys={};function ki(e,t){const n=ys,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Sa(e,i,r)}function Sa(e,t,n){if(bs(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ur(e.children,t,n)}return Array.isArray(e)?ur(e,t,n):""}function ur(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=Sa(e[r],t,n);return i.join("")}function bs(e){return!!(e&&typeof e=="object")}const pr=document.createElement("i");function ji(e){const t="&"+e+";";pr.innerHTML=t;const n=pr.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ue(e,t,n,i){const r=e.length;let l=0,a;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);l<i.length;)a=i.slice(l,l+1e4),a.unshift(t,0),e.splice(...a),l+=1e4,t+=1e4}function He(e,t){return e.length>0?(Ue(e,e.length,0,t),e):t}const dr={}.hasOwnProperty;function Ea(e){const t={};let n=-1;for(;++n<e.length;)ws(t,e[n]);return t}function ws(e,t){let n;for(n in t){const r=(dr.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let a;if(l)for(a in l){dr.call(r,a)||(r[a]=[]);const o=l[a];ks(r[a],Array.isArray(o)?o:o?[o]:[])}}}function ks(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Ue(e,0,0,i)}function Pa(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ge(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Re=ut(/[A-Za-z]/),Ne=ut(/[\dA-Za-z]/),js=ut(/[#-'*+\--9=?A-Z^-~]/);function dn(e){return e!==null&&(e<32||e===127)}const ni=ut(/\d/),Cs=ut(/[\dA-Fa-f]/),Ss=ut(/[!-/:-@[-`{-~]/);function U(e){return e!==null&&e<-2}function le(e){return e!==null&&(e<0||e===32)}function Y(e){return e===-2||e===-1||e===32}const bn=ut(new RegExp("\\p{P}|\\p{S}","u")),yt=ut(/\s/);function ut(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Tt(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const l=e.charCodeAt(n);let a="";if(l===37&&Ne(e.charCodeAt(n+1))&&Ne(e.charCodeAt(n+2)))r=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(a=String.fromCharCode(l));else if(l>55295&&l<57344){const o=e.charCodeAt(n+1);l<56320&&o>56319&&o<57344?(a=String.fromCharCode(l,o),r=1):a="�"}else a=String.fromCharCode(l);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+r+1,a=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}function Z(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(c){return Y(c)?(e.enter(n),o(c)):t(c)}function o(c){return Y(c)&&l++<r?(e.consume(c),o):(e.exit(n),t(c))}}const Es={tokenize:Ps};function Ps(e){const t=e.attempt(this.parser.constructs.contentInitial,i,r);let n;return t;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Z(e,t,"linePrefix")}function r(o){return e.enter("paragraph"),l(o)}function l(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return U(o)?(e.consume(o),e.exit("chunkText"),l):(e.consume(o),a)}}const Ns={tokenize:Is},fr={tokenize:As};function Is(e){const t=this,n=[];let i=0,r,l,a;return o;function o(P){if(i<n.length){const F=n[i];return t.containerState=F[1],e.attempt(F[0].continuation,c,s)(P)}return s(P)}function c(P){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&N();const F=t.events.length;let L=F,S;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){S=t.events[L][1].end;break}w(i);let B=F;for(;B<t.events.length;)t.events[B][1].end={...S},B++;return Ue(t.events,L+1,0,t.events.slice(F)),t.events.length=B,s(P)}return o(P)}function s(P){if(i===n.length){if(!r)return h(P);if(r.currentConstruct&&r.currentConstruct.concrete)return y(P);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fr,d,p)(P)}function d(P){return r&&N(),w(i),h(P)}function p(P){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,y(P)}function h(P){return t.containerState={},e.attempt(fr,f,y)(P)}function f(P){return i++,n.push([t.currentConstruct,t.containerState]),h(P)}function y(P){if(P===null){r&&N(),w(0),e.consume(P);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:l}),C(P)}function C(P){if(P===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(P);return}return U(P)?(e.consume(P),A(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(P),C)}function A(P,F){const L=t.sliceStream(P);if(F&&L.push(null),P.previous=l,l&&(l.next=P),l=P,r.defineSkip(P.start),r.write(L),t.parser.lazy[P.start.line]){let S=r.events.length;for(;S--;)if(r.events[S][1].start.offset<a&&(!r.events[S][1].end||r.events[S][1].end.offset>a))return;const B=t.events.length;let W=B,q,j;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){if(q){j=t.events[W][1].end;break}q=!0}for(w(i),S=B;S<t.events.length;)t.events[S][1].end={...j},S++;Ue(t.events,W+1,0,t.events.slice(B)),t.events.length=S}}function w(P){let F=n.length;for(;F-- >P;){const L=n[F];t.containerState=L[1],L[0].exit.call(t,e)}n.length=P}function N(){r.write([null]),l=void 0,r=void 0,t.containerState._closeFlow=void 0}}function As(e,t,n){return Z(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function At(e){if(e===null||le(e)||yt(e))return 1;if(bn(e))return 2}function wn(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const l=e[r].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const ii={name:"attention",resolveAll:Ds,tokenize:zs};function Ds(e,t){let n=-1,i,r,l,a,o,c,s,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[i][1].end},h={...e[n][1].start};mr(p,-c),mr(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[i][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},l={type:c>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},r={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[i][1].end={...a.start},e[n][1].start={...o.end},s=[],e[i][1].end.offset-e[i][1].start.offset&&(s=He(s,[["enter",e[i][1],t],["exit",e[i][1],t]])),s=He(s,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",l,t]]),s=He(s,wn(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),s=He(s,[["exit",l,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,s=He(s,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ue(e,i-1,n-i+3,s),n=i+s.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zs(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=At(i);let l;return a;function a(c){return l=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===l)return e.consume(c),o;const s=e.exit("attentionSequence"),d=At(c),p=!d||d===2&&r||n.includes(c),h=!r||r===2&&d||n.includes(i);return s._open=!!(l===42?p:p&&(r||!h)),s._close=!!(l===42?h:h&&(d||!p)),t(c)}}function mr(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ts={name:"autolink",tokenize:Rs};function Rs(e,t,n){let i=0;return r;function r(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(f){return Re(f)?(e.consume(f),a):f===64?n(f):s(f)}function a(f){return f===43||f===45||f===46||Ne(f)?(i=1,o(f)):s(f)}function o(f){return f===58?(e.consume(f),i=0,c):(f===43||f===45||f===46||Ne(f))&&i++<32?(e.consume(f),o):(i=0,s(f))}function c(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||dn(f)?n(f):(e.consume(f),c)}function s(f){return f===64?(e.consume(f),d):js(f)?(e.consume(f),s):n(f)}function d(f){return Ne(f)?p(f):n(f)}function p(f){return f===46?(e.consume(f),i=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||Ne(f))&&i++<63){const y=f===45?h:p;return e.consume(f),y}return n(f)}}const Qt={partial:!0,tokenize:Fs};function Fs(e,t,n){return i;function i(l){return Y(l)?Z(e,r,"linePrefix")(l):r(l)}function r(l){return l===null||U(l)?t(l):n(l)}}const Na={continuation:{tokenize:Ms},exit:Os,name:"blockQuote",tokenize:_s};function _s(e,t,n){const i=this;return r;function r(a){if(a===62){const o=i.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),l}return n(a)}function l(a){return Y(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Ms(e,t,n){const i=this;return r;function r(a){return Y(a)?Z(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):l(a)}function l(a){return e.attempt(Na,t,n)(a)}}function Os(e){e.exit("blockQuote")}const Ia={name:"characterEscape",tokenize:Ls};function Ls(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),r}function r(l){return Ss(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Aa={name:"characterReference",tokenize:Bs};function Bs(e,t,n){const i=this;let r=0,l,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),s):(e.enter("characterReferenceValue"),l=31,a=Ne,d(p))}function s(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,a=Cs,d):(e.enter("characterReferenceValue"),l=7,a=ni,d(p))}function d(p){if(p===59&&r){const h=e.exit("characterReferenceValue");return a===Ne&&!ji(i.sliceSerialize(h))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&r++<l?(e.consume(p),d):n(p)}}const hr={partial:!0,tokenize:Us},xr={concrete:!0,name:"codeFenced",tokenize:$s};function $s(e,t,n){const i=this,r={partial:!0,tokenize:L};let l=0,a=0,o;return c;function c(S){return s(S)}function s(S){const B=i.events[i.events.length-1];return l=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(a++,e.consume(S),d):a<3?n(S):(e.exit("codeFencedFenceSequence"),Y(S)?Z(e,p,"whitespace")(S):p(S))}function p(S){return S===null||U(S)?(e.exit("codeFencedFence"),i.interrupt?t(S):e.check(hr,C,F)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||U(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(S)):Y(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Z(e,f,"whitespace")(S)):S===96&&S===o?n(S):(e.consume(S),h)}function f(S){return S===null||U(S)?p(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||U(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(S)):S===96&&S===o?n(S):(e.consume(S),y)}function C(S){return e.attempt(r,F,A)(S)}function A(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),w}function w(S){return l>0&&Y(S)?Z(e,N,"linePrefix",l+1)(S):N(S)}function N(S){return S===null||U(S)?e.check(hr,C,F)(S):(e.enter("codeFlowValue"),P(S))}function P(S){return S===null||U(S)?(e.exit("codeFlowValue"),N(S)):(e.consume(S),P)}function F(S){return e.exit("codeFenced"),t(S)}function L(S,B,W){let q=0;return j;function j(O){return S.enter("lineEnding"),S.consume(O),S.exit("lineEnding"),R}function R(O){return S.enter("codeFencedFence"),Y(O)?Z(S,D,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):D(O)}function D(O){return O===o?(S.enter("codeFencedFenceSequence"),M(O)):W(O)}function M(O){return O===o?(q++,S.consume(O),M):q>=a?(S.exit("codeFencedFenceSequence"),Y(O)?Z(S,T,"whitespace")(O):T(O)):W(O)}function T(O){return O===null||U(O)?(S.exit("codeFencedFence"),B(O)):W(O)}}}function Us(e,t,n){const i=this;return r;function r(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l)}function l(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}const zn={name:"codeIndented",tokenize:Hs},qs={partial:!0,tokenize:Vs};function Hs(e,t,n){const i=this;return r;function r(s){return e.enter("codeIndented"),Z(e,l,"linePrefix",5)(s)}function l(s){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(s):n(s)}function a(s){return s===null?c(s):U(s)?e.attempt(qs,a,c)(s):(e.enter("codeFlowValue"),o(s))}function o(s){return s===null||U(s)?(e.exit("codeFlowValue"),a(s)):(e.consume(s),o)}function c(s){return e.exit("codeIndented"),t(s)}}function Vs(e,t,n){const i=this;return r;function r(a){return i.parser.lazy[i.now().line]?n(a):U(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r):Z(e,l,"linePrefix",5)(a)}function l(a){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):U(a)?r(a):n(a)}}const Ws={name:"codeText",previous:Ks,resolve:Gs,tokenize:Ys};function Gs(e){let t=e.length-4,n=3,i,r;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)r===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(r=i):(i===t||e[i][1].type==="lineEnding")&&(e[r][1].type="codeTextData",i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return e}function Ks(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ys(e,t,n){let i=0,r,l;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),i++,o):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(l=e.enter("codeTextSequence"),r=0,d(p)):U(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),s(p))}function s(p){return p===null||p===32||p===96||U(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),s)}function d(p){return p===96?(e.consume(p),r++,d):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(l.type="codeTextData",s(p))}}class Xs{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const r=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Lt(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Lt(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Lt(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Lt(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Lt(this.left,n.reverse())}}}function Lt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Da(e){const t={};let n=-1,i,r,l,a,o,c,s;const d=new Xs(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(i=d.get(n),n&&i[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=i[1]._tokenizer.events,l=0,l<c.length&&c[l][1].type==="lineEndingBlank"&&(l+=2),l<c.length&&c[l][1].type==="content"))for(;++l<c.length&&c[l][1].type!=="content";)c[l][1].type==="chunkText"&&(c[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,Qs(d,n)),n=t[n],s=!0);else if(i[1]._container){for(l=n,r=void 0;l--;)if(a=d.get(l),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=l);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},o=d.slice(r,n),o.unshift(i),d.splice(r,n-r+1,o))}}return Ue(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!s}function Qs(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const l=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],s={};let d,p,h=-1,f=n,y=0,C=0;const A=[C];for(;f;){for(;e.get(++r)[1]!==f;);l.push(r),f._tokenizer||(d=i.sliceStream(f),f.next||d.push(null),p&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=f,f=f.next}for(f=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(C=h+1,A.push(C),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):A.pop(),h=A.length;h--;){const w=o.slice(A[h],A[h+1]),N=l.pop();c.push([N,N+w.length-1]),e.splice(N,2,w)}for(c.reverse(),h=-1;++h<c.length;)s[y+c[h][0]]=y+c[h][1],y+=c[h][1]-c[h][0]-1;return s}const Zs={resolve:ec,tokenize:tc},Js={partial:!0,tokenize:nc};function ec(e){return Da(e),e}function tc(e,t){let n;return i;function i(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?l(o):U(o)?e.check(Js,a,l)(o):(e.consume(o),r)}function l(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function nc(e,t,n){const i=this;return r;function r(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Z(e,l,"linePrefix")}function l(a){if(a===null||U(a))return n(a);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,n,t)(a)}}function za(e,t,n,i,r,l,a,o,c){const s=c||Number.POSITIVE_INFINITY;let d=0;return p;function p(w){return w===60?(e.enter(i),e.enter(r),e.enter(l),e.consume(w),e.exit(l),h):w===null||w===32||w===41||dn(w)?n(w):(e.enter(i),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),C(w))}function h(w){return w===62?(e.enter(l),e.consume(w),e.exit(l),e.exit(r),e.exit(i),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===62?(e.exit("chunkString"),e.exit(o),h(w)):w===null||w===60||U(w)?n(w):(e.consume(w),w===92?y:f)}function y(w){return w===60||w===62||w===92?(e.consume(w),f):f(w)}function C(w){return!d&&(w===null||w===41||le(w))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(i),t(w)):d<s&&w===40?(e.consume(w),d++,C):w===41?(e.consume(w),d--,C):w===null||w===32||w===40||dn(w)?n(w):(e.consume(w),w===92?A:C)}function A(w){return w===40||w===41||w===92?(e.consume(w),C):C(w)}}function Ta(e,t,n,i,r,l){const a=this;let o=0,c;return s;function s(f){return e.enter(i),e.enter(r),e.consume(f),e.exit(r),e.enter(l),d}function d(f){return o>999||f===null||f===91||f===93&&!c||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):f===93?(e.exit(l),e.enter(r),e.consume(f),e.exit(r),e.exit(i),t):U(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(f))}function p(f){return f===null||f===91||f===93||U(f)||o++>999?(e.exit("chunkString"),d(f)):(e.consume(f),c||(c=!Y(f)),f===92?h:p)}function h(f){return f===91||f===92||f===93?(e.consume(f),o++,p):p(f)}}function Ra(e,t,n,i,r,l){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(i),e.enter(r),e.consume(h),e.exit(r),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(r),e.consume(h),e.exit(r),e.exit(i),t):(e.enter(l),s(h))}function s(h){return h===a?(e.exit(l),c(a)):h===null?n(h):U(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Z(e,s,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||U(h)?(e.exit("chunkString"),s(h)):(e.consume(h),h===92?p:d)}function p(h){return h===a||h===92?(e.consume(h),d):d(h)}}function qt(e,t){let n;return i;function i(r){return U(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):Y(r)?Z(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}const ic={name:"definition",tokenize:ac},rc={partial:!0,tokenize:lc};function ac(e,t,n){const i=this;let r;return l;function l(f){return e.enter("definition"),a(f)}function a(f){return Ta.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return r=Ge(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),c):n(f)}function c(f){return le(f)?qt(e,s)(f):s(f)}function s(f){return za(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(rc,p,p)(f)}function p(f){return Y(f)?Z(e,h,"whitespace")(f):h(f)}function h(f){return f===null||U(f)?(e.exit("definition"),i.parser.defined.push(r),t(f)):n(f)}}function lc(e,t,n){return i;function i(o){return le(o)?qt(e,r)(o):n(o)}function r(o){return Ra(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function l(o){return Y(o)?Z(e,a,"whitespace")(o):a(o)}function a(o){return o===null||U(o)?t(o):n(o)}}const oc={name:"hardBreakEscape",tokenize:sc};function sc(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.consume(l),r}function r(l){return U(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const cc={name:"headingAtx",resolve:uc,tokenize:pc};function uc(e,t){let n=e.length-2,i=3,r,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Ue(e,i,n-i+1,[["enter",r,t],["enter",l,t],["exit",l,t],["exit",r,t]])),e}function pc(e,t,n){let i=0;return r;function r(d){return e.enter("atxHeading"),l(d)}function l(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&i++<6?(e.consume(d),a):d===null||le(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||U(d)?(e.exit("atxHeading"),t(d)):Y(d)?Z(e,o,"whitespace")(d):(e.enter("atxHeadingText"),s(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function s(d){return d===null||d===35||le(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),s)}}const dc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gr=["pre","script","style","textarea"],fc={concrete:!0,name:"htmlFlow",resolveTo:xc,tokenize:gc},mc={partial:!0,tokenize:yc},hc={partial:!0,tokenize:vc};function xc(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function gc(e,t,n){const i=this;let r,l,a,o,c;return s;function s(x){return d(x)}function d(x){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(x),p}function p(x){return x===33?(e.consume(x),h):x===47?(e.consume(x),l=!0,C):x===63?(e.consume(x),r=3,i.interrupt?t:v):Re(x)?(e.consume(x),a=String.fromCharCode(x),A):n(x)}function h(x){return x===45?(e.consume(x),r=2,f):x===91?(e.consume(x),r=5,o=0,y):Re(x)?(e.consume(x),r=4,i.interrupt?t:v):n(x)}function f(x){return x===45?(e.consume(x),i.interrupt?t:v):n(x)}function y(x){const H="CDATA[";return x===H.charCodeAt(o++)?(e.consume(x),o===H.length?i.interrupt?t:D:y):n(x)}function C(x){return Re(x)?(e.consume(x),a=String.fromCharCode(x),A):n(x)}function A(x){if(x===null||x===47||x===62||le(x)){const H=x===47,ie=a.toLowerCase();return!H&&!l&&gr.includes(ie)?(r=1,i.interrupt?t(x):D(x)):dc.includes(a.toLowerCase())?(r=6,H?(e.consume(x),w):i.interrupt?t(x):D(x)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(x):l?N(x):P(x))}return x===45||Ne(x)?(e.consume(x),a+=String.fromCharCode(x),A):n(x)}function w(x){return x===62?(e.consume(x),i.interrupt?t:D):n(x)}function N(x){return Y(x)?(e.consume(x),N):j(x)}function P(x){return x===47?(e.consume(x),j):x===58||x===95||Re(x)?(e.consume(x),F):Y(x)?(e.consume(x),P):j(x)}function F(x){return x===45||x===46||x===58||x===95||Ne(x)?(e.consume(x),F):L(x)}function L(x){return x===61?(e.consume(x),S):Y(x)?(e.consume(x),L):P(x)}function S(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),c=x,B):Y(x)?(e.consume(x),S):W(x)}function B(x){return x===c?(e.consume(x),c=null,q):x===null||U(x)?n(x):(e.consume(x),B)}function W(x){return x===null||x===34||x===39||x===47||x===60||x===61||x===62||x===96||le(x)?L(x):(e.consume(x),W)}function q(x){return x===47||x===62||Y(x)?P(x):n(x)}function j(x){return x===62?(e.consume(x),R):n(x)}function R(x){return x===null||U(x)?D(x):Y(x)?(e.consume(x),R):n(x)}function D(x){return x===45&&r===2?(e.consume(x),te):x===60&&r===1?(e.consume(x),ne):x===62&&r===4?(e.consume(x),J):x===63&&r===3?(e.consume(x),v):x===93&&r===5?(e.consume(x),ee):U(x)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(mc,ce,M)(x)):x===null||U(x)?(e.exit("htmlFlowData"),M(x)):(e.consume(x),D)}function M(x){return e.check(hc,T,ce)(x)}function T(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),O}function O(x){return x===null||U(x)?M(x):(e.enter("htmlFlowData"),D(x))}function te(x){return x===45?(e.consume(x),v):D(x)}function ne(x){return x===47?(e.consume(x),a="",oe):D(x)}function oe(x){if(x===62){const H=a.toLowerCase();return gr.includes(H)?(e.consume(x),J):D(x)}return Re(x)&&a.length<8?(e.consume(x),a+=String.fromCharCode(x),oe):D(x)}function ee(x){return x===93?(e.consume(x),v):D(x)}function v(x){return x===62?(e.consume(x),J):x===45&&r===2?(e.consume(x),v):D(x)}function J(x){return x===null||U(x)?(e.exit("htmlFlowData"),ce(x)):(e.consume(x),J)}function ce(x){return e.exit("htmlFlow"),t(x)}}function vc(e,t,n){const i=this;return r;function r(a){return U(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l):n(a)}function l(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}function yc(e,t,n){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Qt,t,n)}}const bc={name:"htmlText",tokenize:wc};function wc(e,t,n){const i=this;let r,l,a;return o;function o(v){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(v),c}function c(v){return v===33?(e.consume(v),s):v===47?(e.consume(v),L):v===63?(e.consume(v),P):Re(v)?(e.consume(v),W):n(v)}function s(v){return v===45?(e.consume(v),d):v===91?(e.consume(v),l=0,y):Re(v)?(e.consume(v),N):n(v)}function d(v){return v===45?(e.consume(v),f):n(v)}function p(v){return v===null?n(v):v===45?(e.consume(v),h):U(v)?(a=p,ne(v)):(e.consume(v),p)}function h(v){return v===45?(e.consume(v),f):p(v)}function f(v){return v===62?te(v):v===45?h(v):p(v)}function y(v){const J="CDATA[";return v===J.charCodeAt(l++)?(e.consume(v),l===J.length?C:y):n(v)}function C(v){return v===null?n(v):v===93?(e.consume(v),A):U(v)?(a=C,ne(v)):(e.consume(v),C)}function A(v){return v===93?(e.consume(v),w):C(v)}function w(v){return v===62?te(v):v===93?(e.consume(v),w):C(v)}function N(v){return v===null||v===62?te(v):U(v)?(a=N,ne(v)):(e.consume(v),N)}function P(v){return v===null?n(v):v===63?(e.consume(v),F):U(v)?(a=P,ne(v)):(e.consume(v),P)}function F(v){return v===62?te(v):P(v)}function L(v){return Re(v)?(e.consume(v),S):n(v)}function S(v){return v===45||Ne(v)?(e.consume(v),S):B(v)}function B(v){return U(v)?(a=B,ne(v)):Y(v)?(e.consume(v),B):te(v)}function W(v){return v===45||Ne(v)?(e.consume(v),W):v===47||v===62||le(v)?q(v):n(v)}function q(v){return v===47?(e.consume(v),te):v===58||v===95||Re(v)?(e.consume(v),j):U(v)?(a=q,ne(v)):Y(v)?(e.consume(v),q):te(v)}function j(v){return v===45||v===46||v===58||v===95||Ne(v)?(e.consume(v),j):R(v)}function R(v){return v===61?(e.consume(v),D):U(v)?(a=R,ne(v)):Y(v)?(e.consume(v),R):q(v)}function D(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(e.consume(v),r=v,M):U(v)?(a=D,ne(v)):Y(v)?(e.consume(v),D):(e.consume(v),T)}function M(v){return v===r?(e.consume(v),r=void 0,O):v===null?n(v):U(v)?(a=M,ne(v)):(e.consume(v),M)}function T(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||le(v)?q(v):(e.consume(v),T)}function O(v){return v===47||v===62||le(v)?q(v):n(v)}function te(v){return v===62?(e.consume(v),e.exit("htmlTextData"),e.exit("htmlText"),t):n(v)}function ne(v){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),oe}function oe(v){return Y(v)?Z(e,ee,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):ee(v)}function ee(v){return e.enter("htmlTextData"),a(v)}}const Ci={name:"labelEnd",resolveAll:Sc,resolveTo:Ec,tokenize:Pc},kc={tokenize:Nc},jc={tokenize:Ic},Cc={tokenize:Ac};function Sc(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return e.length!==n.length&&Ue(e,0,e.length,n),e}function Ec(e,t){let n=e.length,i=0,r,l,a,o;for(;n--;)if(r=e[n][1],l){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(l=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(a=n);const c={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},s={type:"label",start:{...e[l][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[l+i+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",s,t]],o=He(o,e.slice(l+1,l+i+3)),o=He(o,[["enter",d,t]]),o=He(o,wn(t.parser.constructs.insideSpan.null,e.slice(l+i+4,a-3),t)),o=He(o,[["exit",d,t],e[a-2],e[a-1],["exit",s,t]]),o=He(o,e.slice(a+1)),o=He(o,[["exit",c,t]]),Ue(e,l,e.length,o),e}function Pc(e,t,n){const i=this;let r=i.events.length,l,a;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){l=i.events[r][1];break}return o;function o(h){return l?l._inactive?p(h):(a=i.parser.defined.includes(Ge(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(kc,d,a?d:p)(h):h===91?e.attempt(jc,d,a?s:p)(h):a?d(h):p(h)}function s(h){return e.attempt(Cc,d,p)(h)}function d(h){return t(h)}function p(h){return l._balanced=!0,n(h)}}function Nc(e,t,n){return i;function i(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),r}function r(p){return le(p)?qt(e,l)(p):l(p)}function l(p){return p===41?d(p):za(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return le(p)?qt(e,c)(p):d(p)}function o(p){return n(p)}function c(p){return p===34||p===39||p===40?Ra(e,s,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function s(p){return le(p)?qt(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function Ic(e,t,n){const i=this;return r;function r(o){return Ta.call(i,e,l,a,"reference","referenceMarker","referenceString")(o)}function l(o){return i.parser.defined.includes(Ge(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function Ac(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),r}function r(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const Dc={name:"labelStartImage",resolveAll:Ci.resolveAll,tokenize:zc};function zc(e,t,n){const i=this;return r;function r(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),l}function l(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):t(o)}}const Tc={name:"labelStartLink",resolveAll:Ci.resolveAll,tokenize:Rc};function Rc(e,t,n){const i=this;return r;function r(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),l}function l(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const Tn={name:"lineEnding",tokenize:Fc};function Fc(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Z(e,t,"linePrefix")}}const cn={name:"thematicBreak",tokenize:_c};function _c(e,t,n){let i=0,r;return l;function l(s){return e.enter("thematicBreak"),a(s)}function a(s){return r=s,o(s)}function o(s){return s===r?(e.enter("thematicBreakSequence"),c(s)):i>=3&&(s===null||U(s))?(e.exit("thematicBreak"),t(s)):n(s)}function c(s){return s===r?(e.consume(s),i++,c):(e.exit("thematicBreakSequence"),Y(s)?Z(e,o,"whitespace")(s):o(s))}}const Me={continuation:{tokenize:Bc},exit:Uc,name:"list",tokenize:Lc},Mc={partial:!0,tokenize:qc},Oc={partial:!0,tokenize:$c};function Lc(e,t,n){const i=this,r=i.events[i.events.length-1];let l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return o;function o(f){const y=i.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!i.containerState.marker||f===i.containerState.marker:ni(f)){if(i.containerState.type||(i.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(cn,n,s)(f):s(f);if(!i.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(f)}return n(f)}function c(f){return ni(f)&&++a<10?(e.consume(f),c):(!i.interrupt||a<2)&&(i.containerState.marker?f===i.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),s(f)):n(f)}function s(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||f,e.check(Qt,i.interrupt?n:d,e.attempt(Mc,h,p))}function d(f){return i.containerState.initialBlankLine=!0,l++,h(f)}function p(f){return Y(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function Bc(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Qt,r,l);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Z(e,t,"listItemIndent",i.containerState.size+1)(o)}function l(o){return i.containerState.furtherBlankLines||!Y(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Oc,t,a)(o))}function a(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Z(e,e.attempt(Me,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function $c(e,t,n){const i=this;return Z(e,r,"listItemIndent",i.containerState.size+1);function r(l){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(l):n(l)}}function Uc(e){e.exit(this.containerState.type)}function qc(e,t,n){const i=this;return Z(e,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(l){const a=i.events[i.events.length-1];return!Y(l)&&a&&a[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const vr={name:"setextUnderline",resolveTo:Hc,tokenize:Vc};function Hc(e,t){let n=e.length,i,r,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(r=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",l?(e.splice(r,0,["enter",a,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end={...e[l][1].end}):e[i][1]=a,e.push(["exit",a,t]),e}function Vc(e,t,n){const i=this;let r;return l;function l(s){let d=i.events.length,p;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){p=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(e.enter("setextHeadingLine"),r=s,a(s)):n(s)}function a(s){return e.enter("setextHeadingLineSequence"),o(s)}function o(s){return s===r?(e.consume(s),o):(e.exit("setextHeadingLineSequence"),Y(s)?Z(e,c,"lineSuffix")(s):c(s))}function c(s){return s===null||U(s)?(e.exit("setextHeadingLine"),t(s)):n(s)}}const Wc={tokenize:Gc};function Gc(e){const t=this,n=e.attempt(Qt,i,e.attempt(this.parser.constructs.flowInitial,r,Z(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Zs,r)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Kc={resolveAll:_a()},Yc=Fa("string"),Xc=Fa("text");function Fa(e){return{resolveAll:_a(e==="text"?Qc:void 0),tokenize:t};function t(n){const i=this,r=this.parser.constructs[e],l=n.attempt(r,a,o);return a;function a(d){return s(d)?l(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return s(d)?(n.exit("data"),l(d)):(n.consume(d),c)}function s(d){if(d===null)return!0;const p=r[d];let h=-1;if(p)for(;++h<p.length;){const f=p[h];if(!f.previous||f.previous.call(i,i.previous))return!0}return!1}}}function _a(e){return t;function t(n,i){let r=-1,l;for(;++r<=n.length;)l===void 0?n[r]&&n[r][1].type==="data"&&(l=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==l+2&&(n[l][1].end=n[r-1][1].end,n.splice(l+2,r-l-2),r=l+2),l=void 0);return e?e(n,i):n}}function Qc(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],r=t.sliceStream(i);let l=r.length,a=-1,o=0,c;for(;l--;){const s=r[l];if(typeof s=="string"){for(a=s.length;s.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(s===-2)c=!0,o++;else if(s!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const s={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?a:i.start._bufferIndex+a,_index:i.start._index+l,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...s.start},i.start.offset===i.end.offset?Object.assign(i,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}const Zc={42:Me,43:Me,45:Me,48:Me,49:Me,50:Me,51:Me,52:Me,53:Me,54:Me,55:Me,56:Me,57:Me,62:Na},Jc={91:ic},eu={[-2]:zn,[-1]:zn,32:zn},tu={35:cc,42:cn,45:[vr,cn],60:fc,61:vr,95:cn,96:xr,126:xr},nu={38:Aa,92:Ia},iu={[-5]:Tn,[-4]:Tn,[-3]:Tn,33:Dc,38:Aa,42:ii,60:[Ts,bc],91:Tc,92:[oc,Ia],93:Ci,95:ii,96:Ws},ru={null:[ii,Kc]},au={null:[42,95]},lu={null:[]},ou=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:au,contentInitial:Jc,disable:lu,document:Zc,flow:tu,flowInitial:eu,insideSpan:ru,string:nu,text:iu},Symbol.toStringTag,{value:"Module"}));function su(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},l=[];let a=[],o=[];const c={attempt:B(L),check:B(S),consume:N,enter:P,exit:F,interrupt:B(S,{interrupt:!0})},s={code:null,containerState:{},defineSkip:C,events:[],now:y,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:p};let d=t.tokenize.call(s,c);return t.resolveAll&&l.push(t),s;function p(R){return a=He(a,R),A(),a[a.length-1]!==null?[]:(W(t,0),s.events=wn(l,s.events,s),s.events)}function h(R,D){return uu(f(R),D)}function f(R){return cu(a,R)}function y(){const{_bufferIndex:R,_index:D,line:M,column:T,offset:O}=i;return{_bufferIndex:R,_index:D,line:M,column:T,offset:O}}function C(R){r[R.line]=R.column,j()}function A(){let R;for(;i._index<a.length;){const D=a[i._index];if(typeof D=="string")for(R=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===R&&i._bufferIndex<D.length;)w(D.charCodeAt(i._bufferIndex));else w(D)}}function w(R){d=d(R)}function N(R){U(R)?(i.line++,i.column=1,i.offset+=R===-3?2:1,j()):R!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),s.previous=R}function P(R,D){const M=D||{};return M.type=R,M.start=y(),s.events.push(["enter",M,s]),o.push(M),M}function F(R){const D=o.pop();return D.end=y(),s.events.push(["exit",D,s]),D}function L(R,D){W(R,D.from)}function S(R,D){D.restore()}function B(R,D){return M;function M(T,O,te){let ne,oe,ee,v;return Array.isArray(T)?ce(T):"tokenize"in T?ce([T]):J(T);function J(K){return me;function me(we){const Ce=we!==null&&K[we],Se=we!==null&&K.null,_e=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Se)?Se:Se?[Se]:[]];return ce(_e)(we)}}function ce(K){return ne=K,oe=0,K.length===0?te:x(K[oe])}function x(K){return me;function me(we){return v=q(),ee=K,K.partial||(s.currentConstruct=K),K.name&&s.parser.constructs.disable.null.includes(K.name)?ie():K.tokenize.call(D?Object.assign(Object.create(s),D):s,c,H,ie)(we)}}function H(K){return R(ee,v),O}function ie(K){return v.restore(),++oe<ne.length?x(ne[oe]):te}}}function W(R,D){R.resolveAll&&!l.includes(R)&&l.push(R),R.resolve&&Ue(s.events,D,s.events.length-D,R.resolve(s.events.slice(D),s)),R.resolveTo&&(s.events=R.resolveTo(s.events,s))}function q(){const R=y(),D=s.previous,M=s.currentConstruct,T=s.events.length,O=Array.from(o);return{from:T,restore:te};function te(){i=R,s.previous=D,s.currentConstruct=M,s.events.length=T,o=O,j()}}function j(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function cu(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,l=t.end._bufferIndex;let a;if(n===r)a=[e[n].slice(i,l)];else{if(a=e.slice(n,r),i>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(i):a.shift()}l>0&&a.push(e[r].slice(0,l))}return a}function uu(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const l=e[n];let a;if(typeof l=="string")a=l;else switch(l){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&r)continue;a=" ";break}default:a=String.fromCharCode(l)}r=l===-2,i.push(a)}return i.join("")}function pu(e){const i={constructs:Ea([ou,...(e||{}).extensions||[]]),content:r(Es),defined:[],document:r(Ns),flow:r(Wc),lazy:{},string:r(Yc),text:r(Xc)};return i;function r(l){return a;function a(o){return su(i,l,o)}}}function du(e){for(;!Da(e););return e}const yr=/[\0\t\n\r]/g;function fu(){let e=1,t="",n=!0,i;return r;function r(l,a,o){const c=[];let s,d,p,h,f;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(a||void 0).decode(l)),p=0,t="",n&&(l.charCodeAt(0)===65279&&p++,n=void 0);p<l.length;){if(yr.lastIndex=p,s=yr.exec(l),h=s&&s.index!==void 0?s.index:l.length,f=l.charCodeAt(h),!s){t=l.slice(p);break}if(f===10&&p===h&&i)c.push(-3),i=void 0;else switch(i&&(c.push(-5),i=void 0),p<h&&(c.push(l.slice(p,h)),e+=h-p),f){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:i=!0,e=1}p=h+1}return o&&(i&&c.push(-5),t&&c.push(t),c.push(null)),c}}const mu=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function hu(e){return e.replace(mu,xu)}function xu(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),l=r===120||r===88;return Pa(n.slice(l?2:1),l?16:10)}return ji(n)||e}const Ma={}.hasOwnProperty;function gu(e,t,n){return typeof t!="string"&&(n=t,t=void 0),vu(n)(du(pu(n).document().write(fu()(e,t,!0))))}function vu(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ve),autolinkProtocol:q,autolinkEmail:q,atxHeading:l(Ke),blockQuote:l(Se),characterEscape:q,characterReference:q,codeFenced:l(_e),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:l(_e,a),codeText:l(Ae,a),codeTextData:q,data:q,codeFlowValue:q,definition:l(at),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:l(lt),hardBreakEscape:l(Je),hardBreakTrailing:l(Je),htmlFlow:l(Le,a),htmlFlowData:q,htmlText:l(Le,a),htmlTextData:q,image:l(Ye),label:a,link:l(Ve),listItem:l(ot),listItemValue:h,listOrdered:l(qe,p),listUnordered:l(qe),paragraph:l(st),reference:x,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:l(Ke),strong:l(et),thematicBreak:l(m)},exit:{atxHeading:c(),atxHeadingSequence:L,autolink:c(),autolinkEmail:Ce,autolinkProtocol:we,blockQuote:c(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:K,characterReference:me,codeFenced:c(A),codeFencedFence:C,codeFencedFenceInfo:f,codeFencedFenceMeta:y,codeFlowValue:j,codeIndented:c(w),codeText:c(O),codeTextData:j,data:j,definition:c(),definitionDestinationString:F,definitionLabelString:N,definitionTitleString:P,emphasis:c(),hardBreakEscape:c(D),hardBreakTrailing:c(D),htmlFlow:c(M),htmlFlowData:j,htmlText:c(T),htmlTextData:j,image:c(ne),label:ee,labelText:oe,lineEnding:R,link:c(te),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:H,resourceDestinationString:v,resourceTitleString:J,resource:ce,setextHeading:c(W),setextHeadingLineSequence:B,setextHeadingText:S,strong:c(),thematicBreak:c()}};Oa(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(g){let b={type:"root",children:[]};const I={stack:[b],tokenStack:[],config:t,enter:o,exit:s,buffer:a,resume:d,data:n},_=[];let $=-1;for(;++$<g.length;)if(g[$][1].type==="listOrdered"||g[$][1].type==="listUnordered")if(g[$][0]==="enter")_.push($);else{const fe=_.pop();$=r(g,fe,$)}for($=-1;++$<g.length;){const fe=t[g[$][0]];Ma.call(fe,g[$][1].type)&&fe[g[$][1].type].call(Object.assign({sliceSerialize:g[$][2].sliceSerialize},I),g[$][1])}if(I.tokenStack.length>0){const fe=I.tokenStack[I.tokenStack.length-1];(fe[1]||br).call(I,void 0,fe[0])}for(b.position={start:ct(g.length>0?g[0][1].start:{line:1,column:1,offset:0}),end:ct(g.length>0?g[g.length-2][1].end:{line:1,column:1,offset:0})},$=-1;++$<t.transforms.length;)b=t.transforms[$](b)||b;return b}function r(g,b,I){let _=b-1,$=-1,fe=!1,Ee,re,je,xe;for(;++_<=I;){const ge=g[_];switch(ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ge[0]==="enter"?$++:$--,xe=void 0;break}case"lineEndingBlank":{ge[0]==="enter"&&(Ee&&!xe&&!$&&!je&&(je=_),xe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xe=void 0}if(!$&&ge[0]==="enter"&&ge[1].type==="listItemPrefix"||$===-1&&ge[0]==="exit"&&(ge[1].type==="listUnordered"||ge[1].type==="listOrdered")){if(Ee){let Be=_;for(re=void 0;Be--;){const Pe=g[Be];if(Pe[1].type==="lineEnding"||Pe[1].type==="lineEndingBlank"){if(Pe[0]==="exit")continue;re&&(g[re][1].type="lineEndingBlank",fe=!0),Pe[1].type="lineEnding",re=Be}else if(!(Pe[1].type==="linePrefix"||Pe[1].type==="blockQuotePrefix"||Pe[1].type==="blockQuotePrefixWhitespace"||Pe[1].type==="blockQuoteMarker"||Pe[1].type==="listItemIndent"))break}je&&(!re||je<re)&&(Ee._spread=!0),Ee.end=Object.assign({},re?g[re][1].start:ge[1].end),g.splice(re||_,0,["exit",Ee,ge[2]]),_++,I++}if(ge[1].type==="listItemPrefix"){const Be={type:"listItem",_spread:!1,start:Object.assign({},ge[1].start),end:void 0};Ee=Be,g.splice(_,0,["enter",Be,ge[2]]),_++,I++,je=void 0,xe=!0}}}return g[b][1]._spread=fe,I}function l(g,b){return I;function I(_){o.call(this,g(_),_),b&&b.call(this,_)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(g,b,I){this.stack[this.stack.length-1].children.push(g),this.stack.push(g),this.tokenStack.push([b,I||void 0]),g.position={start:ct(b.start),end:void 0}}function c(g){return b;function b(I){g&&g.call(this,I),s.call(this,I)}}function s(g,b){const I=this.stack.pop(),_=this.tokenStack.pop();if(_)_[0].type!==g.type&&(b?b.call(this,g,_[0]):(_[1]||br).call(this,g,_[0]));else throw new Error("Cannot close `"+g.type+"` ("+Ut({start:g.start,end:g.end})+"): it’s not open");I.position.end=ct(g.end)}function d(){return ki(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(g){if(this.data.expectingFirstListItemValue){const b=this.stack[this.stack.length-2];b.start=Number.parseInt(this.sliceSerialize(g),10),this.data.expectingFirstListItemValue=void 0}}function f(){const g=this.resume(),b=this.stack[this.stack.length-1];b.lang=g}function y(){const g=this.resume(),b=this.stack[this.stack.length-1];b.meta=g}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const g=this.resume(),b=this.stack[this.stack.length-1];b.value=g.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const g=this.resume(),b=this.stack[this.stack.length-1];b.value=g.replace(/(\r?\n|\r)$/g,"")}function N(g){const b=this.resume(),I=this.stack[this.stack.length-1];I.label=b,I.identifier=Ge(this.sliceSerialize(g)).toLowerCase()}function P(){const g=this.resume(),b=this.stack[this.stack.length-1];b.title=g}function F(){const g=this.resume(),b=this.stack[this.stack.length-1];b.url=g}function L(g){const b=this.stack[this.stack.length-1];if(!b.depth){const I=this.sliceSerialize(g).length;b.depth=I}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function B(g){const b=this.stack[this.stack.length-1];b.depth=this.sliceSerialize(g).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function q(g){const I=this.stack[this.stack.length-1].children;let _=I[I.length-1];(!_||_.type!=="text")&&(_=k(),_.position={start:ct(g.start),end:void 0},I.push(_)),this.stack.push(_)}function j(g){const b=this.stack.pop();b.value+=this.sliceSerialize(g),b.position.end=ct(g.end)}function R(g){const b=this.stack[this.stack.length-1];if(this.data.atHardBreak){const I=b.children[b.children.length-1];I.position.end=ct(g.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(b.type)&&(q.call(this,g),j.call(this,g))}function D(){this.data.atHardBreak=!0}function M(){const g=this.resume(),b=this.stack[this.stack.length-1];b.value=g}function T(){const g=this.resume(),b=this.stack[this.stack.length-1];b.value=g}function O(){const g=this.resume(),b=this.stack[this.stack.length-1];b.value=g}function te(){const g=this.stack[this.stack.length-1];if(this.data.inReference){const b=this.data.referenceType||"shortcut";g.type+="Reference",g.referenceType=b,delete g.url,delete g.title}else delete g.identifier,delete g.label;this.data.referenceType=void 0}function ne(){const g=this.stack[this.stack.length-1];if(this.data.inReference){const b=this.data.referenceType||"shortcut";g.type+="Reference",g.referenceType=b,delete g.url,delete g.title}else delete g.identifier,delete g.label;this.data.referenceType=void 0}function oe(g){const b=this.sliceSerialize(g),I=this.stack[this.stack.length-2];I.label=hu(b),I.identifier=Ge(b).toLowerCase()}function ee(){const g=this.stack[this.stack.length-1],b=this.resume(),I=this.stack[this.stack.length-1];if(this.data.inReference=!0,I.type==="link"){const _=g.children;I.children=_}else I.alt=b}function v(){const g=this.resume(),b=this.stack[this.stack.length-1];b.url=g}function J(){const g=this.resume(),b=this.stack[this.stack.length-1];b.title=g}function ce(){this.data.inReference=void 0}function x(){this.data.referenceType="collapsed"}function H(g){const b=this.resume(),I=this.stack[this.stack.length-1];I.label=b,I.identifier=Ge(this.sliceSerialize(g)).toLowerCase(),this.data.referenceType="full"}function ie(g){this.data.characterReferenceType=g.type}function K(g){const b=this.sliceSerialize(g),I=this.data.characterReferenceType;let _;I?(_=Pa(b,I==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_=ji(b);const $=this.stack[this.stack.length-1];$.value+=_}function me(g){const b=this.stack.pop();b.position.end=ct(g.end)}function we(g){j.call(this,g);const b=this.stack[this.stack.length-1];b.url=this.sliceSerialize(g)}function Ce(g){j.call(this,g);const b=this.stack[this.stack.length-1];b.url="mailto:"+this.sliceSerialize(g)}function Se(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function Ae(){return{type:"inlineCode",value:""}}function at(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function lt(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:0,children:[]}}function Je(){return{type:"break"}}function Le(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function Ve(){return{type:"link",title:null,url:"",children:[]}}function qe(g){return{type:"list",ordered:g.type==="listOrdered",start:null,spread:g._spread,children:[]}}function ot(g){return{type:"listItem",spread:g._spread,checked:null,children:[]}}function st(){return{type:"paragraph",children:[]}}function et(){return{type:"strong",children:[]}}function k(){return{type:"text",value:""}}function m(){return{type:"thematicBreak"}}}function ct(e){return{line:e.line,column:e.column,offset:e.offset}}function Oa(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Oa(e,i):yu(e,i)}}function yu(e,t){let n;for(n in t)if(Ma.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function br(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ut({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ut({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ut({start:t.start,end:t.end})+") is still open")}function bu(e){const t=this;t.parser=n;function n(i){return gu(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function wu(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function ku(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ju(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r=e.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},e.patch(t,r),r}function Cu(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Su(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Eu(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=Tt(i.toLowerCase()),l=e.footnoteOrder.indexOf(i);let a,o=e.footnoteCounts.get(i);o===void 0?(o=0,e.footnoteOrder.push(i),a=e.footnoteOrder.length):a=l+1,o+=1,e.footnoteCounts.set(i,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const s={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,s),e.applyData(t,s)}function Pu(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nu(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function La(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),l=r[0];l&&l.type==="text"?l.value="["+l.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=i:r.push({type:"text",value:i}),r}function Iu(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return La(e,t);const r={src:Tt(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const l={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,l),e.applyData(t,l)}function Au(e,t){const n={src:Tt(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function Du(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function zu(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return La(e,t);const r={href:Tt(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const l={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Tu(e,t){const n={href:Tt(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Ru(e,t,n){const i=e.all(t),r=n?Fu(n):Ba(t),l={},a=[];if(typeof t.checked=="boolean"){const d=i[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const d=i[o];(r||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?a.push(...d.children):a.push(d)}const c=i[i.length-1];c&&(r||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const s={type:"element",tagName:"li",properties:l,children:a};return e.patch(t,s),e.applyData(t,s)}function Fu(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=Ba(n[i])}return t}function Ba(e){const t=e.spread;return t??e.children.length>1}function _u(e,t){const n={},i=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++r<i.length;){const a=i[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function Mu(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ou(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Lu(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Bu(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],a),r.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=vi(t.children[1]),c=ya(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),r.push(a)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function $u(e,t,n){const i=n?n.children:void 0,l=(i?i.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let c=-1;const s=[];for(;++c<o;){const p=t.children[c],h={},f=a?a[c]:void 0;f&&(h.align=f);let y={type:"element",tagName:l,properties:h,children:[]};p&&(y.children=e.all(p),e.patch(p,y),y=e.applyData(p,y)),s.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(s,!0)};return e.patch(t,d),e.applyData(t,d)}function Uu(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const wr=9,kr=32;function qu(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const l=[];for(;i;)l.push(jr(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return l.push(jr(t.slice(r),r>0,!1)),l.join("")}function jr(e,t,n){let i=0,r=e.length;if(t){let l=e.codePointAt(i);for(;l===wr||l===kr;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(r-1);for(;l===wr||l===kr;)r--,l=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}function Hu(e,t){const n={type:"text",value:qu(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Vu(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Wu={blockquote:wu,break:ku,code:ju,delete:Cu,emphasis:Su,footnoteReference:Eu,heading:Pu,html:Nu,imageReference:Iu,image:Au,inlineCode:Du,linkReference:zu,link:Tu,listItem:Ru,list:_u,paragraph:Mu,root:Ou,strong:Lu,table:Bu,tableCell:Uu,tableRow:$u,text:Hu,thematicBreak:Vu,toml:tn,yaml:tn,definition:tn,footnoteDefinition:tn};function tn(){}const $a=-1,kn=0,Ht=1,fn=2,Si=3,Ei=4,Pi=5,Ni=6,Ua=7,qa=8,Cr=typeof self=="object"?self:globalThis,Gu=(e,t)=>{const n=(r,l)=>(e.set(l,r),r),i=r=>{if(e.has(r))return e.get(r);const[l,a]=t[r];switch(l){case kn:case $a:return n(a,r);case Ht:{const o=n([],r);for(const c of a)o.push(i(c));return o}case fn:{const o=n({},r);for(const[c,s]of a)o[i(c)]=i(s);return o}case Si:return n(new Date(a),r);case Ei:{const{source:o,flags:c}=a;return n(new RegExp(o,c),r)}case Pi:{const o=n(new Map,r);for(const[c,s]of a)o.set(i(c),i(s));return o}case Ni:{const o=n(new Set,r);for(const c of a)o.add(i(c));return o}case Ua:{const{name:o,message:c}=a;return n(new Cr[o](c),r)}case qa:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new Cr[l](a),r)};return i},Sr=e=>Gu(new Map,e)(0),Ct="",{toString:Ku}={},{keys:Yu}=Object,Bt=e=>{const t=typeof e;if(t!=="object"||!e)return[kn,t];const n=Ku.call(e).slice(8,-1);switch(n){case"Array":return[Ht,Ct];case"Object":return[fn,Ct];case"Date":return[Si,Ct];case"RegExp":return[Ei,Ct];case"Map":return[Pi,Ct];case"Set":return[Ni,Ct];case"DataView":return[Ht,n]}return n.includes("Array")?[Ht,n]:n.includes("Error")?[Ua,n]:[fn,n]},nn=([e,t])=>e===kn&&(t==="function"||t==="symbol"),Xu=(e,t,n,i)=>{const r=(a,o)=>{const c=i.push(a)-1;return n.set(o,c),c},l=a=>{if(n.has(a))return n.get(a);let[o,c]=Bt(a);switch(o){case kn:{let d=a;switch(c){case"bigint":o=qa,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return r([$a],a)}return r([o,d],a)}case Ht:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),r([c,[...h]],a)}const d=[],p=r([o,d],a);for(const h of a)d.push(l(h));return p}case fn:{if(c)switch(c){case"BigInt":return r([c,a.toString()],a);case"Boolean":case"Number":case"String":return r([c,a.valueOf()],a)}if(t&&"toJSON"in a)return l(a.toJSON());const d=[],p=r([o,d],a);for(const h of Yu(a))(e||!nn(Bt(a[h])))&&d.push([l(h),l(a[h])]);return p}case Si:return r([o,a.toISOString()],a);case Ei:{const{source:d,flags:p}=a;return r([o,{source:d,flags:p}],a)}case Pi:{const d=[],p=r([o,d],a);for(const[h,f]of a)(e||!(nn(Bt(h))||nn(Bt(f))))&&d.push([l(h),l(f)]);return p}case Ni:{const d=[],p=r([o,d],a);for(const h of a)(e||!nn(Bt(h)))&&d.push(l(h));return p}}const{message:s}=a;return r([o,{name:c,message:s}],a)};return l},Er=(e,{json:t,lossy:n}={})=>{const i=[];return Xu(!(t||n),!!t,new Map,i)(e),i},mn=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Sr(Er(e,t)):structuredClone(e):(e,t)=>Sr(Er(e,t));function Qu(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Zu(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ju(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Qu,i=e.options.footnoteBackLabel||Zu,r=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[c]);if(!s)continue;const d=e.all(s),p=String(s.identifier).toUpperCase(),h=Tt(p.toLowerCase());let f=0;const y=[],C=e.footnoteCounts.get(p);for(;C!==void 0&&++f<=C;){y.length>0&&y.push({type:"text",value:" "});let N=typeof n=="string"?n:n(c,f);typeof N=="string"&&(N={type:"text",value:N}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(c,f),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const A=d[d.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const N=A.children[A.children.length-1];N&&N.type==="text"?N.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...y)}else d.push(...y);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(s,w),o.push(w)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...mn(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const jn=function(e){if(e==null)return ip;if(typeof e=="function")return Cn(e);if(typeof e=="object")return Array.isArray(e)?ep(e):tp(e);if(typeof e=="string")return np(e);throw new Error("Expected function, string, or object as test")};function ep(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=jn(e[n]);return Cn(i);function i(...r){let l=-1;for(;++l<t.length;)if(t[l].apply(this,r))return!0;return!1}}function tp(e){const t=e;return Cn(n);function n(i){const r=i;let l;for(l in e)if(r[l]!==t[l])return!1;return!0}}function np(e){return Cn(t);function t(n){return n&&n.type===e}}function Cn(e){return t;function t(n,i,r){return!!(rp(n)&&e.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function ip(){return!0}function rp(e){return e!==null&&typeof e=="object"&&"type"in e}const Ha=[],ap=!0,ri=!1,lp="skip";function Va(e,t,n,i){let r;typeof t=="function"&&typeof n!="function"?(i=n,n=t):r=t;const l=jn(r),a=i?-1:1;o(e,void 0,[])();function o(c,s,d){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const f=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=Ha,y,C,A;if((!t||l(c,s,d[d.length-1]||void 0))&&(f=op(n(c,d)),f[0]===ri))return f;if("children"in c&&c.children){const w=c;if(w.children&&f[0]!==lp)for(C=(i?w.children.length:-1)+a,A=d.concat(w);C>-1&&C<w.children.length;){const N=w.children[C];if(y=o(N,C,A)(),y[0]===ri)return y;C=typeof y[1]=="number"?y[1]:C+a}}return f}}}function op(e){return Array.isArray(e)?e:typeof e=="number"?[ap,e]:e==null?Ha:[e]}function Ii(e,t,n,i){let r,l,a;typeof t=="function"?(l=void 0,a=t,r=n):(l=t,a=n,r=i),Va(e,l,o,r);function o(c,s){const d=s[s.length-1],p=d?d.children.indexOf(c):void 0;return a(c,p,d)}}const ai={}.hasOwnProperty,sp={};function cp(e,t){const n=t||sp,i=new Map,r=new Map,l=new Map,a={...Wu,...n.handlers},o={all:s,applyData:pp,definitionById:i,footnoteById:r,footnoteCounts:l,footnoteOrder:[],handlers:a,one:c,options:n,patch:up,wrap:fp};return Ii(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?i:r,h=String(d.identifier).toUpperCase();p.has(h)||p.set(h,d)}}),o;function c(d,p){const h=d.type,f=o.handlers[h];if(ai.call(o.handlers,h)&&f)return f(o,d,p);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:C,...A}=d,w=mn(A);return w.children=o.all(d),w}return mn(d)}return(o.options.unknownHandler||dp)(o,d,p)}function s(d){const p=[];if("children"in d){const h=d.children;let f=-1;for(;++f<h.length;){const y=o.one(h[f],d);if(y){if(f&&h[f-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=Pr(y.value)),!Array.isArray(y)&&y.type==="element")){const C=y.children[0];C&&C.type==="text"&&(C.value=Pr(C.value))}Array.isArray(y)?p.push(...y):p.push(y)}}}return p}}function up(e,t){e.position&&(t.position=Zo(e))}function pp(e,t){let n=t;if(e&&e.data){const i=e.data.hName,r=e.data.hChildren,l=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const a="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:a}}n.type==="element"&&l&&Object.assign(n.properties,mn(l)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function dp(e,t){const n=t.data||{},i="value"in t&&!(ai.call(n,"hProperties")||ai.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function fp(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Pr(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Nr(e,t){const n=cp(e,t),i=n.one(e,void 0),r=Ju(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&l.children.push({type:"text",value:`
`},r),l}function mp(e,t){return e&&"run"in e?async function(n,i){const r=Nr(n,{file:i,...t});await e.run(r,i)}:function(n,i){return Nr(n,{file:i,...e||t})}}function Ir(e){if(e)throw e}var Rn,Ar;function hp(){if(Ar)return Rn;Ar=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(s){return typeof Array.isArray=="function"?Array.isArray(s):t.call(s)==="[object Array]"},l=function(s){if(!s||t.call(s)!=="[object Object]")return!1;var d=e.call(s,"constructor"),p=s.constructor&&s.constructor.prototype&&e.call(s.constructor.prototype,"isPrototypeOf");if(s.constructor&&!d&&!p)return!1;var h;for(h in s);return typeof h>"u"||e.call(s,h)},a=function(s,d){n&&d.name==="__proto__"?n(s,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):s[d.name]=d.newValue},o=function(s,d){if(d==="__proto__")if(e.call(s,d)){if(i)return i(s,d).value}else return;return s[d]};return Rn=function c(){var s,d,p,h,f,y,C=arguments[0],A=1,w=arguments.length,N=!1;for(typeof C=="boolean"&&(N=C,C=arguments[1]||{},A=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});A<w;++A)if(s=arguments[A],s!=null)for(d in s)p=o(C,d),h=o(s,d),C!==h&&(N&&h&&(l(h)||(f=r(h)))?(f?(f=!1,y=p&&r(p)?p:[]):y=p&&l(p)?p:{},a(C,{name:d,newValue:c(N,y,h)})):typeof h<"u"&&a(C,{name:d,newValue:h}));return C},Rn}var xp=hp();const Fn=yn(xp);function li(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function gp(){const e=[],t={run:n,use:i};return t;function n(...r){let l=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...r);function o(c,...s){const d=e[++l];let p=-1;if(c){a(c);return}for(;++p<r.length;)(s[p]===null||s[p]===void 0)&&(s[p]=r[p]);r=s,d?vp(d,o)(...s):a(null,...s)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function vp(e,t){let n;return i;function i(...a){const o=e.length>a.length;let c;o&&a.push(r);try{c=e.apply(this,a)}catch(s){const d=s;if(o&&n)throw d;return r(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(l,r):c instanceof Error?r(c):l(c))}function r(a,...o){n||(n=!0,t(a,...o))}function l(a){r(null,a)}}const Qe={basename:yp,dirname:bp,extname:wp,join:kp,sep:"/"};function yp(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Zt(e);let n=0,i=-1,r=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.codePointAt(r)===47){if(l){n=r+1;break}}else i<0&&(l=!0,i=r+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let a=-1,o=t.length-1;for(;r--;)if(e.codePointAt(r)===47){if(l){n=r+1;break}}else a<0&&(l=!0,a=r+1),o>-1&&(e.codePointAt(r)===t.codePointAt(o--)?o<0&&(i=r):(o=-1,i=a));return n===i?i=a:i<0&&(i=e.length),e.slice(n,i)}function bp(e){if(Zt(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function wp(e){Zt(e);let t=e.length,n=-1,i=0,r=-1,l=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){i=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?r<0?r=t:l!==1&&(l=1):r>-1&&(l=-1)}return r<0||n<0||l===0||l===1&&r===n-1&&r===i+1?"":e.slice(r,n)}function kp(...e){let t=-1,n;for(;++t<e.length;)Zt(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":jp(n)}function jp(e){Zt(e);const t=e.codePointAt(0)===47;let n=Cp(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Cp(e,t){let n="",i=0,r=-1,l=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(r===a-1||l===1))if(r!==a-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),r=a,l=0;continue}}else if(n.length>0){n="",i=0,r=a,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(r+1,a):n=e.slice(r+1,a),i=a-r-1;r=a,l=0}else o===46&&l>-1?l++:l=-1}return n}function Zt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Sp={cwd:Ep};function Ep(){return"/"}function oi(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Pp(e){if(typeof e=="string")e=new URL(e);else if(!oi(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Np(e)}function Np(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const _n=["history","path","basename","stem","extname","dirname"];class Wa{constructor(t){let n;t?oi(t)?n={path:t}:typeof t=="string"||Ip(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Sp.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<_n.length;){const l=_n[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let r;for(r in n)_n.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Qe.basename(this.path):void 0}set basename(t){On(t,"basename"),Mn(t,"basename"),this.path=Qe.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qe.dirname(this.path):void 0}set dirname(t){Dr(this.basename,"dirname"),this.path=Qe.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qe.extname(this.path):void 0}set extname(t){if(Mn(t,"extname"),Dr(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qe.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){oi(t)&&(t=Pp(t)),On(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qe.basename(this.path,this.extname):void 0}set stem(t){On(t,"stem"),Mn(t,"stem"),this.path=Qe.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const r=this.message(t,n,i);throw r.fatal=!0,r}info(t,n,i){const r=this.message(t,n,i);return r.fatal=void 0,r}message(t,n,i){const r=new Ie(t,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Mn(e,t){if(e&&e.includes(Qe.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qe.sep+"`")}function On(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Dr(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ip(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ap=function(e){const i=this.constructor.prototype,r=i[e],l=function(){return r.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},Dp={}.hasOwnProperty;class Ai extends Ap{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=gp()}copy(){const t=new Ai;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Fn(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?($n("data",this.frozen),this.namespace[t]=n,this):Dp.call(this.namespace,t)&&this.namespace[t]||void 0:t?($n("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=rn(t),i=this.parser||this.Parser;return Ln("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),Ln("process",this.parser||this.Parser),Bn("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(l,a){const o=rn(t),c=i.parse(o);i.run(c,o,function(d,p,h){if(d||!p||!h)return s(d);const f=p,y=i.stringify(f,h);Rp(y)?h.value=y:h.result=y,s(d,h)});function s(d,p){d||!p?a(d):l?l(p):n(void 0,p)}}}processSync(t){let n=!1,i;return this.freeze(),Ln("processSync",this.parser||this.Parser),Bn("processSync",this.compiler||this.Compiler),this.process(t,r),Tr("processSync","process",n),i;function r(l,a){n=!0,Ir(l),i=a}}run(t,n,i){zr(t),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(a,o){const c=rn(n);r.run(t,c,s);function s(d,p,h){const f=p||t;d?o(d):a?a(f):i(void 0,f,h)}}}runSync(t,n){let i=!1,r;return this.run(t,n,l),Tr("runSync","run",i),r;function l(a,o){Ir(a),r=o,i=!0}}stringify(t,n){this.freeze();const i=rn(n),r=this.compiler||this.Compiler;return Bn("stringify",r),zr(t),r(t,i)}use(t,...n){const i=this.attachers,r=this.namespace;if($n("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(s){if(typeof s=="function")c(s,[]);else if(typeof s=="object")if(Array.isArray(s)){const[d,...p]=s;c(d,p)}else a(s);else throw new TypeError("Expected usable value, not `"+s+"`")}function a(s){if(!("plugins"in s)&&!("settings"in s))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(s.plugins),s.settings&&(r.settings=Fn(!0,r.settings,s.settings))}function o(s){let d=-1;if(s!=null)if(Array.isArray(s))for(;++d<s.length;){const p=s[d];l(p)}else throw new TypeError("Expected a list of plugins, not `"+s+"`")}function c(s,d){let p=-1,h=-1;for(;++p<i.length;)if(i[p][0]===s){h=p;break}if(h===-1)i.push([s,...d]);else if(d.length>0){let[f,...y]=d;const C=i[h][1];li(C)&&li(f)&&(f=Fn(!0,C,f)),i[h]=[s,f,...y]}}}}const zp=new Ai().freeze();function Ln(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bn(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function $n(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zr(e){if(!li(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Tr(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function rn(e){return Tp(e)?e:new Wa(e)}function Tp(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Rp(e){return typeof e=="string"||Fp(e)}function Fp(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _p="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Rr=[],Fr={allowDangerousHtml:!0},Mp=/^(https?|ircs?|mailto|xmpp)$/i,Op=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ga(e){const t=Lp(e),n=Bp(e);return $p(t.runSync(t.parse(n),n),e)}function Lp(e){const t=e.rehypePlugins||Rr,n=e.remarkPlugins||Rr,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Fr}:Fr;return zp().use(bu).use(n).use(mp,i).use(t)}function Bp(e){const t=e.children||"",n=new Wa;return typeof t=="string"&&(n.value=t),n}function $p(e,t){const n=t.allowedElements,i=t.allowElement,r=t.components,l=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||Up;for(const d of Op)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+_p+d.id,void 0);return Ii(e,s),is(e,{Fragment:u.Fragment,components:r,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function s(d,p,h){if(d.type==="raw"&&h&&typeof p=="number")return a?h.children.splice(p,1):h.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let f;for(f in Dn)if(Object.hasOwn(Dn,f)&&Object.hasOwn(d.properties,f)){const y=d.properties[f],C=Dn[f];(C===null||C.includes(d.tagName))&&(d.properties[f]=c(String(y||""),f,d))}}if(d.type==="element"){let f=n?!n.includes(d.tagName):l?l.includes(d.tagName):!1;if(!f&&i&&typeof p=="number"&&(f=!i(d,p,h)),f&&h&&typeof p=="number")return o&&d.children?h.children.splice(p,1,...d.children):h.children.splice(p,1),p}}}function Up(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),r=e.indexOf("/");return t===-1||r!==-1&&t>r||n!==-1&&t>n||i!==-1&&t>i||Mp.test(e.slice(0,t))?e:""}function _r(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;r!==-1;)i++,r=n.indexOf(t,r+t.length);return i}function qp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Hp(e,t,n){const r=jn((n||{}).ignore||[]),l=Vp(t);let a=-1;for(;++a<l.length;)Va(e,"text",o);function o(s,d){let p=-1,h;for(;++p<d.length;){const f=d[p],y=h?h.children:void 0;if(r(f,y?y.indexOf(f):void 0,h))return;h=f}if(h)return c(s,d)}function c(s,d){const p=d[d.length-1],h=l[a][0],f=l[a][1];let y=0;const A=p.children.indexOf(s);let w=!1,N=[];h.lastIndex=0;let P=h.exec(s.value);for(;P;){const F=P.index,L={index:P.index,input:P.input,stack:[...d,s]};let S=f(...P,L);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=F+1:(y!==F&&N.push({type:"text",value:s.value.slice(y,F)}),Array.isArray(S)?N.push(...S):S&&N.push(S),y=F+P[0].length,w=!0),!h.global)break;P=h.exec(s.value)}return w?(y<s.value.length&&N.push({type:"text",value:s.value.slice(y)}),p.children.splice(A,1,...N)):N=[s],A+N.length}}function Vp(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const r=n[i];t.push([Wp(r[0]),Gp(r[1])])}return t}function Wp(e){return typeof e=="string"?new RegExp(qp(e),"g"):e}function Gp(e){return typeof e=="function"?e:function(){return e}}const Un="phrasing",qn=["autolink","link","image","label"];function Kp(){return{transforms:[td],enter:{literalAutolink:Xp,literalAutolinkEmail:Hn,literalAutolinkHttp:Hn,literalAutolinkWww:Hn},exit:{literalAutolink:ed,literalAutolinkEmail:Jp,literalAutolinkHttp:Qp,literalAutolinkWww:Zp}}}function Yp(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Un,notInConstruct:qn},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Un,notInConstruct:qn},{character:":",before:"[ps]",after:"\\/",inConstruct:Un,notInConstruct:qn}]}}function Xp(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Hn(e){this.config.enter.autolinkProtocol.call(this,e)}function Qp(e){this.config.exit.autolinkProtocol.call(this,e)}function Zp(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Jp(e){this.config.exit.autolinkEmail.call(this,e)}function ed(e){this.exit(e)}function td(e){Hp(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,nd],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),id]],{ignore:["link","linkReference"]})}function nd(e,t,n,i,r){let l="";if(!Ka(r)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!rd(n)))return!1;const a=ad(n+i);if(!a[0])return!1;const o={type:"link",title:null,url:l+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function id(e,t,n,i){return!Ka(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function rd(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ad(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const r=_r(e,"(");let l=_r(e,")");for(;i!==-1&&r>l;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),l++;return[e,n]}function Ka(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||yt(n)||bn(n))&&(!t||n!==47)}Ya.peek=md;function ld(){this.buffer()}function od(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function sd(){this.buffer()}function cd(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function ud(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ge(this.sliceSerialize(e)).toLowerCase(),n.label=t}function pd(e){this.exit(e)}function dd(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ge(this.sliceSerialize(e)).toLowerCase(),n.label=t}function fd(e){this.exit(e)}function md(){return"["}function Ya(e,t,n,i){const r=n.createTracker(i);let l=r.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return l+=r.move(n.safe(n.associationId(e),{after:"]",before:l})),o(),a(),l+=r.move("]"),l}function hd(){return{enter:{gfmFootnoteCallString:ld,gfmFootnoteCall:od,gfmFootnoteDefinitionLabelString:sd,gfmFootnoteDefinition:cd},exit:{gfmFootnoteCallString:ud,gfmFootnoteCall:pd,gfmFootnoteDefinitionLabelString:dd,gfmFootnoteDefinition:fd}}}function xd(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Ya},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,l,a){const o=l.createTracker(a);let c=o.move("[^");const s=l.enter("footnoteDefinition"),d=l.enter("label");return c+=o.move(l.safe(l.associationId(i),{before:c,after:"]"})),d(),c+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+l.indentLines(l.containerFlow(i,o.current()),t?Xa:gd))),s(),c}}function gd(e,t,n){return t===0?e:Xa(e,t,n)}function Xa(e,t,n){return(n?"":"    ")+e}const vd=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Qa.peek=jd;function yd(){return{canContainEols:["delete"],enter:{strikethrough:wd},exit:{strikethrough:kd}}}function bd(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:vd}],handlers:{delete:Qa}}}function wd(e){this.enter({type:"delete",children:[]},e)}function kd(e){this.exit(e)}function Qa(e,t,n,i){const r=n.createTracker(i),l=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(e,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),l(),a}function jd(){return"~"}function Cd(e){return e.length}function Sd(e,t){const n=t||{},i=(n.align||[]).concat(),r=n.stringLength||Cd,l=[],a=[],o=[],c=[];let s=0,d=-1;for(;++d<e.length;){const C=[],A=[];let w=-1;for(e[d].length>s&&(s=e[d].length);++w<e[d].length;){const N=Ed(e[d][w]);if(n.alignDelimiters!==!1){const P=r(N);A[w]=P,(c[w]===void 0||P>c[w])&&(c[w]=P)}C.push(N)}a[d]=C,o[d]=A}let p=-1;if(typeof i=="object"&&"length"in i)for(;++p<s;)l[p]=Mr(i[p]);else{const C=Mr(i);for(;++p<s;)l[p]=C}p=-1;const h=[],f=[];for(;++p<s;){const C=l[p];let A="",w="";C===99?(A=":",w=":"):C===108?A=":":C===114&&(w=":");let N=n.alignDelimiters===!1?1:Math.max(1,c[p]-A.length-w.length);const P=A+"-".repeat(N)+w;n.alignDelimiters!==!1&&(N=A.length+N+w.length,N>c[p]&&(c[p]=N),f[p]=N),h[p]=P}a.splice(1,0,h),o.splice(1,0,f),d=-1;const y=[];for(;++d<a.length;){const C=a[d],A=o[d];p=-1;const w=[];for(;++p<s;){const N=C[p]||"";let P="",F="";if(n.alignDelimiters!==!1){const L=c[p]-(A[p]||0),S=l[p];S===114?P=" ".repeat(L):S===99?L%2?(P=" ".repeat(L/2+.5),F=" ".repeat(L/2-.5)):(P=" ".repeat(L/2),F=P):F=" ".repeat(L)}n.delimiterStart!==!1&&!p&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||p)&&w.push(" "),n.alignDelimiters!==!1&&w.push(P),w.push(N),n.alignDelimiters!==!1&&w.push(F),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||p!==s-1)&&w.push("|")}y.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return y.join(`
`)}function Ed(e){return e==null?"":String(e)}function Mr(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Pd(e,t,n,i){const r=n.enter("blockquote"),l=n.createTracker(i);l.move("> "),l.shift(2);const a=n.indentLines(n.containerFlow(e,l.current()),Nd);return r(),a}function Nd(e,t,n){return">"+(n?"":" ")+e}function Id(e,t){return Or(e,t.inConstruct,!0)&&!Or(e,t.notInConstruct,!1)}function Or(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Lr(e,t,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&Id(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function Ad(e,t){const n=String(e);let i=n.indexOf(t),r=i,l=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++l>a&&(a=l):l=1,r=i+t.length,i=n.indexOf(t,r);return a}function Dd(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function zd(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Td(e,t,n,i){const r=zd(n),l=e.value||"",a=r==="`"?"GraveAccent":"Tilde";if(Dd(e,n)){const p=n.enter("codeIndented"),h=n.indentLines(l,Rd);return p(),h}const o=n.createTracker(i),c=r.repeat(Math.max(Ad(l,r)+1,3)),s=n.enter("codeFenced");let d=o.move(c);if(e.lang){const p=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),p()}return d+=o.move(`
`),l&&(d+=o.move(l+`
`)),d+=o.move(c),s(),d}function Rd(e,t,n){return(n?"":"    ")+e}function Di(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Fd(e,t,n,i){const r=Di(n),l=r==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const c=n.createTracker(i);let s=c.move("[");return s+=c.move(n.safe(n.associationId(e),{before:s,after:"]",...c.current()})),s+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),s+=c.move("<"),s+=c.move(n.safe(e.url,{before:s,after:">",...c.current()})),s+=c.move(">")):(o=n.enter("destinationRaw"),s+=c.move(n.safe(e.url,{before:s,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${l}`),s+=c.move(" "+r),s+=c.move(n.safe(e.title,{before:s,after:r,...c.current()})),s+=c.move(r),o()),a(),s}function _d(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Kt(e){return"&#x"+e.toString(16).toUpperCase()+";"}function hn(e,t,n){const i=At(e),r=At(t);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Za.peek=Md;function Za(e,t,n,i){const r=_d(n),l=n.enter("emphasis"),a=n.createTracker(i),o=a.move(r);let c=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const s=c.charCodeAt(0),d=hn(i.before.charCodeAt(i.before.length-1),s,r);d.inside&&(c=Kt(s)+c.slice(1));const p=c.charCodeAt(c.length-1),h=hn(i.after.charCodeAt(0),p,r);h.inside&&(c=c.slice(0,-1)+Kt(p));const f=a.move(r);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+f}function Md(e,t,n){return n.options.emphasis||"*"}function Od(e,t){let n=!1;return Ii(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,ri}),!!((!e.depth||e.depth<3)&&ki(e)&&(t.options.setext||n))}function Ld(e,t,n,i){const r=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(i);if(Od(e,n)){const d=n.enter("headingSetext"),p=n.enter("phrasing"),h=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return p(),d(),h+`
`+(r===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(r),o=n.enter("headingAtx"),c=n.enter("phrasing");l.move(a+" ");let s=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(s)&&(s=Kt(s.charCodeAt(0))+s.slice(1)),s=s?a+" "+s:a,n.options.closeAtx&&(s+=" "+a),c(),o(),s}Ja.peek=Bd;function Ja(e){return e.value||""}function Bd(){return"<"}el.peek=$d;function el(e,t,n,i){const r=Di(n),l=r==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const c=n.createTracker(i);let s=c.move("![");return s+=c.move(n.safe(e.alt,{before:s,after:"]",...c.current()})),s+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),s+=c.move("<"),s+=c.move(n.safe(e.url,{before:s,after:">",...c.current()})),s+=c.move(">")):(o=n.enter("destinationRaw"),s+=c.move(n.safe(e.url,{before:s,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${l}`),s+=c.move(" "+r),s+=c.move(n.safe(e.title,{before:s,after:r,...c.current()})),s+=c.move(r),o()),s+=c.move(")"),a(),s}function $d(){return"!"}tl.peek=Ud;function tl(e,t,n,i){const r=e.referenceType,l=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(i);let c=o.move("![");const s=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(s+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,l(),r==="full"||!s||s!==p?c+=o.move(p+"]"):r==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function Ud(){return"!"}nl.peek=qd;function nl(e,t,n){let i=e.value||"",r="`",l=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++l<n.unsafe.length;){const a=n.unsafe[l],o=n.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(i);){let s=c.index;i.charCodeAt(s)===10&&i.charCodeAt(s-1)===13&&s--,i=i.slice(0,s)+" "+i.slice(c.index+1)}}return r+i+r}function qd(){return"`"}function il(e,t){const n=ki(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}rl.peek=Hd;function rl(e,t,n,i){const r=Di(n),l=r==='"'?"Quote":"Apostrophe",a=n.createTracker(i);let o,c;if(il(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),o(),n.stack=d,p}o=n.enter("link"),c=n.enter("label");let s=a.move("[");return s+=a.move(n.containerPhrasing(e,{before:s,after:"](",...a.current()})),s+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),s+=a.move("<"),s+=a.move(n.safe(e.url,{before:s,after:">",...a.current()})),s+=a.move(">")):(c=n.enter("destinationRaw"),s+=a.move(n.safe(e.url,{before:s,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${l}`),s+=a.move(" "+r),s+=a.move(n.safe(e.title,{before:s,after:r,...a.current()})),s+=a.move(r),c()),s+=a.move(")"),o(),s}function Hd(e,t,n){return il(e,n)?"<":"["}al.peek=Vd;function al(e,t,n,i){const r=e.referenceType,l=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(i);let c=o.move("[");const s=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(s+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,l(),r==="full"||!s||s!==p?c+=o.move(p+"]"):r==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function Vd(){return"["}function zi(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Wd(e){const t=zi(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Gd(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ll(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Kd(e,t,n,i){const r=n.enter("list"),l=n.bulletCurrent;let a=e.ordered?Gd(n):zi(n);const o=e.ordered?a==="."?")":".":Wd(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),ll(n)===a&&d){let p=-1;for(;++p<e.children.length;){const h=e.children[p];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),n.bulletCurrent=a;const s=n.containerFlow(e,i);return n.bulletLastUsed=a,n.bulletCurrent=l,r(),s}function Yd(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Xd(e,t,n,i){const r=Yd(n);let l=n.bulletCurrent||zi(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let a=l.length+1;(r==="tab"||r==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(i);o.move(l+" ".repeat(a-l.length)),o.shift(a);const c=n.enter("listItem"),s=n.indentLines(n.containerFlow(e,o.current()),d);return c(),s;function d(p,h,f){return h?(f?"":" ".repeat(a))+p:(f?l:l+" ".repeat(a-l.length))+p}}function Qd(e,t,n,i){const r=n.enter("paragraph"),l=n.enter("phrasing"),a=n.containerPhrasing(e,i);return l(),r(),a}const Zd=jn(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Jd(e,t,n,i){return(e.children.some(function(a){return Zd(a)})?n.containerPhrasing:n.containerFlow).call(n,e,i)}function ef(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ol.peek=tf;function ol(e,t,n,i){const r=ef(n),l=n.enter("strong"),a=n.createTracker(i),o=a.move(r+r);let c=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const s=c.charCodeAt(0),d=hn(i.before.charCodeAt(i.before.length-1),s,r);d.inside&&(c=Kt(s)+c.slice(1));const p=c.charCodeAt(c.length-1),h=hn(i.after.charCodeAt(0),p,r);h.inside&&(c=c.slice(0,-1)+Kt(p));const f=a.move(r+r);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+f}function tf(e,t,n){return n.options.strong||"*"}function nf(e,t,n,i){return n.safe(e.value,i)}function rf(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function af(e,t,n){const i=(ll(n)+(n.options.ruleSpaces?" ":"")).repeat(rf(n));return n.options.ruleSpaces?i.slice(0,-1):i}const sl={blockquote:Pd,break:Lr,code:Td,definition:Fd,emphasis:Za,hardBreak:Lr,heading:Ld,html:Ja,image:el,imageReference:tl,inlineCode:nl,link:rl,linkReference:al,list:Kd,listItem:Xd,paragraph:Qd,root:Jd,strong:ol,text:nf,thematicBreak:af};function lf(){return{enter:{table:of,tableData:Br,tableHeader:Br,tableRow:cf},exit:{codeText:uf,table:sf,tableData:Vn,tableHeader:Vn,tableRow:Vn}}}function of(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function sf(e){this.exit(e),this.data.inTable=void 0}function cf(e){this.enter({type:"tableRow",children:[]},e)}function Vn(e){this.exit(e)}function Br(e){this.enter({type:"tableCell",children:[]},e)}function uf(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,pf));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function pf(e,t){return t==="|"?t:e}function df(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:c,tableRow:o}};function a(f,y,C,A){return s(d(f,C,A),f.align)}function o(f,y,C,A){const w=p(f,C,A),N=s([w]);return N.slice(0,N.indexOf(`
`))}function c(f,y,C,A){const w=C.enter("tableCell"),N=C.enter("phrasing"),P=C.containerPhrasing(f,{...A,before:l,after:l});return N(),w(),P}function s(f,y){return Sd(f,{align:y,alignDelimiters:i,padding:n,stringLength:r})}function d(f,y,C){const A=f.children;let w=-1;const N=[],P=y.enter("table");for(;++w<A.length;)N[w]=p(A[w],y,C);return P(),N}function p(f,y,C){const A=f.children;let w=-1;const N=[],P=y.enter("tableRow");for(;++w<A.length;)N[w]=c(A[w],f,y,C);return P(),N}function h(f,y,C){let A=sl.inlineCode(f,y,C);return C.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}function ff(){return{exit:{taskListCheckValueChecked:$r,taskListCheckValueUnchecked:$r,paragraph:hf}}}function mf(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:xf}}}function $r(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function hf(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=t.children;let l=-1,a;for(;++l<r.length;){const o=r[l];if(o.type==="paragraph"){a=o;break}}a===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function xf(e,t,n,i){const r=e.children[0],l=typeof e.checked=="boolean"&&r&&r.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(i);l&&o.move(a);let c=sl.listItem(e,t,n,{...i,...o.current()});return l&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,s)),c;function s(d){return d+a}}function gf(){return[Kp(),hd(),yd(),lf(),ff()]}function vf(e){return{extensions:[Yp(),xd(e),bd(),df(e),mf()]}}const yf={tokenize:Sf,partial:!0},cl={tokenize:Ef,partial:!0},ul={tokenize:Pf,partial:!0},pl={tokenize:Nf,partial:!0},bf={tokenize:If,partial:!0},dl={name:"wwwAutolink",tokenize:jf,previous:ml},fl={name:"protocolAutolink",tokenize:Cf,previous:hl},rt={name:"emailAutolink",tokenize:kf,previous:xl},Ze={};function wf(){return{text:Ze}}let ft=48;for(;ft<123;)Ze[ft]=rt,ft++,ft===58?ft=65:ft===91&&(ft=97);Ze[43]=rt;Ze[45]=rt;Ze[46]=rt;Ze[95]=rt;Ze[72]=[rt,fl];Ze[104]=[rt,fl];Ze[87]=[rt,dl];Ze[119]=[rt,dl];function kf(e,t,n){const i=this;let r,l;return a;function a(p){return!si(p)||!xl.call(i,i.previous)||Ti(i.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(p))}function o(p){return si(p)?(e.consume(p),o):p===64?(e.consume(p),c):n(p)}function c(p){return p===46?e.check(bf,d,s)(p):p===45||p===95||Ne(p)?(l=!0,e.consume(p),c):d(p)}function s(p){return e.consume(p),r=!0,c}function d(p){return l&&r&&Re(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function jf(e,t,n){const i=this;return r;function r(a){return a!==87&&a!==119||!ml.call(i,i.previous)||Ti(i.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(yf,e.attempt(cl,e.attempt(ul,l),n),n)(a))}function l(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Cf(e,t,n){const i=this;let r="",l=!1;return a;function a(p){return(p===72||p===104)&&hl.call(i,i.previous)&&!Ti(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(p),e.consume(p),o):n(p)}function o(p){if(Re(p)&&r.length<5)return r+=String.fromCodePoint(p),e.consume(p),o;if(p===58){const h=r.toLowerCase();if(h==="http"||h==="https")return e.consume(p),c}return n(p)}function c(p){return p===47?(e.consume(p),l?s:(l=!0,c)):n(p)}function s(p){return p===null||dn(p)||le(p)||yt(p)||bn(p)?n(p):e.attempt(cl,e.attempt(ul,d),n)(p)}function d(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function Sf(e,t,n){let i=0;return r;function r(a){return(a===87||a===119)&&i<3?(i++,e.consume(a),r):a===46&&i===3?(e.consume(a),l):n(a)}function l(a){return a===null?n(a):t(a)}}function Ef(e,t,n){let i,r,l;return a;function a(s){return s===46||s===95?e.check(pl,c,o)(s):s===null||le(s)||yt(s)||s!==45&&bn(s)?c(s):(l=!0,e.consume(s),a)}function o(s){return s===95?i=!0:(r=i,i=void 0),e.consume(s),a}function c(s){return r||i||!l?n(s):t(s)}}function Pf(e,t){let n=0,i=0;return r;function r(a){return a===40?(n++,e.consume(a),r):a===41&&i<n?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(pl,t,l)(a):a===null||le(a)||yt(a)?t(a):(e.consume(a),r)}function l(a){return a===41&&i++,e.consume(a),r}}function Nf(e,t,n){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),i):o===38?(e.consume(o),l):o===93?(e.consume(o),r):o===60||o===null||le(o)||yt(o)?t(o):n(o)}function r(o){return o===null||o===40||o===91||le(o)||yt(o)?t(o):i(o)}function l(o){return Re(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),i):Re(o)?(e.consume(o),a):n(o)}}function If(e,t,n){return i;function i(l){return e.consume(l),r}function r(l){return Ne(l)?n(l):t(l)}}function ml(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||le(e)}function hl(e){return!Re(e)}function xl(e){return!(e===47||si(e))}function si(e){return e===43||e===45||e===46||e===95||Ne(e)}function Ti(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Af={tokenize:Of,partial:!0};function Df(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Ff,continuation:{tokenize:_f},exit:Mf}},text:{91:{name:"gfmFootnoteCall",tokenize:Rf},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zf,resolveTo:Tf}}}}function zf(e,t,n){const i=this;let r=i.events.length;const l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const c=i.events[r][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return n(c);const s=Ge(i.sliceSerialize({start:a.end,end:i.now()}));return s.codePointAt(0)!==94||!l.includes(s.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function Tf(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},o=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",l,t],["enter",a,t],["exit",a,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...o),e}function Rf(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l=0,a;return o;function o(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",s)}function s(p){if(l>999||p===93&&!a||p===null||p===91||le(p))return n(p);if(p===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return r.includes(Ge(i.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return le(p)||(a=!0),l++,e.consume(p),p===92?d:s}function d(p){return p===91||p===92||p===93?(e.consume(p),l++,s):s(p)}}function Ff(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,a=0,o;return c;function c(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),s}function s(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(y)}function d(y){if(a>999||y===93&&!o||y===null||y===91||le(y))return n(y);if(y===93){e.exit("chunkString");const C=e.exit("gfmFootnoteDefinitionLabelString");return l=Ge(i.sliceSerialize(C)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return le(y)||(o=!0),a++,e.consume(y),y===92?p:d}function p(y){return y===91||y===92||y===93?(e.consume(y),a++,d):d(y)}function h(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),r.includes(l)||r.push(l),Z(e,f,"gfmFootnoteDefinitionWhitespace")):n(y)}function f(y){return t(y)}}function _f(e,t,n){return e.check(Qt,t,e.attempt(Af,t,n))}function Mf(e){e.exit("gfmFootnoteDefinition")}function Of(e,t,n){const i=this;return Z(e,r,"gfmFootnoteDefinitionIndent",5);function r(l){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(l):n(l)}}function Lf(e){let n=(e||{}).singleTilde;const i={name:"strikethrough",tokenize:l,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(a,o){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let s=c;for(;s--;)if(a[s][0]==="exit"&&a[s][1].type==="strikethroughSequenceTemporary"&&a[s][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[s][1].end.offset-a[s][1].start.offset){a[c][1].type="strikethroughSequence",a[s][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[s][1].start),end:Object.assign({},a[c][1].end)},p={type:"strikethroughText",start:Object.assign({},a[s][1].end),end:Object.assign({},a[c][1].start)},h=[["enter",d,o],["enter",a[s][1],o],["exit",a[s][1],o],["enter",p,o]],f=o.parser.constructs.insideSpan.null;f&&Ue(h,h.length,0,wn(f,a.slice(s+1,c),o)),Ue(h,h.length,0,[["exit",p,o],["enter",a[c][1],o],["exit",a[c][1],o],["exit",d,o]]),Ue(a,s-1,c-s+3,h),c=s+h.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function l(a,o,c){const s=this.previous,d=this.events;let p=0;return h;function h(y){return s===126&&d[d.length-1][1].type!=="characterEscape"?c(y):(a.enter("strikethroughSequenceTemporary"),f(y))}function f(y){const C=At(s);if(y===126)return p>1?c(y):(a.consume(y),p++,f);if(p<2&&!n)return c(y);const A=a.exit("strikethroughSequenceTemporary"),w=At(y);return A._open=!w||w===2&&!!C,A._close=!C||C===2&&!!w,o(y)}}}class Bf{constructor(){this.map=[]}add(t,n,i){$f(this,t,n,i)}consume(t){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];i.push(t.slice()),t.length=0;let r=i.pop();for(;r;){for(const l of r)t.push(l);r=i.pop()}this.map.length=0}}function $f(e,t,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<e.map.length;){if(e.map[r][0]===t){e.map[r][1]+=n,e.map[r][2].push(...i);return}r+=1}e.map.push([t,n,i])}}function Uf(e,t){let n=!1;const i=[];for(;t<e.length;){const r=e[t];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=i.length-1;i[l]=i[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return i}function qf(){return{flow:{null:{name:"table",tokenize:Hf,resolveAll:Vf}}}}function Hf(e,t,n){const i=this;let r=0,l=0,a;return o;function o(j){let R=i.events.length-1;for(;R>-1;){const T=i.events[R][1].type;if(T==="lineEnding"||T==="linePrefix")R--;else break}const D=R>-1?i.events[R][1].type:null,M=D==="tableHead"||D==="tableRow"?S:c;return M===S&&i.parser.lazy[i.now().line]?n(j):M(j)}function c(j){return e.enter("tableHead"),e.enter("tableRow"),s(j)}function s(j){return j===124||(a=!0,l+=1),d(j)}function d(j){return j===null?n(j):U(j)?l>1?(l=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),f):n(j):Y(j)?Z(e,d,"whitespace")(j):(l+=1,a&&(a=!1,r+=1),j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),p(j)))}function p(j){return j===null||j===124||le(j)?(e.exit("data"),d(j)):(e.consume(j),j===92?h:p)}function h(j){return j===92||j===124?(e.consume(j),p):p(j)}function f(j){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(j):(e.enter("tableDelimiterRow"),a=!1,Y(j)?Z(e,y,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):y(j))}function y(j){return j===45||j===58?A(j):j===124?(a=!0,e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),C):L(j)}function C(j){return Y(j)?Z(e,A,"whitespace")(j):A(j)}function A(j){return j===58?(l+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),w):j===45?(l+=1,w(j)):j===null||U(j)?F(j):L(j)}function w(j){return j===45?(e.enter("tableDelimiterFiller"),N(j)):L(j)}function N(j){return j===45?(e.consume(j),N):j===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),P):(e.exit("tableDelimiterFiller"),P(j))}function P(j){return Y(j)?Z(e,F,"whitespace")(j):F(j)}function F(j){return j===124?y(j):j===null||U(j)?!a||r!==l?L(j):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(j)):L(j)}function L(j){return n(j)}function S(j){return e.enter("tableRow"),B(j)}function B(j){return j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),B):j===null||U(j)?(e.exit("tableRow"),t(j)):Y(j)?Z(e,B,"whitespace")(j):(e.enter("data"),W(j))}function W(j){return j===null||j===124||le(j)?(e.exit("data"),B(j)):(e.consume(j),j===92?q:W)}function q(j){return j===92||j===124?(e.consume(j),W):W(j)}}function Vf(e,t){let n=-1,i=!0,r=0,l=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,s,d,p;const h=new Bf;for(;++n<e.length;){const f=e[n],y=f[1];f[0]==="enter"?y.type==="tableHead"?(o=!1,c!==0&&(Ur(h,t,c,s,d),d=void 0,c=0),s={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(n,0,[["enter",s,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(i=!0,p=void 0,l=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(n,0,[["enter",d,t]])),r=y.type==="tableDelimiterRow"?2:d?3:1):r&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],p=an(h,t,l,r,void 0,p),l=[0,0,0,0]),a[2]=n)):y.type==="tableCellDivider"&&(i?i=!1:(l[1]!==0&&(a[0]=a[1],p=an(h,t,l,r,void 0,p)),l=a,a=[l[1],n,0,0])):y.type==="tableHead"?(o=!0,c=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(c=n,l[1]!==0?(a[0]=a[1],p=an(h,t,l,r,n,p)):a[1]!==0&&(p=an(h,t,a,r,n,p)),r=0):r&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&Ur(h,t,c,s,d),h.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=Uf(t.events,n))}return e}function an(e,t,n,i,r,l){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(l.end=Object.assign({},St(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const c=St(t.events,n[1]);if(l={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const s=St(t.events,n[2]),d=St(t.events,n[3]),p={type:o,start:Object.assign({},s),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",p,t]]),i!==2){const h=t.events[n[2]],f=t.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,C=n[3]-n[2]-1;e.add(y,C,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return r!==void 0&&(l.end=Object.assign({},St(t.events,r)),e.add(r,0,[["exit",l,t]]),l=void 0),l}function Ur(e,t,n,i,r){const l=[],a=St(t.events,n);r&&(r.end=Object.assign({},a),l.push(["exit",r,t])),i.end=Object.assign({},a),l.push(["exit",i,t]),e.add(n+1,0,l)}function St(e,t){const n=e[t],i=n[0]==="enter"?"start":"end";return n[1][i]}const Wf={name:"tasklistCheck",tokenize:Kf};function Gf(){return{text:{91:Wf}}}function Kf(e,t,n){const i=this;return r;function r(c){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),l)}function l(c){return le(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(c)}function o(c){return U(c)?t(c):Y(c)?e.check({tokenize:Yf},t,n)(c):n(c)}}function Yf(e,t,n){return Z(e,i,"whitespace");function i(r){return r===null?n(r):t(r)}}function Xf(e){return Ea([wf(),Df(),Lf(e),qf(),Gf()])}const Qf={};function gl(e){const t=this,n=e||Qf,i=t.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),l=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(Xf(n)),l.push(gf()),a.push(vf(n))}var Ri="ContextMenu",[Zf,Qh]=Ll(Ri,[ca]),Fe=ca(),[Jf,vl]=Zf(Ri),yl=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:i,dir:r,modal:l=!0}=e,[a,o]=E.useState(!1),c=Fe(t),s=Ol(i),d=E.useCallback(p=>{o(p),s(p)},[s]);return u.jsx(Jf,{scope:t,open:a,onOpenChange:d,modal:l,children:u.jsx(Bl,{...c,dir:r,open:a,onOpenChange:d,modal:l,children:n})})};yl.displayName=Ri;var bl="ContextMenuTrigger",wl=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:i=!1,...r}=e,l=vl(bl,n),a=Fe(n),o=E.useRef({x:0,y:0}),c=E.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...o.current})}),s=E.useRef(0),d=E.useCallback(()=>window.clearTimeout(s.current),[]),p=h=>{o.current={x:h.clientX,y:h.clientY},l.onOpenChange(!0)};return E.useEffect(()=>d,[d]),E.useEffect(()=>void(i&&d()),[i,d]),u.jsxs(u.Fragment,{children:[u.jsx($l,{...a,virtualRef:c}),u.jsx(Ul.span,{"data-state":l.open?"open":"closed","data-disabled":i?"":void 0,...r,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:i?e.onContextMenu:Ft(e.onContextMenu,h=>{d(),p(h),h.preventDefault()}),onPointerDown:i?e.onPointerDown:Ft(e.onPointerDown,ln(h=>{d(),s.current=window.setTimeout(()=>p(h),700)})),onPointerMove:i?e.onPointerMove:Ft(e.onPointerMove,ln(d)),onPointerCancel:i?e.onPointerCancel:Ft(e.onPointerCancel,ln(d)),onPointerUp:i?e.onPointerUp:Ft(e.onPointerUp,ln(d))})]})});wl.displayName=bl;var em="ContextMenuPortal",kl=e=>{const{__scopeContextMenu:t,...n}=e,i=Fe(t);return u.jsx(ql,{...i,...n})};kl.displayName=em;var jl="ContextMenuContent",Cl=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=vl(jl,n),l=Fe(n),a=E.useRef(!1);return u.jsx(Hl,{...l,...i,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:o=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,o),!o.defaultPrevented&&a.current&&o.preventDefault(),a.current=!1},onInteractOutside:o=>{var c;(c=e.onInteractOutside)==null||c.call(e,o),!o.defaultPrevented&&!r.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cl.displayName=jl;var tm="ContextMenuGroup",nm=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Wl,{...r,...i,ref:t})});nm.displayName=tm;var im="ContextMenuLabel",rm=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Gl,{...r,...i,ref:t})});rm.displayName=im;var am="ContextMenuItem",Sl=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Vl,{...r,...i,ref:t})});Sl.displayName=am;var lm="ContextMenuCheckboxItem",om=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Kl,{...r,...i,ref:t})});om.displayName=lm;var sm="ContextMenuRadioGroup",cm=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Yl,{...r,...i,ref:t})});cm.displayName=sm;var um="ContextMenuRadioItem",pm=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Xl,{...r,...i,ref:t})});pm.displayName=um;var dm="ContextMenuItemIndicator",fm=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Ql,{...r,...i,ref:t})});fm.displayName=dm;var mm="ContextMenuSeparator",hm=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Zl,{...r,...i,ref:t})});hm.displayName=mm;var xm="ContextMenuArrow",gm=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(Jl,{...r,...i,ref:t})});gm.displayName=xm;var vm="ContextMenuSubTrigger",ym=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(eo,{...r,...i,ref:t})});ym.displayName=vm;var bm="ContextMenuSubContent",wm=E.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return u.jsx(to,{...r,...i,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wm.displayName=bm;function ln(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var km=yl,jm=wl,Cm=kl,Sm=Cl,Em=Sl;function Pm({...e}){return u.jsx(km,{"data-slot":"context-menu",...e})}function Nm({...e}){return u.jsx(jm,{"data-slot":"context-menu-trigger",...e})}function Im({className:e,...t}){return u.jsx(Cm,{children:u.jsx(Sm,{"data-slot":"context-menu-content",className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),...t})})}function qr({className:e,inset:t,variant:n="default",...i}){return u.jsx(Em,{"data-slot":"context-menu-item","data-inset":t,"data-variant":n,className:Te("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}const Hr=Vt.memo(({content:e})=>/[*_~`#>|\[\]()]/.test(e)?u.jsx(Ga,{remarkPlugins:[gl],children:e}):u.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e})),Am=({messages:e,onSendMessage:t,onEditMessage:n,apiKey:i,selectedModel:r,onModelChange:l,isProcessing:a,handleFileUpload:o})=>{const[c,s]=E.useState(""),[d,p]=E.useState(!1),[h,f]=E.useState(""),[y,C]=E.useState(r);E.useEffect(()=>{d&&(f(c),C(r))},[d,r]);const A=()=>{s(h),l(y),p(!1)},[w,N]=E.useState([]),[P,F]=E.useState([]),[L,S]=E.useState(null),[B,W]=E.useState(null),[q,j]=E.useState(null),[R,D]=E.useState(1),[M,T]=E.useState(!1),[O,te]=E.useState({x:0,y:0}),[ne,oe]=E.useState({x:0,y:0}),ee=E.useRef(null),v=E.useRef(null),J=E.useRef(null),ce=E.useRef(null),x=E.useRef(null),H=E.useRef(null),ie=m=>{const b=Array.from(m.target.files||[]).filter(_=>_.type.startsWith("image/"));if((b==null?void 0:b.length)===0)return;const I=b.map(_=>URL.createObjectURL(_));N(_=>[..._,...b]),F(_=>[..._,...I])},K=m=>{N(g=>g.filter((b,I)=>I!==m)),URL.revokeObjectURL(P[m]),F(g=>g.filter((b,I)=>I!==m))},me=m=>{S(m)},we=(m,g)=>{m.preventDefault(),m.dataTransfer.dropEffect="move",W(g)},Ce=()=>{S(null),W(null)},Se=(m,g)=>{if(m.preventDefault(),L===null||L===g){S(null),W(null);return}const b=[...w],I=[...P],_=b[L],$=I[L];b.splice(L,1),I.splice(L,1),b.splice(g,0,_),I.splice(g,0,$),N(b),F(I),S(null),W(null)},_e=()=>{N([]),P.forEach(m=>URL.revokeObjectURL(m)),F([]),J.current&&(J.current.value="")},Ae=async()=>{const m=c.trim();!m&&(w==null?void 0:w.length)===0||!i||((w==null?void 0:w.length)>0?t(m,[...w]):t(m),s(""),N([]),F([]),J.current&&(J.current.value=""))},at=m=>{(m.key==="Enter"&&!m.shiftKey||m.key==="Enter"&&m.ctrlKey)&&(m.preventDefault(),Ae())},lt=m=>{const g=m.clipboardData.items,b=Array.from(g).filter(I=>I.type.startsWith("image/"));if((b==null?void 0:b.length)>0){const I=b.map($=>$.getAsFile()),_=I.map($=>URL.createObjectURL($));N($=>[...$,...I]),F($=>[...$,..._])}};E.useEffect(()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[c]);const Ke=m=>{var I;const g=typeof m.content=="string"?m.content:((I=m.content)==null?void 0:I.content)||"";if(g.trim()==="")return;const b=e.findIndex(_=>_.id===m.id);if(b!==-1){const _=[...e];_[b].isEditing=!1,n(m.id,g)}},Je=()=>{var m,g;if((g=(m=J.current)==null?void 0:m.files)!=null&&g.length){const b=Array.from(J.current.files);o(b),J.current&&(J.current.value="")}};E.useEffect(()=>()=>{P.forEach(m=>URL.revokeObjectURL(m))},[]);const Le=()=>{j(null),D(1),oe({x:0,y:0})},Ye=()=>D(m=>Math.min(m+.5,5)),Ve=()=>D(m=>Math.max(m-.5,.5)),qe=()=>D(1),ot=m=>{R<=1||(T(!0),te({x:m.clientX,y:m.clientY}))},st=m=>{if(!M||R<=1)return;const g=m.clientX-O.x,b=m.clientY-O.y;oe(I=>({x:I.x+g,y:I.y+b})),te({x:m.clientX,y:m.clientY})},et=()=>{T(!1)};E.useEffect(()=>{R<=1&&oe({x:0,y:0})},[R]),E.useEffect(()=>{k()},[e]),E.useEffect(()=>{k()},[e]);const k=()=>{H.current&&requestAnimationFrame(()=>{H.current&&(H.current.scrollTop=H.current.scrollHeight)})};return u.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-background rounded-md border relative transition-transform duration-200",style:{},children:[u.jsx(un,{className:"min-h-[70vh] p-4 pb-[140px]",ref:H,children:u.jsxs("div",{className:"space-y-4",children:[e.map((m,g)=>{var b,I,_,$,fe,Ee,re,je,xe,ge,Be,Pe;return u.jsx("div",{className:Te("flex animate-in fade-in-0 slide-in-from-bottom-4 duration-300 ease-in-out",m.role==="user"?"justify-end":"justify-start"),style:{animationDelay:`${g*50}ms`},children:u.jsx("div",{className:Te("flex flex-col",m.role==="user"?"items-end ml-auto":"items-start mr-auto","max-w-[85%] w-auto"),children:m.role==="user"&&!m.isProcessing&&!m.isEditing?u.jsxs(Pm,{children:[u.jsx(Nm,{asChild:!0,children:u.jsxs("div",{children:[u.jsx($t,{className:Te("p-3 shadow-sm group hover:shadow-md transition-shadow duration-200",m.role==="user"?"bg-muted/5":"bg-muted"),style:{wordBreak:"break-word",width:"100%"},children:m.isEditing?u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(en,{value:typeof m.content=="string"?m.content:((b=m.content)==null?void 0:b.content)||"",onChange:X=>{const V=[...e],ue=V.findIndex(he=>he.id===m.id);ue!==-1&&(V[ue].content=X.target.value,n(m.id,X.target.value))},className:"min-h-[60px] bg-background/50",autoFocus:!0}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{var ue,he;const X=[...e],V=X.findIndex(ke=>ke.id===m.id);if(V!==-1){m.originalContent&&(X[V].content=m.originalContent),X[V].isEditing=!1;const ke=typeof m.originalContent=="string"?m.originalContent:((ue=m.originalContent)==null?void 0:ue.content)||"",pe=typeof m.content=="string"?m.content:((he=m.content)==null?void 0:he.content)||"";n(m.id,ke||pe)}},children:"Cancel"}),u.jsxs(Q,{size:"sm",onClick:()=>Ke(m),children:[u.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"prose prose-sm max-w-none break-words dark:prose-invert",children:u.jsx(Hr,{content:typeof m.content=="string"?m.content:((I=m.content)==null?void 0:I.content)||""})}),(m.imageDataUrls&&((_=m.imageDataUrls)==null?void 0:_.length)>0?m.imageDataUrls:typeof m.content=="object"&&(($=m.content)==null?void 0:$.imageBase64s))&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 max-w-full overflow-hidden",children:(m.imageDataUrls&&((fe=m.imageDataUrls)==null?void 0:fe.length)>0?m.imageDataUrls:typeof m.content=="object"&&((Ee=m.content)==null?void 0:Ee.imageBase64s)||[]).map((X,V)=>u.jsxs("div",{className:"relative animate-in zoom-in-95 duration-200 max-w-[calc(100%-8px)]",style:{animationDelay:`${V*100}ms`},children:[u.jsx("img",{src:X,alt:`Uploaded ${V}`,className:"max-w-full max-h-[150px] rounded-md object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>j(X),style:{objectFit:"cover",aspectRatio:"4/3"}}),u.jsx("div",{className:"absolute top-1 right-1 bg-black/50 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Nn,{className:"h-3 w-3 text-white"})})]},V))}),m.isProcessing&&u.jsxs("div",{className:"flex items-center mt-2 text-sm animate-in fade-in-0 duration-200",children:[u.jsx(En,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}),m.hasError&&u.jsx("div",{className:"text-destructive mt-2 text-sm animate-in fade-in-0 duration-200",children:"Error processing message"})]})}),u.jsxs("div",{className:"flex gap-2 mt-2 opacity-100 transition-opacity duration-200 justify-end",children:[u.jsx(Q,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0","aria-label":"Edit",onClick:async()=>{var ue,he,ke;const X=typeof m.content=="string"?m.content:((ue=m.content)==null?void 0:ue.content)||"";s(X),P.forEach(pe=>URL.revokeObjectURL(pe)),N([]),F([]);const V=m.imageDataUrls&&((he=m.imageDataUrls)==null?void 0:he.length)>0?m.imageDataUrls:typeof m.content=="object"&&((ke=m.content)==null?void 0:ke.imageBase64s);if(V&&(V==null?void 0:V.length)>0)try{const pe=await Promise.all(V.map(async(De,nt)=>{const it=De.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),We=it?it[1]:"image/png",Rt=await(await fetch(De)).blob(),dt=We.split("/")[1]||"png";return new File([Rt],`edit-image-${nt}.${dt}`,{type:We})})),tt=pe.map(De=>URL.createObjectURL(De));N(pe),F(tt)}catch(pe){console.error("Failed to load images for editing:",pe)}},children:u.jsx(Ki,{className:"h-4 w-4"})}),u.jsx(Q,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0","aria-label":"Retry",onClick:async()=>{var he,ke,pe,tt;const X=m,V=m.imageDataUrls&&((he=m.imageDataUrls)==null?void 0:he.length)>0?m.imageDataUrls:X.imageBase64s||typeof m.content=="object"&&((ke=m.content)==null?void 0:ke.imageBase64s),ue=typeof m.content=="string"?m.content:((pe=m.content)==null?void 0:pe.content)||"";if(X.originalFiles&&((tt=X.originalFiles)==null?void 0:tt.length)>0)t(ue,X.originalFiles);else if(V&&(V==null?void 0:V.length)>0)try{const De=await Promise.all(V.map(async(nt,it)=>{const We=nt.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),pt=We?We[1]:"image/png",dt=await(await fetch(nt)).blob(),Sn=pt.split("/")[1]||"png";return new File([dt],`retried-image-${it}.${Sn}`,{type:pt})}));t(ue,De)}catch{alert("Unable to retry image prompt: could not reconstruct image files from base64.")}else t(ue)},children:u.jsx(It,{className:"h-4 w-4"})})]})]})}),u.jsxs(Im,{children:[u.jsxs(qr,{onClick:async()=>{var ue,he,ke;const X=typeof m.content=="string"?m.content:((ue=m.content)==null?void 0:ue.content)||"";s(X),P.forEach(pe=>URL.revokeObjectURL(pe)),N([]),F([]);const V=m.imageDataUrls&&((he=m.imageDataUrls)==null?void 0:he.length)>0?m.imageDataUrls:typeof m.content=="object"&&((ke=m.content)==null?void 0:ke.imageBase64s);if(V&&(V==null?void 0:V.length)>0)try{const pe=await Promise.all(V.map(async(De,nt)=>{const it=De.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),We=it?it[1]:"image/png",Rt=await(await fetch(De)).blob(),dt=We.split("/")[1]||"png";return new File([Rt],`edit-image-${nt}.${dt}`,{type:We})})),tt=pe.map(De=>URL.createObjectURL(De));N(pe),F(tt)}catch(pe){console.error("Failed to load images for editing:",pe)}},children:[u.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Edit"]}),u.jsxs(qr,{onClick:async()=>{var he,ke,pe,tt;const X=m,V=m.imageDataUrls&&((he=m.imageDataUrls)==null?void 0:he.length)>0?m.imageDataUrls:X.imageBase64s||typeof m.content=="object"&&((ke=m.content)==null?void 0:ke.imageBase64s),ue=typeof m.content=="string"?m.content:((pe=m.content)==null?void 0:pe.content)||"";if(X.originalFiles&&((tt=X.originalFiles)==null?void 0:tt.length)>0)t(ue,X.originalFiles);else if(V&&(V==null?void 0:V.length)>0)try{const De=await Promise.all(V.map(async(nt,it)=>{const We=nt.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),pt=We?We[1]:"image/png",dt=await(await fetch(nt)).blob(),Sn=pt.split("/")[1]||"png";return new File([dt],`retried-image-${it}.${Sn}`,{type:pt})}));t(ue,De)}catch{alert("Unable to retry image prompt: could not reconstruct image files from base64.")}else t(ue)},children:[u.jsx(It,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]}):u.jsx($t,{className:Te("p-3 shadow-sm group hover:shadow-md transition-shadow duration-200",m.role==="user"?"bg-muted/5":"bg-muted"),style:{wordBreak:"break-word",width:"100%"},children:m.isEditing?u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(en,{value:typeof m.content=="string"?m.content:((re=m.content)==null?void 0:re.content)||"",onChange:X=>{const V=[...e],ue=V.findIndex(he=>he.id===m.id);ue!==-1&&(V[ue].content=X.target.value,n(m.id,X.target.value))},className:"min-h-[60px] bg-background/50",autoFocus:!0}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{var ue,he;const X=[...e],V=X.findIndex(ke=>ke.id===m.id);if(V!==-1){m.originalContent&&(X[V].content=m.originalContent),X[V].isEditing=!1;const ke=typeof m.originalContent=="string"?m.originalContent:((ue=m.originalContent)==null?void 0:ue.content)||"",pe=typeof m.content=="string"?m.content:((he=m.content)==null?void 0:he.content)||"";n(m.id,ke||pe)}},children:"Cancel"}),u.jsxs(Q,{size:"sm",onClick:()=>Ke(m),children:[u.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"prose prose-sm max-w-none break-words dark:prose-invert",children:u.jsx(Hr,{content:typeof m.content=="string"?m.content:((je=m.content)==null?void 0:je.content)||""})}),(m.imageDataUrls&&((xe=m.imageDataUrls)==null?void 0:xe.length)>0?m.imageDataUrls:typeof m.content=="object"&&((ge=m.content)==null?void 0:ge.imageBase64s))&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 max-w-full overflow-hidden",children:(m.imageDataUrls&&((Be=m.imageDataUrls)==null?void 0:Be.length)>0?m.imageDataUrls:typeof m.content=="object"&&((Pe=m.content)==null?void 0:Pe.imageBase64s)||[]).map((X,V)=>u.jsxs("div",{className:"relative animate-in zoom-in-95 duration-200 max-w-[calc(100%-8px)]",style:{animationDelay:`${V*100}ms`},children:[u.jsx("img",{src:X,alt:`Uploaded ${V}`,className:"max-w-full max-h-[150px] rounded-md object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>j(X),style:{objectFit:"cover",aspectRatio:"4/3"}}),u.jsx("div",{className:"absolute top-1 right-1 bg-black/50 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Nn,{className:"h-3 w-3 text-white"})})]},V))}),m.isProcessing&&u.jsxs("div",{className:"flex items-center mt-2 text-sm animate-in fade-in-0 duration-200",children:[u.jsx(En,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}),m.hasError&&u.jsx("div",{className:"text-destructive mt-2 text-sm animate-in fade-in-0 duration-200",children:"Error processing message"})]})})})},m.id)}),u.jsx("div",{ref:v})]})}),u.jsx("div",{className:"absolute bottom-[150px] left-0 right-0 h-[60px] bg-gradient-to-t from-background to-transparent pointer-events-none z-[5]"}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-auto max-h-[400px] flex flex-col overflow-hidden z-10 mb-4 px-4",children:u.jsxs("div",{className:"relative rounded-[24px] p-2 mx-auto w-full max-w-5xl",children:[u.jsx("div",{className:"absolute inset-0 -z-10 rounded-[24px] shadow-lg backdrop-blur-md bg-background/40 border"}),u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"flex p-1",children:[u.jsx("button",{type:"button",onClick:()=>{var m;return(m=J.current)==null?void 0:m.click()},disabled:!i||a,className:"relative w-[36px] h-[36px] p-1.5 rounded-full bg-muted/30 hover:bg-muted/50 transition-colors flex items-center justify-center",children:u.jsx(Qi,{className:"h-4 w-4"})}),u.jsx("input",{ref:J,type:"file",multiple:!0,accept:"image/*",onChange:ie,className:"hidden",disabled:!i||a})]}),u.jsxs("div",{className:"flex-1 flex items-center relative",children:[u.jsx(en,{ref:x,value:c,onChange:m=>s(m.target.value),onKeyDown:at,onPaste:lt,placeholder:"Type a message...",className:"w-full resize-none border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-sm overflow-y-auto bg-transparent px-2 py-3",disabled:!i||a,style:{opacity:!i||a?.6:1,overflow:"auto",overflowWrap:"break-word",minHeight:"44px",maxHeight:"200px",transition:"height 0.1s ease-in-out"}}),u.jsx("button",{type:"button","aria-label":"Expand editor",className:"w-[24px] h-[24px] rounded-full bg-muted/30 hover:bg-muted/50 transition-colors justify-center flex items-center ml-1",onClick:()=>p(!0),disabled:!i||a,tabIndex:-1,children:u.jsx(po,{className:"h-4 w-4 text-primary"})})]})]}),(P==null?void 0:P.length)>0&&u.jsxs("div",{className:"mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[u.jsxs("span",{className:"text-sm text-muted-foreground",children:[P==null?void 0:P.length," file",(P==null?void 0:P.length)!==1?"s":""," selected"]}),u.jsxs(Q,{variant:"ghost",size:"sm",onClick:_e,className:"h-7 px-2 text-xs hover:bg-destructive hover:text-destructive-foreground rounded-full",children:[u.jsx(Zn,{className:"h-3 w-3 mr-1"}),"Clear all"]})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 overflow-auto max-h-[80px]",children:P.map((m,g)=>u.jsx("div",{draggable:!0,onDragStart:()=>me(g),onDragOver:b=>we(b,g),onDragEnd:Ce,onDrop:b=>Se(b,g),className:Te("relative group cursor-grab transition-transform duration-200",L===g&&"opacity-50",B===g&&"scale-105"),children:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:m,alt:`Preview ${g}`,className:"w-16 h-16 rounded-md object-cover border cursor-pointer",onClick:b=>{b.stopPropagation(),j(m)},style:{objectFit:"cover",aspectRatio:"1/1"}}),u.jsx("button",{onClick:()=>K(g),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Wt,{className:"w-3 h-3"})}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(_i,{className:"w-4 h-4 text-white drop-shadow-md"})})]})},`preview-${g}`))})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx(Q,{type:"button",size:"sm",variant:"outline",onClick:()=>{J.current&&(J.current.multiple=!0,J.current.click(),J.current.onchange=()=>Je())},disabled:!i||a,className:"bg-muted/30 hover:bg-muted/50 border-muted/30 font-semibold px-3 py-2 h-9 rounded-full",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pn,{className:"h-[18px] w-[18px] sm:block hidden"}),u.jsx("span",{className:"truncate",children:"Image"})]})}),u.jsxs(ht,{value:r,onValueChange:l,disabled:!i||a,children:[u.jsx(xt,{className:"h-9 text-sm font-semibold bg-muted/30 hover:bg-muted/50 border-muted/30 px-3 py-2 rounded-full",children:u.jsx(gt,{placeholder:"Model",children:r.includes("flash")?"2.0":"2.5"})}),u.jsxs(vt,{className:"z-[1100]",children:[u.jsx(ye,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),u.jsx(ye,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]})]}),u.jsx(Q,{type:"button",disabled:!c.trim()&&(w==null?void 0:w.length)===0||!i||a,onClick:Ae,className:"w-[36px] h-[36px] p-0 rounded-full flex items-center justify-center bg-primary text-primary-foreground hover:bg-primary/90",children:a?u.jsx(En,{className:"h-5 w-5 animate-spin"}):u.jsx(Zi,{className:"h-5 w-5"})})]})]})]})}),u.jsx(Mi,{open:!!q,onOpenChange:m=>{m||Le()},children:u.jsx(Oi,{className:"sm:max-w-4xl p-0 bg-background/95 backdrop-blur-xs border-none",children:u.jsxs("div",{ref:ee,className:"relative flex items-center justify-center max-h-[85vh] min-h-[300px] overflow-hidden",onMouseDown:ot,onMouseMove:st,onMouseUp:et,onMouseLeave:et,style:{cursor:M?"grabbing":R>1?"grab":"default"},children:[q&&u.jsx("div",{className:"transition-transform duration-200",style:{transform:`scale(${R})`,position:"relative",left:`${ne.x}px`,top:`${ne.y}px`},children:u.jsx("img",{src:q,alt:"Expanded view",className:"max-w-full max-h-[80vh] object-contain",draggable:!1})}),R>1&&u.jsx("div",{className:"absolute top-2 left-2 text-xs bg-background/70 p-1 px-2 rounded-md animate-in fade-in-0 duration-200",children:M?"Moving...":"Click and drag to move"}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-2 bg-background/80 p-2 rounded-full shadow-md",children:[u.jsx(Q,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:Ve,disabled:R<=.1,children:u.jsx(fo,{className:"h-4 w-4"})}),u.jsxs(Q,{variant:"outline",size:"sm",className:"h-8 min-w-14 text-xs",onClick:qe,children:[Math.round(R*100),"%"]}),u.jsx(Q,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:Ye,disabled:R>=5,children:u.jsx(Nn,{className:"h-4 w-4"})})]})]})})}),u.jsx(Mi,{open:d,onOpenChange:m=>p(m),children:u.jsxs(Oi,{className:"sm:max-w-[95%] md:max-w-[90%] lg:max-w-[80%] xl:max-w-[70%] fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 p-4 sm:p-6 md:p-8 flex items-center justify-center w-full h-[90vh] max-h-[90vh]",style:{zIndex:1e3,"--hide-dialog-close":"none"},children:[u.jsx("style",{children:`
              [data-dialog-close], .DialogClose, .dialog-close, .dialog__close {
                display: none !important;
              }
            `}),u.jsxs("div",{className:"relative flex flex-col w-full h-full min-h-0 overflow-hidden",children:[(P==null?void 0:P.length)>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"flex items-center justify-between pt-2",children:u.jsxs("span",{className:"text-sm text-muted-foreground",children:[P==null?void 0:P.length," file",(P==null?void 0:P.length)!==1?"s":""," selected"]})}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 overflow-auto max-h-[80px]",children:P.map((m,g)=>u.jsx("div",{draggable:!0,onDragStart:()=>me(g),onDragOver:b=>we(b,g),onDragEnd:Ce,onDrop:b=>Se(b,g),className:Te("relative group cursor-grab transition-transform duration-200",L===g&&"opacity-50",B===g&&"scale-105"),children:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:m,alt:`Preview ${g}`,className:"w-16 h-16 rounded-md object-cover border cursor-pointer",onClick:b=>{b.stopPropagation(),j(m)},style:{objectFit:"cover",aspectRatio:"1/1"}}),u.jsx("button",{onClick:()=>K(g),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Wt,{className:"w-3 h-3"})}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(_i,{className:"w-4 h-4 text-white drop-shadow-md"})})]})},`dialog-preview-${g}`))})]}),u.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:u.jsxs(mi,{value:h===void 0?"raw":void 0,defaultValue:"raw",className:"flex-1 flex flex-col min-h-0 overflow-hidden",onValueChange:()=>{},children:[u.jsxs(hi,{className:"mb-2",children:[u.jsx(Pt,{value:"raw",children:"Raw"}),u.jsx(Pt,{value:"markdown",children:"Markdown"})]}),u.jsx(Nt,{value:"raw",className:"flex-1 min-h-0 overflow-hidden",children:u.jsx(en,{value:c,onChange:m=>s(m.target.value),onKeyDown:m=>{m.key==="Enter"&&m.ctrlKey&&(m.preventDefault(),Ae(),A())},className:"h-full min-h-0 max-h-full w-full text-sm sm:text-base md:text-lg font-mono resize-none overflow-auto p-3 sm:p-4",autoFocus:!0})}),u.jsx(Nt,{value:"markdown",className:"flex-1 min-h-0 overflow-hidden",children:u.jsx(Vt.Suspense,{fallback:u.jsxs("div",{className:"flex items-center justify-center h-full",children:[u.jsx("span",{className:"animate-spin mr-2 inline-block w-5 h-5 border-2 border-primary border-t-transparent rounded-full"}),u.jsx("span",{className:"text-muted-foreground",children:"Rendering preview…"})]}),children:u.jsx(Dm,{inputValue:c})})})]})}),u.jsxs("div",{className:"mt-4 border-t pt-4 flex flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(ht,{value:y,onValueChange:m=>{C(m),l(m)},disabled:!i||a,children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{ref:ce,type:"file",multiple:!0,accept:"image/*",onChange:ie,className:"hidden",disabled:!i||a}),u.jsxs(Q,{type:"button",onClick:()=>{var m;return(m=ce.current)==null?void 0:m.click()},className:"h-9 px-3 rounded-full text-xs sm:text-sm",disabled:!i||a,children:[u.jsx(Qi,{className:"h-4 w-4 mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Add Image"}),u.jsx("span",{className:"inline sm:hidden",children:"Image"})]})]}),u.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsx(gt,{placeholder:"Model",children:y.includes("flash")?"2.0":"2.5"})}),u.jsxs(vt,{className:"z-[1100]",children:[u.jsx(ye,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),u.jsx(ye,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),(w==null?void 0:w.length)>0&&u.jsxs(Q,{variant:"ghost",size:"sm",onClick:_e,className:"h-7 px-2 text-xs hover:bg-destructive hover:text-destructive-foreground rounded-full",children:[u.jsx(Zn,{className:"h-3 w-3 mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Clear all"}),u.jsx("span",{className:"inline sm:hidden",children:"Clear"})]})]}),u.jsxs(Q,{type:"button",onClick:async()=>{await Ae(),A()},className:"h-9 px-5 rounded-full bg-primary text-primary-foreground font-semibold z-10 shadow-lg flex items-center",disabled:!c.trim()&&(w==null?void 0:w.length)===0||!i||a,children:[u.jsx(Zi,{className:"h-5 w-5 mr-1"}),"Send"]})]})]})]})})]})},Dm=Vt.lazy(()=>Promise.resolve({default:Vt.memo(({inputValue:e})=>{const t=/[*_~`#>|\[\]()]/.test(e);return u.jsx("div",{className:"h-full min-h-[40vh] max-h-[70vh] w-full overflow-auto bg-background border rounded-md p-2 sm:p-4 prose prose-sm sm:prose-base md:prose-lg dark:prose-invert",children:t?u.jsx(Ga,{remarkPlugins:[gl],children:e}):u.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e})})})}));var Wn={exports:{}},Gn,Vr;function zm(){if(Vr)return Gn;Vr=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gn=e,Gn}var Kn,Wr;function Tm(){if(Wr)return Kn;Wr=1;var e=zm();function t(){}function n(){}return n.resetWarningCache=t,Kn=function(){function i(a,o,c,s,d,p){if(p!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}i.isRequired=i;function r(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Kn}var Gr;function Rm(){return Gr||(Gr=1,Wn.exports=Tm()()),Wn.exports}var Fm=Rm();const ae=yn(Fm),_m=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Dt(e,t,n){const i=Mm(e),{webkitRelativePath:r}=e,l=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof i.path!="string"&&Kr(i,"path",l),Kr(i,"relativePath",l),i}function Mm(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),r=_m.get(i);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function Kr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Om=[".DS_Store","Thumbs.db"];function Lm(e){return wt(this,void 0,void 0,function*(){return xn(e)&&Bm(e.dataTransfer)?Hm(e.dataTransfer,e.type):$m(e)?Um(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?qm(e):[]})}function Bm(e){return xn(e)}function $m(e){return xn(e)&&xn(e.target)}function xn(e){return typeof e=="object"&&e!==null}function Um(e){return ci(e.target.files).map(t=>Dt(t))}function qm(e){return wt(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Dt(n))})}function Hm(e,t){return wt(this,void 0,void 0,function*(){if(e.items){const n=ci(e.items).filter(r=>r.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(Vm));return Yr(El(i))}return Yr(ci(e.files).map(n=>Dt(n)))})}function Yr(e){return e.filter(t=>Om.indexOf(t.name)===-1)}function ci(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function Vm(e){if(typeof e.webkitGetAsEntry!="function")return Xr(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Pl(t):Xr(e,t)}function El(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?El(n):[n]],[])}function Xr(e,t){return wt(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const l=yield e.getAsFileSystemHandle();if(l===null)throw new Error(`${e} is not a File`);if(l!==void 0){const a=yield l.getFile();return a.handle=l,Dt(a)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return Dt(i,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function Wm(e){return wt(this,void 0,void 0,function*(){return e.isDirectory?Pl(e):Gm(e)})}function Pl(e){const t=e.createReader();return new Promise((n,i)=>{const r=[];function l(){t.readEntries(a=>wt(this,void 0,void 0,function*(){if(a.length){const o=Promise.all(a.map(Wm));r.push(o),l()}else try{const o=yield Promise.all(r);n(o)}catch(o){i(o)}}),a=>{i(a)})}l()})}function Gm(e){return wt(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const r=Dt(i,e.fullPath);t(r)},i=>{n(i)})})})}var on={},Qr;function Km(){return Qr||(Qr=1,on.__esModule=!0,on.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",r=(e.type||"").toLowerCase(),l=r.replace(/\/.*$/,"");return n.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?l===o.replace(/\/.*$/,""):r===o})}return!0}),on}var Ym=Km();const Yn=yn(Ym);function Zr(e){return Zm(e)||Qm(e)||Il(e)||Xm()}function Xm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zm(e){if(Array.isArray(e))return ui(e)}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jr(Object(n),!0).forEach(function(i){Nl(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){return th(e)||eh(e,t)||Il(e,t)||Jm()}function Jm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Il(e,t){if(e){if(typeof e=="string")return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}}function ui(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function eh(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,l=!1,a,o;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!(t&&i.length===t));r=!0);}catch(c){l=!0,o=c}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw o}}return i}}function th(e){if(Array.isArray(e))return e}var nh=typeof Yn=="function"?Yn:Yn.default,ih="file-invalid-type",rh="file-too-large",ah="file-too-small",lh="too-many-files",oh=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:ih,message:"File type must be ".concat(i)}},ta=function(t){return{code:rh,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},na=function(t){return{code:ah,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},sh={code:lh,message:"Too many files"};function Al(e,t){var n=e.type==="application/x-moz-file"||nh(e,t);return[n,n?null:oh(t)]}function Dl(e,t,n){if(mt(e.size))if(mt(t)&&mt(n)){if(e.size>n)return[!1,ta(n)];if(e.size<t)return[!1,na(t)]}else{if(mt(t)&&e.size<t)return[!1,na(t)];if(mt(n)&&e.size>n)return[!1,ta(n)]}return[!0,null]}function mt(e){return e!=null}function ch(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize,l=e.multiple,a=e.maxFiles,o=e.validator;return!l&&t.length>1||l&&a>=1&&t.length>a?!1:t.every(function(c){var s=Al(c,n),d=Yt(s,1),p=d[0],h=Dl(c,i,r),f=Yt(h,1),y=f[0],C=o?o(c):null;return p&&y&&!C})}function gn(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function sn(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function ia(e){e.preventDefault()}function uh(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ph(e){return e.indexOf("Edge/")!==-1}function dh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return uh(e)||ph(e)}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,l=new Array(r>1?r-1:0),a=1;a<r;a++)l[a-1]=arguments[a];return t.some(function(o){return!gn(i)&&o&&o.apply(void 0,[i].concat(l)),gn(i)})}}function fh(){return"showOpenFilePicker"in window}function mh(e){if(mt(e)){var t=Object.entries(e).filter(function(n){var i=Yt(n,2),r=i[0],l=i[1],a=!0;return zl(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(l)||!l.every(Tl))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,i){var r=Yt(i,2),l=r[0],a=r[1];return ea(ea({},n),{},Nl({},l,a))},{});return[{description:"Files",accept:t}]}return e}function hh(e){if(mt(e))return Object.entries(e).reduce(function(t,n){var i=Yt(n,2),r=i[0],l=i[1];return[].concat(Zr(t),[r],Zr(l))},[]).filter(function(t){return zl(t)||Tl(t)}).join(",")}function xh(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function gh(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function zl(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Tl(e){return/^.*\.[\w]+$/.test(e)}var vh=["children"],yh=["open"],bh=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],wh=["refKey","onChange","onClick"];function kh(e){return Sh(e)||Ch(e)||Rl(e)||jh()}function jh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ch(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sh(e){if(Array.isArray(e))return pi(e)}function Xn(e,t){return Nh(e)||Ph(e,t)||Rl(e,t)||Eh()}function Eh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rl(e,t){if(e){if(typeof e=="string")return pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pi(e,t)}}function pi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ph(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,l=!1,a,o;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!(t&&i.length===t));r=!0);}catch(c){l=!0,o=c}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw o}}return i}}function Nh(e){if(Array.isArray(e))return e}function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ra(Object(n),!0).forEach(function(i){di(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){if(e==null)return{};var n=Ih(e,t),i,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)i=l[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Ih(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,l;for(l=0;l<i.length;l++)r=i[l],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var Fi=E.forwardRef(function(e,t){var n=e.children,i=vn(e,vh),r=_l(i),l=r.open,a=vn(r,yh);return E.useImperativeHandle(t,function(){return{open:l}},[l]),Vt.createElement(E.Fragment,null,n(de(de({},a),{},{open:l})))});Fi.displayName="Dropzone";var Fl={disabled:!1,getFilesFromEvent:Lm,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Fi.defaultProps=Fl;Fi.propTypes={children:ae.func,accept:ae.objectOf(ae.arrayOf(ae.string)),multiple:ae.bool,preventDropOnDocument:ae.bool,noClick:ae.bool,noKeyboard:ae.bool,noDrag:ae.bool,noDragEventsBubbling:ae.bool,minSize:ae.number,maxSize:ae.number,maxFiles:ae.number,disabled:ae.bool,getFilesFromEvent:ae.func,onFileDialogCancel:ae.func,onFileDialogOpen:ae.func,useFsAccessApi:ae.bool,autoFocus:ae.bool,onDragEnter:ae.func,onDragLeave:ae.func,onDragOver:ae.func,onDrop:ae.func,onDropAccepted:ae.func,onDropRejected:ae.func,onError:ae.func,validator:ae.func};var fi={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function _l(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=de(de({},Fl),e),n=t.accept,i=t.disabled,r=t.getFilesFromEvent,l=t.maxSize,a=t.minSize,o=t.multiple,c=t.maxFiles,s=t.onDragEnter,d=t.onDragLeave,p=t.onDragOver,h=t.onDrop,f=t.onDropAccepted,y=t.onDropRejected,C=t.onFileDialogCancel,A=t.onFileDialogOpen,w=t.useFsAccessApi,N=t.autoFocus,P=t.preventDropOnDocument,F=t.noClick,L=t.noKeyboard,S=t.noDrag,B=t.noDragEventsBubbling,W=t.onError,q=t.validator,j=E.useMemo(function(){return hh(n)},[n]),R=E.useMemo(function(){return mh(n)},[n]),D=E.useMemo(function(){return typeof A=="function"?A:aa},[A]),M=E.useMemo(function(){return typeof C=="function"?C:aa},[C]),T=E.useRef(null),O=E.useRef(null),te=E.useReducer(Ah,fi),ne=Xn(te,2),oe=ne[0],ee=ne[1],v=oe.isFocused,J=oe.isFileDialogActive,ce=E.useRef(typeof window<"u"&&window.isSecureContext&&w&&fh()),x=function(){!ce.current&&J&&setTimeout(function(){if(O.current){var m=O.current.files;m.length||(ee({type:"closeDialog"}),M())}},300)};E.useEffect(function(){return window.addEventListener("focus",x,!1),function(){window.removeEventListener("focus",x,!1)}},[O,J,M,ce]);var H=E.useRef([]),ie=function(m){T.current&&T.current.contains(m.target)||(m.preventDefault(),H.current=[])};E.useEffect(function(){return P&&(document.addEventListener("dragover",ia,!1),document.addEventListener("drop",ie,!1)),function(){P&&(document.removeEventListener("dragover",ia),document.removeEventListener("drop",ie))}},[T,P]),E.useEffect(function(){return!i&&N&&T.current&&T.current.focus(),function(){}},[T,N,i]);var K=E.useCallback(function(k){W?W(k):console.error(k)},[W]),me=E.useCallback(function(k){k.preventDefault(),k.persist(),qe(k),H.current=[].concat(kh(H.current),[k.target]),sn(k)&&Promise.resolve(r(k)).then(function(m){if(!(gn(k)&&!B)){var g=m.length,b=g>0&&ch({files:m,accept:j,minSize:a,maxSize:l,multiple:o,maxFiles:c,validator:q}),I=g>0&&!b;ee({isDragAccept:b,isDragReject:I,isDragActive:!0,type:"setDraggedFiles"}),s&&s(k)}}).catch(function(m){return K(m)})},[r,s,K,B,j,a,l,o,c,q]),we=E.useCallback(function(k){k.preventDefault(),k.persist(),qe(k);var m=sn(k);if(m&&k.dataTransfer)try{k.dataTransfer.dropEffect="copy"}catch{}return m&&p&&p(k),!1},[p,B]),Ce=E.useCallback(function(k){k.preventDefault(),k.persist(),qe(k);var m=H.current.filter(function(b){return T.current&&T.current.contains(b)}),g=m.indexOf(k.target);g!==-1&&m.splice(g,1),H.current=m,!(m.length>0)&&(ee({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),sn(k)&&d&&d(k))},[T,d,B]),Se=E.useCallback(function(k,m){var g=[],b=[];k.forEach(function(I){var _=Al(I,j),$=Xn(_,2),fe=$[0],Ee=$[1],re=Dl(I,a,l),je=Xn(re,2),xe=je[0],ge=je[1],Be=q?q(I):null;if(fe&&xe&&!Be)g.push(I);else{var Pe=[Ee,ge];Be&&(Pe=Pe.concat(Be)),b.push({file:I,errors:Pe.filter(function(X){return X})})}}),(!o&&g.length>1||o&&c>=1&&g.length>c)&&(g.forEach(function(I){b.push({file:I,errors:[sh]})}),g.splice(0)),ee({acceptedFiles:g,fileRejections:b,isDragReject:b.length>0,type:"setFiles"}),h&&h(g,b,m),b.length>0&&y&&y(b,m),g.length>0&&f&&f(g,m)},[ee,o,j,a,l,c,h,f,y,q]),_e=E.useCallback(function(k){k.preventDefault(),k.persist(),qe(k),H.current=[],sn(k)&&Promise.resolve(r(k)).then(function(m){gn(k)&&!B||Se(m,k)}).catch(function(m){return K(m)}),ee({type:"reset"})},[r,Se,K,B]),Ae=E.useCallback(function(){if(ce.current){ee({type:"openDialog"}),D();var k={multiple:o,types:R};window.showOpenFilePicker(k).then(function(m){return r(m)}).then(function(m){Se(m,null),ee({type:"closeDialog"})}).catch(function(m){xh(m)?(M(m),ee({type:"closeDialog"})):gh(m)?(ce.current=!1,O.current?(O.current.value=null,O.current.click()):K(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):K(m)});return}O.current&&(ee({type:"openDialog"}),D(),O.current.value=null,O.current.click())},[ee,D,M,w,Se,K,R,o]),at=E.useCallback(function(k){!T.current||!T.current.isEqualNode(k.target)||(k.key===" "||k.key==="Enter"||k.keyCode===32||k.keyCode===13)&&(k.preventDefault(),Ae())},[T,Ae]),lt=E.useCallback(function(){ee({type:"focus"})},[]),Ke=E.useCallback(function(){ee({type:"blur"})},[]),Je=E.useCallback(function(){F||(dh()?setTimeout(Ae,0):Ae())},[F,Ae]),Le=function(m){return i?null:m},Ye=function(m){return L?null:Le(m)},Ve=function(m){return S?null:Le(m)},qe=function(m){B&&m.stopPropagation()},ot=E.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=k.refKey,g=m===void 0?"ref":m,b=k.role,I=k.onKeyDown,_=k.onFocus,$=k.onBlur,fe=k.onClick,Ee=k.onDragEnter,re=k.onDragOver,je=k.onDragLeave,xe=k.onDrop,ge=vn(k,bh);return de(de(di({onKeyDown:Ye(Xe(I,at)),onFocus:Ye(Xe(_,lt)),onBlur:Ye(Xe($,Ke)),onClick:Le(Xe(fe,Je)),onDragEnter:Ve(Xe(Ee,me)),onDragOver:Ve(Xe(re,we)),onDragLeave:Ve(Xe(je,Ce)),onDrop:Ve(Xe(xe,_e)),role:typeof b=="string"&&b!==""?b:"presentation"},g,T),!i&&!L?{tabIndex:0}:{}),ge)}},[T,at,lt,Ke,Je,me,we,Ce,_e,L,S,i]),st=E.useCallback(function(k){k.stopPropagation()},[]),et=E.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=k.refKey,g=m===void 0?"ref":m,b=k.onChange,I=k.onClick,_=vn(k,wh),$=di({accept:j,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Le(Xe(b,_e)),onClick:Le(Xe(I,st)),tabIndex:-1},g,O);return de(de({},$),_)}},[O,n,o,_e,i]);return de(de({},oe),{},{isFocused:v&&!i,getRootProps:ot,getInputProps:et,rootRef:T,inputRef:O,open:Le(Ae)})}function Ah(e,t){switch(t.type){case"focus":return de(de({},e),{},{isFocused:!0});case"blur":return de(de({},e),{},{isFocused:!1});case"openDialog":return de(de({},fi),{},{isFileDialogActive:!0});case"closeDialog":return de(de({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return de(de({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return de(de({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return de({},fi);default:return e}}function aa(){}const Dh={initial:{x:0,y:0},animate:{x:20,y:-20,opacity:.9}},zh={initial:{opacity:0},animate:{opacity:1}},la=({onChange:e,id:t,disabled:n=!1})=>{const[i,r]=E.useState([]),l=E.useRef(null),a=d=>{if(n)return;const p=1e3-(i==null?void 0:i.length);if(p<=0)return;const h=d.slice(0,p);r(h),e&&(e(h),setTimeout(()=>{r([])},1e3))};E.useEffect(()=>{(i==null?void 0:i.length)===0&&l.current&&(l.current.value="")},[i]);const{getRootProps:o,isDragActive:c}=_l({multiple:!0,noClick:!0,onDrop:a,onDropRejected:d=>{console.log(d)},disabled:n}),s=(i==null?void 0:i.length)>3?i.slice(-2):i;return u.jsx("div",{className:Te("w-full",n&&"opacity-60 cursor-not-allowed"),...o(),children:u.jsxs(be.div,{whileHover:n?void 0:"animate",children:[u.jsx("input",{ref:l,id:t||"file-upload-handle",type:"file",multiple:!0,disabled:n,onChange:d=>a(Array.from(d.target.files||[])),className:"hidden"}),u.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,white,transparent)]",children:u.jsx(Th,{})}),u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx("p",{className:"relative z-20 font-sans font-bold text-neutral-700 dark:text-neutral-300 text-base",children:"Upload file"}),u.jsx("p",{className:"relative z-20 font-sans font-normal text-neutral-400 dark:text-neutral-400 text-base mt-2",children:"Drag or drop your files here or click to upload"}),u.jsxs("div",{className:"relative w-full mt-10 max-w-xl mx-auto",children:[(i==null?void 0:i.length)>0&&u.jsxs(u.Fragment,{children:[(i==null?void 0:i.length)>3&&u.jsx(be.div,{layoutId:"file-upload-ellipsis",children:"..."}),s.map((d,p)=>u.jsxs(be.div,{layoutId:p===0?"file-upload":"file-upload-"+((i==null?void 0:i.length)-(s==null?void 0:s.length)+p),children:[u.jsxs("div",{className:"flex justify-between w-full items-center gap-4",children:[u.jsx(be.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:d.name}),u.jsxs(be.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:[(d.size/(1024*1024)).toFixed(2)," MB"]})]}),u.jsxs("div",{className:"flex text-sm md:flex-row flex-col items-start md:items-center w-full mt-2 justify-between text-neutral-600 dark:text-neutral-400",children:[u.jsx(be.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:d.type}),u.jsxs(be.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:["modified"," ",new Date(d.lastModified).toLocaleDateString()]})]})]},"file"+((i==null?void 0:i.length)-(s==null?void 0:s.length)+p)))]}),!(i!=null&&i.length)&&u.jsx(be.div,{layoutId:"file-upload",variants:Dh,transition:{type:"spring",stiffness:300,damping:20},children:c?u.jsxs(be.p,{initial:{opacity:0},animate:{opacity:1},children:["Drop it",u.jsx(pn,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-400"})]}):u.jsx(pn,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-300"})}),!(i!=null&&i.length)&&u.jsx(be.div,{variants:zh})]})]})]})})};function Th(){return u.jsx("div",{className:"flex bg-gray-100 dark:bg-neutral-900 shrink-0 flex-wrap justify-center items-center gap-x-px gap-y-px  scale-105",children:Array.from({length:11}).map((n,i)=>Array.from({length:41}).map((r,l)=>{const a=i*41+l;return u.jsx("div",{className:`w-10 h-10 flex shrink-0 rounded-[2px] ${a%2===0?"bg-gray-50 dark:bg-neutral-950":"bg-gray-50 dark:bg-neutral-950 shadow-[0px_0px_1px_3px_rgba(255,255,255,1)_inset] dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]"}`},`${l}-${i}`)}))})}const Rh="apiKey",oa="systemPrompt",Zh=()=>{var qe,ot,st,et;const[e,t]=E.useState([]),[n,i]=E.useState(!1),[r,l]=E.useState([]),[a,o]=E.useState("all"),[c,s]=E.useState([]),[d,p]=E.useState("images"),[h,f]=E.useState(!1),[y,C]=E.useState(null),[A,w]=E.useState(!0),[N,P]=E.useState("gemini-2.0-flash-exp-image-generation"),[F,L]=E.useState(10),[S,B]=E.useState(""),[W,q]=E.useState(!1),[j,R]=E.useState(3),[D,M]=E.useState([]),[T,O]=E.useState(0),[te,ne]=E.useState(""),oe=E.useId(),[ee,v]=E.useState(!1),J=E.useRef(null),ce=E.useRef(null);E.useEffect(()=>{(async()=>{w(!0);try{const m=await _t(Rh),g=await _t("selectedModel"),b=await _t("rpm"),I=await _t(oa),_=await _t("maxConcurrentRequests");C(m),g&&P(g),b&&b>0&&L(b),_&&_>0&&R(_),I&&(B(I),ne(I))}catch(m){console.error("Error retrieving settings from IndexedDB:",m)}finally{w(!1)}})()},[]),E.useEffect(()=>{R(F);const k=()=>{if((D==null?void 0:D.length)===0){O(0);return}if((D==null?void 0:D.length)<F){O(0);return}const g=Date.now(),I=D[(D==null?void 0:D.length)-F]+6e4;g>=I?(x(),O(0)):O(Math.ceil((I-g)/1e3))},m=setInterval(k,1e3);return k(),()=>clearInterval(m)},[D,F]);const x=()=>{const m=Date.now()-6e4;M(g=>g.filter(b=>b>m))},H=()=>(x(),(D==null?void 0:D.length)<F),ie=()=>{const k=Date.now();M(m=>{const g=[...m,k].sort((b,I)=>I-b);return g.slice(0,Math.min(F,g==null?void 0:g.length))})},K=async k=>{P(k),await Jt("selectedModel",k)},me=async()=>{await Jt(oa,te),B(te),ze.success("System prompt saved")},we=async k=>{if(y){t(m=>m.map(g=>g.id===k.id?{...g,isProcessing:!0,willProcess:!1}:g).sort((g,b)=>(b.timestamp||0)-(g.timestamp||0))),l(m=>[...m,k.id]),ze.info(`Processing ${k.file.name}...`);try{ie();const m=await lo([k.file],y,N,S||void 0);t(g=>g.map(b=>b.id===k.id?{...b,geminiResponse:m,hasError:m.hasError,isProcessing:!1,willProcess:!1,timestamp:Date.now()}:b).sort((b,I)=>(I.timestamp||0)-(b.timestamp||0))),m.hasError?ze.error(`Failed to process ${k.file.name}`):ze.success(`Successfully processed ${k.file.name}`)}catch(m){console.error("Error processing image:",m),t(g=>g.map(b=>b.id===k.id?{...b,geminiResponse:{thinking:"",ocrText:"",hasError:!0},hasError:!0,isProcessing:!1,willProcess:!1,timestamp:Date.now()}:b).sort((b,I)=>(I.timestamp||0)-(b.timestamp||0))),ze.error(`Error processing ${k.file.name}`,{description:"See console for details"})}finally{l(m=>m.filter(g=>g!==k.id))}}},Ce=async k=>{if(!y){ze.error("API key is not set",{description:"Please set it in the API Key Settings section."});return}x();const m=k.filter(b=>b.type.startsWith("image/"));if((m==null?void 0:m.length)===0){ze.error("No valid image files found");return}const g=m.map(b=>{const I=URL.createObjectURL(b);return{id:`${b.name}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,file:b,url:I,geminiResponse:{thinking:"",ocrText:"",hasError:!1},hasError:!1,isProcessing:!1,willProcess:!0,timestamp:Date.now()}});t(b=>[...b,...g].sort((I,_)=>(_.timestamp||0)-(I.timestamp||0))),ze.success(`Added ${m==null?void 0:m.length} image${(m==null?void 0:m.length)>1?"s":""} for processing`),p("images")},Se=async(k,m)=>{if(!y)return;let g,b;typeof k=="string"?g=k:(g=k.content,b=k.imageBase64s);const I=`message-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,_=(m==null?void 0:m.map(re=>URL.createObjectURL(re)))||b||[],$={id:I,role:"user",content:k,timestamp:Date.now(),files:m,imageDataUrls:_};s(re=>[...re,$]);const fe=`assistant-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,Ee={id:fe,role:"assistant",content:"",timestamp:Date.now(),isProcessing:!0};s(re=>[...re,Ee]),f(!0);try{ie();const re=await ao(m||[],g,y,N);s(je=>je.map(xe=>xe.id===fe?{...xe,content:re.ocrText||"I couldn't process your request.",isProcessing:!1,hasError:re.hasError}:xe))}catch(re){console.error("Error in chat:",re),s(je=>je.map(xe=>xe.id===fe?{...xe,content:"Sorry, an error occurred while processing your request.",isProcessing:!1,hasError:!0}:xe))}finally{f(!1)}},_e=(k,m)=>{s(g=>g.map(b=>b.id===k?{...b,content:m}:b))},Ae=async k=>{if(y){if(x(),!H()){t(m=>m.map(g=>g.id===k.id?{...g,willProcess:!0,isProcessing:!1}:g).sort((g,b)=>(b.timestamp||0)-(g.timestamp||0))),console.log(`Queued image ${k.file.name} for retry due to rate limits`);return}await we(k)}},at=()=>{let k=e;if(a==="completed"&&(k=e.filter(m=>!m.isProcessing&&!m.willProcess&&!m.hasError)),(k==null?void 0:k.length)>0){const m=k.sort((g,b)=>{const I=parseInt(g.file.name.split(".")[0],10),_=parseInt(b.file.name.split(".")[0],10);return I-_}).map(g=>`${g.file.name}:
${g.geminiResponse.ocrText}
`).join(`
`);navigator.clipboard.writeText(m),i(!0),ze.success("All text copied to clipboard"),setTimeout(()=>i(!1),2e3)}else ze.error("No processed images to copy")},lt=k=>{const m=e.find(g=>g.id===k);t(g=>g.filter(b=>b.id!==k)),m&&ze.success(`Removed image: ${m.file.name}`)},Ke=()=>{if((e==null?void 0:e.length)===0){ze.error("No images to remove");return}const k=e==null?void 0:e.length;t([]),ze.success(`Removed all ${k} images`)};E.useEffect(()=>{const k=async()=>{var _;if(!y||!H())return;const g=r==null?void 0:r.length,b=Math.min(j-g,F-(D==null?void 0:D.length),(_=e.filter($=>$.willProcess))==null?void 0:_.length);if(b<=0)return;const I=e.filter($=>$.willProcess&&!$.isProcessing).slice(0,b);(I==null?void 0:I.length)!==0&&await Promise.all(I.map($=>we($)))},m=setTimeout(()=>{k()},100);return()=>clearTimeout(m)},[r==null?void 0:r.length,e,y,D==null?void 0:D.length,j]);const Je=()=>{switch(a){case"completed":return e.filter(k=>!k.isProcessing&&!k.willProcess&&!k.hasError);case"processing":return e.filter(k=>k.isProcessing);case"queued":return e.filter(k=>k.willProcess);case"error":return e.filter(k=>k.hasError);case"all":default:return e}},Le=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};E.useEffect(()=>{const k=()=>{const m=document.documentElement.scrollHeight-document.documentElement.scrollTop-document.documentElement.clientHeight;v(m>500)};return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const Ye=()=>{ce.current&&requestAnimationFrame(()=>{ce.current&&(ce.current.scrollTop=ce.current.scrollHeight)})};E.useEffect(()=>{d==="chat"&&Ye()},[c,d]);const Ve=k=>{p(k),k==="chat"&&setTimeout(Ye,50)};return A?u.jsx($t,{className:"container mx-auto px-4 py-8 flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):u.jsxs("div",{className:Te("container mx-auto p-4"),ref:J,children:[u.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between items-start justify-start gap-2 mb-2 bg-transparent w-full",children:[u.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center w-full",children:[u.jsxs("h1",{className:"text-xl xs:text-2xl font-bold overflow-visible inline-flex items-center flex-wrap",children:[u.jsx(So,{className:"text-2xl xs:text-3xl font-bold",text:"Gemini"}),u.jsx("span",{className:"ml-2 text-base xs:text-xl",children:"AI Chat & OCR"})]}),u.jsxs("div",{className:"mt-2 xs:mt-0 xs:ml-3 px-2 py-1 bg-primary/10 rounded-full text-xs font-medium inline-flex items-center animate-in fade-in slide-in-from-left-4 duration-300",children:[u.jsxs("span",{className:"text-primary",children:[D==null?void 0:D.length,"/",F]}),T>0&&u.jsxs("span",{className:"ml-1 text-amber-600 animate-pulse",children:["(",T,"s)"]})]})]}),u.jsxs(Q,{variant:W?"default":"ghost",size:"sm",className:"flex items-center gap-1 h-8 transition-colors duration-200 mt-2 sm:mt-0 self-end sm:self-auto",onClick:()=>q(!W),children:[u.jsx(Pn,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),u.jsx(Qn,{children:W&&u.jsx($t,{className:"mb-4 p-4",children:u.jsx(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(uo,{htmlFor:"system-prompt",className:"text-sm font-medium",children:"System Prompt"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("textarea",{id:"system-prompt",value:te,onChange:k=>ne(k.target.value),placeholder:"Enter system prompt for Gemini",className:"flex-1 min-h-[100px] px-3 py-2 border rounded-md text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",rows:4}),u.jsx(Q,{onClick:me,children:"Save"})]})]})})})})}),u.jsxs(mi,{value:d,onValueChange:Ve,className:"flex-1 flex flex-col",children:[u.jsxs(hi,{className:"grid grid-cols-2 mb-4",children:[u.jsxs(Pt,{value:"images",className:Te("flex items-center gap-1 transition-all duration-200 data-[state=active]:scale-105",d==="images"?"font-medium":""),children:[u.jsx(pn,{className:"h-3.5 w-3.5"}),"Images"," ",(e==null?void 0:e.length)>0&&u.jsx("span",{className:"bg-primary/15 text-primary px-1.5 py-0.5 rounded-full text-xs ml-1",children:e==null?void 0:e.length})]}),u.jsxs(Pt,{value:"chat",className:Te("flex items-center gap-1 transition-all duration-200 data-[state=active]:scale-105",d==="chat"?"font-medium":""),children:[u.jsx(bo,{className:"h-3.5 w-3.5"}),"Chat"]})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx(Nt,{value:"chat",className:"h-full",children:y?u.jsx("div",{className:"h-full",ref:ce,children:u.jsx(Am,{messages:c,onSendMessage:Se,onEditMessage:_e,apiKey:y,selectedModel:N,onModelChange:P,isProcessing:h,handleFileUpload:Ce})}):u.jsx("div",{className:"flex flex-col items-center justify-center h-full rounded-md border",children:u.jsxs("div",{className:"text-center p-6 max-w-md",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No API Key Found"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Please set your Gemini API key in the settings to start using the chat interface."}),u.jsxs(Q,{onClick:()=>q(!0),className:"flex items-center gap-1",children:[u.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Open Settings",u.jsx(Yi,{className:"h-4 w-4 ml-1"})]})]})})}),u.jsx(Nt,{value:"images",className:"h-full flex flex-col",children:y?(e==null?void 0:e.length)===0?u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6 py-12",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Images Uploaded"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by uploading some images for processing"})]}),u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(Q,{className:"w-full h-24 rounded-xl bg-primary hover:bg-primary/90 flex flex-col gap-2 shadow-lg",onClick:()=>{const k=document.getElementById(`file-upload-${oe}`);k&&k.click()},disabled:(D==null?void 0:D.length)>=F,children:[u.jsx(Xi,{className:"h-8 w-8"}),u.jsx("span",{className:"text-lg font-medium",children:"Upload Images"})]})}),u.jsxs("div",{className:"w-full max-w-md flex flex-wrap gap-3 justify-center",children:[u.jsxs(ht,{value:N,onValueChange:K,children:[u.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsx(gt,{placeholder:"Model",children:N.includes("flash")?"2.0 Flash":"2.5 Pro"})}),u.jsxs(vt,{className:"z-[1100]",children:[u.jsx(ye,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),u.jsx(ye,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),u.jsxs(ht,{value:F.toString(),onValueChange:k=>{const m=parseInt(k);L(m),Jt("rpm",m)},children:[u.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsxs(gt,{placeholder:"RPM",children:[F," RPM"]})}),u.jsxs(vt,{className:"z-[1100]",children:[u.jsx(ye,{value:"2",children:"2 RPM"}),u.jsx(ye,{value:"5",children:"5 RPM"}),u.jsx(ye,{value:"10",children:"10 RPM"}),u.jsx(ye,{value:"15",children:"15 RPM"})]})]})]}),u.jsx("div",{className:"hidden",children:u.jsx(la,{id:`file-upload-${oe}`,onChange:Ce,disabled:(D==null?void 0:D.length)>=F})})]}):u.jsxs(u.Fragment,{children:[u.jsxs($t,{className:"mb-3 animate-in fade-in-0 duration-300",children:[u.jsxs("div",{className:"p-4 flex flex-col sm:flex-row gap-4 items-center justify-between",children:[u.jsxs(Q,{className:"w-full sm:w-auto h-12 rounded-xl bg-primary hover:bg-primary/90 flex items-center gap-2",onClick:()=>{const k=document.getElementById(`file-upload-${oe}`);k&&k.click()},disabled:(D==null?void 0:D.length)>=F,children:[u.jsx(Xi,{className:"h-5 w-5"}),u.jsx("span",{className:"font-medium",children:"Upload More Images"})]}),u.jsxs("div",{className:"w-full sm:w-auto flex flex-wrap justify-end gap-2",children:[u.jsxs(ht,{value:N,onValueChange:K,children:[u.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsx(gt,{placeholder:"Model",children:N.includes("flash")?"2.0 Flash":"2.5 Pro"})}),u.jsxs(vt,{className:"z-[1100]",children:[u.jsx(ye,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),u.jsx(ye,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),u.jsxs(ht,{value:F.toString(),onValueChange:k=>{const m=parseInt(k);L(m),Jt("rpm",m)},children:[u.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsxs(gt,{placeholder:"RPM",children:[F," RPM"]})}),u.jsxs(vt,{className:"z-[1100]",children:[u.jsx(ye,{value:"2",children:"2 RPM"}),u.jsx(ye,{value:"5",children:"5 RPM"}),u.jsx(ye,{value:"10",children:"10 RPM"}),u.jsx(ye,{value:"15",children:"15 RPM"})]})]})]})]}),u.jsx("div",{className:"hidden",children:u.jsx(la,{id:`file-upload-${oe}`,onChange:Ce,disabled:(D==null?void 0:D.length)>=F})})]}),u.jsxs("div",{className:"mb-3 p-3 rounded-md border flex flex-wrap gap-2 text-sm",children:[u.jsxs(Q,{variant:a==="all"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("all"),children:[u.jsx(go,{className:"h-3 w-3"}),u.jsx("span",{className:"font-medium",children:"Total:"}),u.jsx("span",{className:"text-primary",children:e==null?void 0:e.length})]}),u.jsxs(Q,{variant:a==="completed"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("completed"),children:[u.jsx("span",{className:"font-medium",children:"Completed:"}),u.jsx("span",{className:"text-green-600",children:(qe=e.filter(k=>!k.isProcessing&&!k.willProcess&&!k.hasError))==null?void 0:qe.length})]}),u.jsxs(Q,{variant:a==="processing"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("processing"),children:[u.jsx("span",{className:"font-medium",children:"Processing:"}),u.jsx("span",{className:"text-blue-600",children:(ot=e.filter(k=>k.isProcessing))==null?void 0:ot.length})]}),u.jsxs(Q,{variant:a==="queued"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("queued"),children:[u.jsx("span",{className:"font-medium",children:"Queued:"}),u.jsx("span",{className:"text-amber-600",children:(st=e.filter(k=>k.willProcess))==null?void 0:st.length})]}),u.jsxs(Q,{variant:a==="error"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("error"),children:[u.jsx("span",{className:"font-medium",children:"Error:"}),u.jsx("span",{className:"text-red-600",children:(et=e.filter(k=>k.hasError))==null?void 0:et.length})]})]}),u.jsx("div",{className:"flex-1 mb-2",children:u.jsx(Po,{images:Je(),handleRetry:Ae,copiedAll:n,copyAllToClipboard:at,handleDelete:lt,handleDeleteAll:Ke})})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-full rounded-md border",children:u.jsxs("div",{className:"text-center p-6 max-w-md",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No API Key Found"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Please set your Gemini API key in the settings to start using the image processing."}),u.jsxs(Q,{onClick:()=>q(!0),className:"flex items-center gap-1",children:[u.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Open Settings",u.jsx(Yi,{className:"h-4 w-4 ml-1"})]})]})})})]})]}),ee&&u.jsx(Q,{className:"fixed bottom-5 right-5 rounded-full h-12 w-12 shadow-md hover:bg-primary/90 z-50 flex items-center justify-center",size:"icon",onClick:Le,"aria-label":"Scroll to bottom",children:u.jsx(ro,{className:"h-6 w-6"})})]})};export{Zh as default};
