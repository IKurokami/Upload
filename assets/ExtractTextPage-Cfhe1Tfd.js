import{c as Se,r as f,j as o,a as Ce,y as qi,_ as un,z as be,E as At,B as Q,p as Kn,F as Hi,b as mn,s as Gi,d as Ki,q as Qt,G as Vi,u as De,A as Yi,P as Te,e as Ee,H as Ue,t as Wi,n as Vn,I as Xi,J as Ji,K as Zi,M as Qi,S as ea,N as ta,w as na,C as ia,v as aa,L as fn,O as Yn,Q as Ve,R as oa}from"./index-CmLHhHZI.js";import{s as Je,a as Ze}from"./db-CRqWljtf.js";import{a as ut,c as hn,S as ra}from"./scroll-area-MMGqnIcW.js";import{C as en,T as Wn,a as Xn,b as mt,c as ft,u as sa}from"./index-CoduMLVe.js";import{X as ht,D as la,a as ca,A as pa}from"./dialog-DC7z4NAN.js";import{C as Jn}from"./copy-D3XuuQx8.js";import{V as da,T as xn,a as Qe}from"./index-DGDzI8K1.js";import{C as pt}from"./card-CxlVnHJ9.js";import{S as ua}from"./save-WgCQRKFE.js";import{T as ma}from"./index-DKLytDGT.js";import{I as It}from"./input-CgxrXdUp.js";import{U as fa}from"./upload-DuC61R_w.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],xa=Se("ArrowUpDown",ha);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tn=Se("ChevronDown",ga);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ya=Se("ChevronUp",va);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ba=Se("CircleAlert",wa);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ja=Se("Clock",Ea);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Ia=Se("Filter",Ca);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ka=Se("GripVertical",Sa);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xt=Se("Image",Na);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ra=Se("MessageSquare",_a);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Aa=Se("Paperclip",Ta);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gt=Se("RefreshCw",Oa);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Pa=Se("Send",Da);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gn=Se("Settings",Fa);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],vn=Se("ZoomIn",Ba);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],La=Se("ZoomOut",Ma),Ua=({id:e,x:i,y:a,color:s,delay:c,scale:u})=>o.jsx(qi.svg,{className:"pointer-events-none absolute z-20",initial:{opacity:0,left:i,top:a},animate:{opacity:[0,1,0],scale:[0,u,0],rotate:[75,120,150]},transition:{duration:.8,repeat:1/0,delay:c},width:"21",height:"21",viewBox:"0 0 21 21",children:o.jsx("path",{d:"M9.82531 0.843845C10.0553 0.215178 10.9446 0.215178 11.1746 0.843845L11.8618 2.72026C12.4006 4.19229 12.3916 6.39157 13.5 7.5C14.6084 8.60843 16.8077 8.59935 18.2797 9.13822L20.1561 9.82534C20.7858 10.0553 20.7858 10.9447 20.1561 11.1747L18.2797 11.8618C16.8077 12.4007 14.6084 12.3916 13.5 13.5C12.3916 14.6084 12.4006 16.8077 11.8618 18.2798L11.1746 20.1562C10.9446 20.7858 10.0553 20.7858 9.82531 20.1562L9.13819 18.2798C8.59932 16.8077 8.60843 14.6084 7.5 13.5C6.39157 12.3916 4.19225 12.4007 2.72023 11.8618L0.843814 11.1747C0.215148 10.9447 0.215148 10.0553 0.843814 9.82534L2.72023 9.13822C4.19225 8.59935 6.39157 8.60843 7.5 7.5C8.60843 6.39157 8.59932 4.19229 9.13819 2.72026L9.82531 0.843845Z",fill:s})},e),za=({text:e,colors:i={first:"#9E7AFF",second:"#FE8BBB"},className:a,sparklesCount:s=7,...c})=>{const[u,d]=f.useState([]);return f.useEffect(()=>{const l=()=>{const k=`${Math.random()*100}%`,N=`${Math.random()*100}%`,y=Math.random()>.5?i.first:i.second,w=Math.random()*2,b=Math.random()*1+.3,O=Math.random()*10+1;return{id:`${k}-${N}-${Date.now()}`,x:k,y:N,color:y,delay:w,scale:b,lifespan:O}},x=()=>{const k=Array.from({length:s},l);d(k)},j=()=>{d(k=>k.map(N=>N.lifespan<=0?l():{...N,lifespan:N.lifespan-.1}))};x();const I=setInterval(j,50);return()=>clearInterval(I)},[i.first,i.second,s]),o.jsx("div",{className:Ce("text-6xl font-bold",a),...c,style:{"--sparkles-first-color":`${i.first}`,"--sparkles-second-color":`${i.second}`},children:o.jsxs("span",{className:"relative inline-block py-2",children:[u.map(l=>o.jsx(Ua,{...l},l.id)),o.jsx("strong",{children:e})]})})};var Ot;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Ot||(Ot={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Dt||(Dt={}));var Pt;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Pt||(Pt={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=["user","model","function","system"];var Be;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Be||(Be={}));var Me;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Me||(Me={}));var Bt;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Bt||(Bt={}));var Mt;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Mt||(Mt={}));var Ye;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Ye||(Ye={}));var Lt;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Lt||(Lt={}));var Ut;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Ut||(Ut={}));var zt;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(zt||(zt={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je extends Error{constructor(i){super(`[GoogleGenerativeAI Error]: ${i}`)}}class qe extends je{constructor(i,a){super(i),this.response=a}}class nn extends je{constructor(i,a,s,c){super(i),this.status=a,this.statusText=s,this.errorDetails=c}}class Pe extends je{}class an extends je{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="https://generativelanguage.googleapis.com",qa="v1beta",Ha="0.24.0",Ga="genai-js";var Ge;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ge||(Ge={}));class Ka{constructor(i,a,s,c,u){this.model=i,this.task=a,this.apiKey=s,this.stream=c,this.requestOptions=u}toString(){var i,a;const s=((i=this.requestOptions)===null||i===void 0?void 0:i.apiVersion)||qa;let u=`${((a=this.requestOptions)===null||a===void 0?void 0:a.baseUrl)||$a}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function Va(e){const i=[];return e!=null&&e.apiClient&&i.push(e.apiClient),i.push(`${Ga}/${Ha}`),i.join(" ")}async function Ya(e){var i;const a=new Headers;a.append("Content-Type","application/json"),a.append("x-goog-api-client",Va(e.requestOptions)),a.append("x-goog-api-key",e.apiKey);let s=(i=e.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(c){throw new Pe(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${c.message}`)}for(const[c,u]of s.entries()){if(c==="x-goog-api-key")throw new Pe(`Cannot set reserved header name ${c}`);if(c==="x-goog-api-client")throw new Pe(`Header name ${c} can only be set using the apiClient field`);a.append(c,u)}}return a}async function Wa(e,i,a,s,c,u){const d=new Ka(e,i,a,s,u);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},Qa(u)),{method:"POST",headers:await Ya(d),body:c})}}async function ot(e,i,a,s,c,u={},d=fetch){const{url:l,fetchOptions:x}=await Wa(e,i,a,s,c,u);return Xa(l,x,d)}async function Xa(e,i,a=fetch){let s;try{s=await a(e,i)}catch(c){Ja(c,e)}return s.ok||await Za(s,e),s}function Ja(e,i){let a=e;throw a.name==="AbortError"?(a=new an(`Request aborted when fetching ${i.toString()}: ${e.message}`),a.stack=e.stack):e instanceof nn||e instanceof Pe||(a=new je(`Error fetching from ${i.toString()}: ${e.message}`),a.stack=e.stack),a}async function Za(e,i){let a="",s;try{const c=await e.json();a=c.error.message,c.error.details&&(a+=` ${JSON.stringify(c.error.details)}`,s=c.error.details)}catch{}throw new nn(`Error fetching from ${i.toString()}: [${e.status} ${e.statusText}] ${a}`,e.status,e.statusText,s)}function Qa(e){const i={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const a=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>a.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{a.abort()}),i.signal=a.signal}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),dt(e.candidates[0]))throw new qe(`${Fe(e)}`,e);return eo(e)}else if(e.promptFeedback)throw new qe(`Text not available. ${Fe(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),dt(e.candidates[0]))throw new qe(`${Fe(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),yn(e)[0]}else if(e.promptFeedback)throw new qe(`Function call not available. ${Fe(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),dt(e.candidates[0]))throw new qe(`${Fe(e)}`,e);return yn(e)}else if(e.promptFeedback)throw new qe(`Function call not available. ${Fe(e)}`,e)},e}function eo(e){var i,a,s,c;const u=[];if(!((a=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||a===void 0)&&a.parts)for(const d of(c=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||c===void 0?void 0:c.parts)d.text&&u.push(d.text),d.executableCode&&u.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&u.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function yn(e){var i,a,s,c;const u=[];if(!((a=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||a===void 0)&&a.parts)for(const d of(c=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||c===void 0?void 0:c.parts)d.functionCall&&u.push(d.functionCall);if(u.length>0)return u}const to=[Ye.RECITATION,Ye.SAFETY,Ye.LANGUAGE];function dt(e){return!!e.finishReason&&to.includes(e.finishReason)}function Fe(e){var i,a,s;let c="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)c+="Response was blocked",!((i=e.promptFeedback)===null||i===void 0)&&i.blockReason&&(c+=` due to ${e.promptFeedback.blockReason}`),!((a=e.promptFeedback)===null||a===void 0)&&a.blockReasonMessage&&(c+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((s=e.candidates)===null||s===void 0)&&s[0]){const u=e.candidates[0];dt(u)&&(c+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(c+=`: ${u.finishMessage}`))}return c}function nt(e){return this instanceof nt?(this.v=e,this):new nt(e)}function no(e,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(e,i||[]),c,u=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(N){s[N]&&(c[N]=function(y){return new Promise(function(w,b){u.push([N,y,w,b])>1||l(N,y)})})}function l(N,y){try{x(s[N](y))}catch(w){k(u[0][3],w)}}function x(N){N.value instanceof nt?Promise.resolve(N.value.v).then(j,I):k(u[0][2],N)}function j(N){l("next",N)}function I(N){l("throw",N)}function k(N,y){N(y),u.shift(),u.length&&l(u[0][0],u[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function io(e){const i=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),a=ro(i),[s,c]=a.tee();return{stream:oo(s),response:ao(c)}}async function ao(e){const i=[],a=e.getReader();for(;;){const{done:s,value:c}=await a.read();if(s)return on(so(i));i.push(c)}}function oo(e){return no(this,arguments,function*(){const a=e.getReader();for(;;){const{value:s,done:c}=yield nt(a.read());if(c)break;yield yield nt(on(s))}})}function ro(e){const i=e.getReader();return new ReadableStream({start(s){let c="";return u();function u(){return i.read().then(({value:d,done:l})=>{if(l){if(c.trim()){s.error(new je("Failed to parse stream"));return}s.close();return}c+=d;let x=c.match(wn),j;for(;x;){try{j=JSON.parse(x[1])}catch{s.error(new je(`Error parsing JSON response: "${x[1]}"`));return}s.enqueue(j),c=c.substring(x[0].length),x=c.match(wn)}return u()}).catch(d=>{let l=d;throw l.stack=d.stack,l.name==="AbortError"?l=new an("Request aborted when reading from the stream"):l=new je("Error reading from the stream"),l})}}})}function so(e){const i=e[e.length-1],a={promptFeedback:i==null?void 0:i.promptFeedback};for(const s of e){if(s.candidates){let c=0;for(const u of s.candidates)if(a.candidates||(a.candidates=[]),a.candidates[c]||(a.candidates[c]={index:c}),a.candidates[c].citationMetadata=u.citationMetadata,a.candidates[c].groundingMetadata=u.groundingMetadata,a.candidates[c].finishReason=u.finishReason,a.candidates[c].finishMessage=u.finishMessage,a.candidates[c].safetyRatings=u.safetyRatings,u.content&&u.content.parts){a.candidates[c].content||(a.candidates[c].content={role:u.content.role||"user",parts:[]});const d={};for(const l of u.content.parts)l.text&&(d.text=l.text),l.functionCall&&(d.functionCall=l.functionCall),l.executableCode&&(d.executableCode=l.executableCode),l.codeExecutionResult&&(d.codeExecutionResult=l.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),a.candidates[c].content.parts.push(d)}c++}s.usageMetadata&&(a.usageMetadata=s.usageMetadata)}return a}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zn(e,i,a,s){const c=await ot(i,Ge.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(a),s);return io(c)}async function Qn(e,i,a,s){const u=await(await ot(i,Ge.GENERATE_CONTENT,e,!1,JSON.stringify(a),s)).json();return{response:on(u)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function it(e){let i=[];if(typeof e=="string")i=[{text:e}];else for(const a of e)typeof a=="string"?i.push({text:a}):i.push(a);return lo(i)}function lo(e){const i={role:"user",parts:[]},a={role:"function",parts:[]};let s=!1,c=!1;for(const u of e)"functionResponse"in u?(a.parts.push(u),c=!0):(i.parts.push(u),s=!0);if(s&&c)throw new je("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!c)throw new je("No content is provided for sending chat message.");return s?i:a}function co(e,i){var a;let s={model:i==null?void 0:i.model,generationConfig:i==null?void 0:i.generationConfig,safetySettings:i==null?void 0:i.safetySettings,tools:i==null?void 0:i.tools,toolConfig:i==null?void 0:i.toolConfig,systemInstruction:i==null?void 0:i.systemInstruction,cachedContent:(a=i==null?void 0:i.cachedContent)===null||a===void 0?void 0:a.name,contents:[]};const c=e.generateContentRequest!=null;if(e.contents){if(c)throw new Pe("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=e.contents}else if(c)s=Object.assign(Object.assign({},s),e.generateContentRequest);else{const u=it(e);s.contents=[u]}return{generateContentRequest:s}}function bn(e){let i;return e.contents?i=e:i={contents:[it(e)]},e.systemInstruction&&(i.systemInstruction=ei(e.systemInstruction)),i}function po(e){return typeof e=="string"||Array.isArray(e)?{content:it(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],uo={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function mo(e){let i=!1;for(const a of e){const{role:s,parts:c}=a;if(!i&&s!=="user")throw new je(`First content should be with role 'user', got ${s}`);if(!Ft.includes(s))throw new je(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(Ft)}`);if(!Array.isArray(c))throw new je("Content should have 'parts' property with an array of Parts");if(c.length===0)throw new je("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of c)for(const x of En)x in l&&(u[x]+=1);const d=uo[s];for(const l of En)if(!d.includes(l)&&u[l]>0)throw new je(`Content with role '${s}' can't contain '${l}' part`);i=!0}}function jn(e){var i;if(e.candidates===void 0||e.candidates.length===0)return!1;const a=(i=e.candidates[0])===null||i===void 0?void 0:i.content;if(a===void 0||a.parts===void 0||a.parts.length===0)return!1;for(const s of a.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="SILENT_ERROR";class ti{constructor(i,a,s,c={}){this.model=a,this.params=s,this._requestOptions=c,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=i,s!=null&&s.history&&(mo(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(i,a={}){var s,c,u,d,l,x;await this._sendPromise;const j=it(i),I={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(c=this.params)===null||c===void 0?void 0:c.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(x=this.params)===null||x===void 0?void 0:x.cachedContent,contents:[...this._history,j]},k=Object.assign(Object.assign({},this._requestOptions),a);let N;return this._sendPromise=this._sendPromise.then(()=>Qn(this._apiKey,this.model,I,k)).then(y=>{var w;if(jn(y.response)){this._history.push(j);const b=Object.assign({parts:[],role:"model"},(w=y.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(b)}else{const b=Fe(y.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}N=y}),await this._sendPromise,N}async sendMessageStream(i,a={}){var s,c,u,d,l,x;await this._sendPromise;const j=it(i),I={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(c=this.params)===null||c===void 0?void 0:c.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(x=this.params)===null||x===void 0?void 0:x.cachedContent,contents:[...this._history,j]},k=Object.assign(Object.assign({},this._requestOptions),a),N=Zn(this._apiKey,this.model,I,k);return this._sendPromise=this._sendPromise.then(()=>N).catch(y=>{throw new Error(Cn)}).then(y=>y.response).then(y=>{if(jn(y)){this._history.push(j);const w=Object.assign({},y.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=Fe(y);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(y=>{y.message!==Cn&&console.error(y)}),N}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(e,i,a,s){return(await ot(i,Ge.COUNT_TOKENS,e,!1,JSON.stringify(a),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(e,i,a,s){return(await ot(i,Ge.EMBED_CONTENT,e,!1,JSON.stringify(a),s)).json()}async function xo(e,i,a,s){const c=a.requests.map(d=>Object.assign(Object.assign({},d),{model:i}));return(await ot(i,Ge.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:c}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(i,a,s={}){this.apiKey=i,this._requestOptions=s,a.model.includes("/")?this.model=a.model:this.model=`models/${a.model}`,this.generationConfig=a.generationConfig||{},this.safetySettings=a.safetySettings||[],this.tools=a.tools,this.toolConfig=a.toolConfig,this.systemInstruction=ei(a.systemInstruction),this.cachedContent=a.cachedContent}async generateContent(i,a={}){var s;const c=bn(i),u=Object.assign(Object.assign({},this._requestOptions),a);return Qn(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},c),u)}async generateContentStream(i,a={}){var s;const c=bn(i),u=Object.assign(Object.assign({},this._requestOptions),a);return Zn(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},c),u)}startChat(i){var a;return new ti(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},i),this._requestOptions)}async countTokens(i,a={}){const s=co(i,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),c=Object.assign(Object.assign({},this._requestOptions),a);return fo(this.apiKey,this.model,s,c)}async embedContent(i,a={}){const s=po(i),c=Object.assign(Object.assign({},this._requestOptions),a);return ho(this.apiKey,this.model,s,c)}async batchEmbedContents(i,a={}){const s=Object.assign(Object.assign({},this._requestOptions),a);return xo(this.apiKey,this.model,i,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(i){this.apiKey=i}getGenerativeModel(i,a){if(!i.model)throw new je("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new $t(this.apiKey,i,a)}getGenerativeModelFromCachedContent(i,a,s){if(!i.name)throw new Pe("Cached content must contain a `name` field.");if(!i.model)throw new Pe("Cached content must contain a `model` field.");const c=["model","systemInstruction"];for(const d of c)if(a!=null&&a[d]&&i[d]&&(a==null?void 0:a[d])!==i[d]){if(d==="model"){const l=a.model.startsWith("models/")?a.model.replace("models/",""):a.model,x=i.model.startsWith("models/")?i.model.replace("models/",""):i.model;if(l===x)continue}throw new Pe(`Different value for "${d}" specified in modelParams (${a[d]}) and cachedContent (${i[d]})`)}const u=Object.assign(Object.assign({},a),{model:i.model,tools:i.tools,toolConfig:i.toolConfig,systemInstruction:i.systemInstruction,cachedContent:i});return new $t(this.apiKey,u,s)}}const vo=Object.freeze(Object.defineProperty({__proto__:null,get BlockReason(){return Mt},ChatSession:ti,get DynamicRetrievalMode(){return zt},get ExecutableCodeLanguage(){return Dt},get FinishReason(){return Ye},get FunctionCallingMode(){return Ut},GenerativeModel:$t,GoogleGenerativeAI:go,GoogleGenerativeAIAbortError:an,GoogleGenerativeAIError:je,GoogleGenerativeAIFetchError:nn,GoogleGenerativeAIRequestInputError:Pe,GoogleGenerativeAIResponseError:qe,get HarmBlockThreshold(){return Me},get HarmCategory(){return Be},get HarmProbability(){return Bt},get Outcome(){return Pt},POSSIBLE_ROLES:Ft,get SchemaType(){return Ot},get TaskType(){return Lt}},Symbol.toStringTag,{value:"Module"}));var St={},et={},In;function yo(){if(In)return et;In=1,et.byteLength=l,et.toByteArray=j,et.fromByteArray=N;for(var e=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=s.length;c<u;++c)e[c]=s[c],i[s.charCodeAt(c)]=c;i[45]=62,i[95]=63;function d(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=y.indexOf("=");b===-1&&(b=w);var O=b===w?0:4-b%4;return[b,O]}function l(y){var w=d(y),b=w[0],O=w[1];return(b+O)*3/4-O}function x(y,w,b){return(w+b)*3/4-b}function j(y){var w,b=d(y),O=b[0],M=b[1],_=new a(x(y,O,M)),E=0,D=M>0?O-4:O,P;for(P=0;P<D;P+=4)w=i[y.charCodeAt(P)]<<18|i[y.charCodeAt(P+1)]<<12|i[y.charCodeAt(P+2)]<<6|i[y.charCodeAt(P+3)],_[E++]=w>>16&255,_[E++]=w>>8&255,_[E++]=w&255;return M===2&&(w=i[y.charCodeAt(P)]<<2|i[y.charCodeAt(P+1)]>>4,_[E++]=w&255),M===1&&(w=i[y.charCodeAt(P)]<<10|i[y.charCodeAt(P+1)]<<4|i[y.charCodeAt(P+2)]>>2,_[E++]=w>>8&255,_[E++]=w&255),_}function I(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function k(y,w,b){for(var O,M=[],_=w;_<b;_+=3)O=(y[_]<<16&16711680)+(y[_+1]<<8&65280)+(y[_+2]&255),M.push(I(O));return M.join("")}function N(y){for(var w,b=y.length,O=b%3,M=[],_=16383,E=0,D=b-O;E<D;E+=_)M.push(k(y,E,E+_>D?D:E+_));return O===1?(w=y[b-1],M.push(e[w>>2]+e[w<<4&63]+"==")):O===2&&(w=(y[b-2]<<8)+y[b-1],M.push(e[w>>10]+e[w>>4&63]+e[w<<2&63]+"=")),M.join("")}return et}var st={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Sn;function wo(){return Sn||(Sn=1,st.read=function(e,i,a,s,c){var u,d,l=c*8-s-1,x=(1<<l)-1,j=x>>1,I=-7,k=a?c-1:0,N=a?-1:1,y=e[i+k];for(k+=N,u=y&(1<<-I)-1,y>>=-I,I+=l;I>0;u=u*256+e[i+k],k+=N,I-=8);for(d=u&(1<<-I)-1,u>>=-I,I+=s;I>0;d=d*256+e[i+k],k+=N,I-=8);if(u===0)u=1-j;else{if(u===x)return d?NaN:(y?-1:1)*(1/0);d=d+Math.pow(2,s),u=u-j}return(y?-1:1)*d*Math.pow(2,u-s)},st.write=function(e,i,a,s,c,u){var d,l,x,j=u*8-c-1,I=(1<<j)-1,k=I>>1,N=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=s?0:u-1,w=s?1:-1,b=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(l=isNaN(i)?1:0,d=I):(d=Math.floor(Math.log(i)/Math.LN2),i*(x=Math.pow(2,-d))<1&&(d--,x*=2),d+k>=1?i+=N/x:i+=N*Math.pow(2,1-k),i*x>=2&&(d++,x/=2),d+k>=I?(l=0,d=I):d+k>=1?(l=(i*x-1)*Math.pow(2,c),d=d+k):(l=i*Math.pow(2,k-1)*Math.pow(2,c),d=0));c>=8;e[a+y]=l&255,y+=w,l/=256,c-=8);for(d=d<<c|l,j+=c;j>0;e[a+y]=d&255,y+=w,d/=256,j-=8);e[a+y-w]|=b*128}),st}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var kn;function bo(){return kn||(kn=1,function(e){const i=yo(),a=wo(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;const c=2147483647;e.kMaxLength=c,l.TYPED_ARRAY_SUPPORT=u(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function d(r){if(r>c)throw new RangeError('The value "'+r+'" is invalid for option "size"');const t=new Uint8Array(r);return Object.setPrototypeOf(t,l.prototype),t}function l(r,t,n){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(r)}return x(r,t,n)}l.poolSize=8192;function x(r,t,n){if(typeof r=="string")return N(r,t);if(ArrayBuffer.isView(r))return w(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(A(r,ArrayBuffer)||r&&A(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(A(r,SharedArrayBuffer)||r&&A(r.buffer,SharedArrayBuffer)))return b(r,t,n);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=r.valueOf&&r.valueOf();if(p!=null&&p!==r)return l.from(p,t,n);const m=O(r);if(m)return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return l.from(r[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}l.from=function(r,t,n){return x(r,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function j(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function I(r,t,n){return j(r),r<=0?d(r):t!==void 0?typeof n=="string"?d(r).fill(t,n):d(r).fill(t):d(r)}l.alloc=function(r,t,n){return I(r,t,n)};function k(r){return j(r),d(r<0?0:M(r)|0)}l.allocUnsafe=function(r){return k(r)},l.allocUnsafeSlow=function(r){return k(r)};function N(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=E(r,t)|0;let p=d(n);const m=p.write(r,t);return m!==n&&(p=p.slice(0,m)),p}function y(r){const t=r.length<0?0:M(r.length)|0,n=d(t);for(let p=0;p<t;p+=1)n[p]=r[p]&255;return n}function w(r){if(A(r,Uint8Array)){const t=new Uint8Array(r);return b(t.buffer,t.byteOffset,t.byteLength)}return y(r)}function b(r,t,n){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let p;return t===void 0&&n===void 0?p=new Uint8Array(r):n===void 0?p=new Uint8Array(r,t):p=new Uint8Array(r,t,n),Object.setPrototypeOf(p,l.prototype),p}function O(r){if(l.isBuffer(r)){const t=M(r.length)|0,n=d(t);return n.length===0||r.copy(n,0,0,t),n}if(r.length!==void 0)return typeof r.length!="number"||U(r.length)?d(0):y(r);if(r.type==="Buffer"&&Array.isArray(r.data))return y(r.data)}function M(r){if(r>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return r|0}function _(r){return+r!=r&&(r=0),l.alloc(+r)}l.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==l.prototype},l.compare=function(t,n){if(A(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),A(n,Uint8Array)&&(n=l.from(n,n.offset,n.byteLength)),!l.isBuffer(t)||!l.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;let p=t.length,m=n.length;for(let h=0,g=Math.min(p,m);h<g;++h)if(t[h]!==n[h]){p=t[h],m=n[h];break}return p<m?-1:m<p?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return l.alloc(0);let p;if(n===void 0)for(n=0,p=0;p<t.length;++p)n+=t[p].length;const m=l.allocUnsafe(n);let h=0;for(p=0;p<t.length;++p){let g=t[p];if(A(g,Uint8Array))h+g.length>m.length?(l.isBuffer(g)||(g=l.from(g)),g.copy(m,h)):Uint8Array.prototype.set.call(m,g,h);else if(l.isBuffer(g))g.copy(m,h);else throw new TypeError('"list" argument must be an Array of Buffers');h+=g.length}return m};function E(r,t){if(l.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||A(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const n=r.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&n===0)return 0;let m=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return C(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return v(r).length;default:if(m)return p?-1:C(r).length;t=(""+t).toLowerCase(),m=!0}}l.byteLength=E;function D(r,t,n){let p=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Z(this,t,n);case"utf8":case"utf-8":return B(this,t,n);case"ascii":return me(this,t,n);case"latin1":case"binary":return ge(this,t,n);case"base64":return xe(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,t,n);default:if(p)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),p=!0}}l.prototype._isBuffer=!0;function P(r,t,n){const p=r[t];r[t]=r[n],r[n]=p}l.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)P(this,n,n+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)P(this,n,n+3),P(this,n+1,n+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)P(this,n,n+7),P(this,n+1,n+6),P(this,n+2,n+5),P(this,n+3,n+4);return this},l.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?B(this,0,t):D.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:l.compare(this,t)===0},l.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(t,n,p,m,h){if(A(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(n===void 0&&(n=0),p===void 0&&(p=t?t.length:0),m===void 0&&(m=0),h===void 0&&(h=this.length),n<0||p>t.length||m<0||h>this.length)throw new RangeError("out of range index");if(m>=h&&n>=p)return 0;if(m>=h)return-1;if(n>=p)return 1;if(n>>>=0,p>>>=0,m>>>=0,h>>>=0,this===t)return 0;let g=h-m,z=p-n;const ie=Math.min(g,z),ee=this.slice(m,h),ae=t.slice(n,p);for(let W=0;W<ie;++W)if(ee[W]!==ae[W]){g=ee[W],z=ae[W];break}return g<z?-1:z<g?1:0};function se(r,t,n,p,m){if(r.length===0)return-1;if(typeof n=="string"?(p=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,U(n)&&(n=m?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(m)return-1;n=r.length-1}else if(n<0)if(m)n=0;else return-1;if(typeof t=="string"&&(t=l.from(t,p)),l.isBuffer(t))return t.length===0?-1:H(r,t,n,p,m);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(r,t,n):Uint8Array.prototype.lastIndexOf.call(r,t,n):H(r,[t],n,p,m);throw new TypeError("val must be string, number or Buffer")}function H(r,t,n,p,m){let h=1,g=r.length,z=t.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(r.length<2||t.length<2)return-1;h=2,g/=2,z/=2,n/=2}function ie(ae,W){return h===1?ae[W]:ae.readUInt16BE(W*h)}let ee;if(m){let ae=-1;for(ee=n;ee<g;ee++)if(ie(r,ee)===ie(t,ae===-1?0:ee-ae)){if(ae===-1&&(ae=ee),ee-ae+1===z)return ae*h}else ae!==-1&&(ee-=ee-ae),ae=-1}else for(n+z>g&&(n=g-z),ee=n;ee>=0;ee--){let ae=!0;for(let W=0;W<z;W++)if(ie(r,ee+W)!==ie(t,W)){ae=!1;break}if(ae)return ee}return-1}l.prototype.includes=function(t,n,p){return this.indexOf(t,n,p)!==-1},l.prototype.indexOf=function(t,n,p){return se(this,t,n,p,!0)},l.prototype.lastIndexOf=function(t,n,p){return se(this,t,n,p,!1)};function oe(r,t,n,p){n=Number(n)||0;const m=r.length-n;p?(p=Number(p),p>m&&(p=m)):p=m;const h=t.length;p>h/2&&(p=h/2);let g;for(g=0;g<p;++g){const z=parseInt(t.substr(g*2,2),16);if(U(z))return g;r[n+g]=z}return g}function ue(r,t,n,p){return R(C(t,r.length-n),r,n,p)}function pe(r,t,n,p){return R(q(t),r,n,p)}function fe(r,t,n,p){return R(v(t),r,n,p)}function he(r,t,n,p){return R(F(t,r.length-n),r,n,p)}l.prototype.write=function(t,n,p,m){if(n===void 0)m="utf8",p=this.length,n=0;else if(p===void 0&&typeof n=="string")m=n,p=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(p)?(p=p>>>0,m===void 0&&(m="utf8")):(m=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const h=this.length-n;if((p===void 0||p>h)&&(p=h),t.length>0&&(p<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");let g=!1;for(;;)switch(m){case"hex":return oe(this,t,n,p);case"utf8":case"utf-8":return ue(this,t,n,p);case"ascii":case"latin1":case"binary":return pe(this,t,n,p);case"base64":return fe(this,t,n,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,t,n,p);default:if(g)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),g=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function xe(r,t,n){return t===0&&n===r.length?i.fromByteArray(r):i.fromByteArray(r.slice(t,n))}function B(r,t,n){n=Math.min(r.length,n);const p=[];let m=t;for(;m<n;){const h=r[m];let g=null,z=h>239?4:h>223?3:h>191?2:1;if(m+z<=n){let ie,ee,ae,W;switch(z){case 1:h<128&&(g=h);break;case 2:ie=r[m+1],(ie&192)===128&&(W=(h&31)<<6|ie&63,W>127&&(g=W));break;case 3:ie=r[m+1],ee=r[m+2],(ie&192)===128&&(ee&192)===128&&(W=(h&15)<<12|(ie&63)<<6|ee&63,W>2047&&(W<55296||W>57343)&&(g=W));break;case 4:ie=r[m+1],ee=r[m+2],ae=r[m+3],(ie&192)===128&&(ee&192)===128&&(ae&192)===128&&(W=(h&15)<<18|(ie&63)<<12|(ee&63)<<6|ae&63,W>65535&&W<1114112&&(g=W))}}g===null?(g=65533,z=1):g>65535&&(g-=65536,p.push(g>>>10&1023|55296),g=56320|g&1023),p.push(g),m+=z}return J(p)}const Y=4096;function J(r){const t=r.length;if(t<=Y)return String.fromCharCode.apply(String,r);let n="",p=0;for(;p<t;)n+=String.fromCharCode.apply(String,r.slice(p,p+=Y));return n}function me(r,t,n){let p="";n=Math.min(r.length,n);for(let m=t;m<n;++m)p+=String.fromCharCode(r[m]&127);return p}function ge(r,t,n){let p="";n=Math.min(r.length,n);for(let m=t;m<n;++m)p+=String.fromCharCode(r[m]);return p}function Z(r,t,n){const p=r.length;(!t||t<0)&&(t=0),(!n||n<0||n>p)&&(n=p);let m="";for(let h=t;h<n;++h)m+=S[r[h]];return m}function _e(r,t,n){const p=r.slice(t,n);let m="";for(let h=0;h<p.length-1;h+=2)m+=String.fromCharCode(p[h]+p[h+1]*256);return m}l.prototype.slice=function(t,n){const p=this.length;t=~~t,n=n===void 0?p:~~n,t<0?(t+=p,t<0&&(t=0)):t>p&&(t=p),n<0?(n+=p,n<0&&(n=0)):n>p&&(n=p),n<t&&(n=t);const m=this.subarray(t,n);return Object.setPrototypeOf(m,l.prototype),m};function X(r,t,n){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>n)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(t,n,p){t=t>>>0,n=n>>>0,p||X(t,n,this.length);let m=this[t],h=1,g=0;for(;++g<n&&(h*=256);)m+=this[t+g]*h;return m},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,n,p){t=t>>>0,n=n>>>0,p||X(t,n,this.length);let m=this[t+--n],h=1;for(;n>0&&(h*=256);)m+=this[t+--n]*h;return m},l.prototype.readUint8=l.prototype.readUInt8=function(t,n){return t=t>>>0,n||X(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,n){return t=t>>>0,n||X(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,n){return t=t>>>0,n||X(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,n){return t=t>>>0,n||X(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,n){return t=t>>>0,n||X(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=T(function(t){t=t>>>0,ye(t,"offset");const n=this[t],p=this[t+7];(n===void 0||p===void 0)&&we(t,this.length-8);const m=n+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,h=this[++t]+this[++t]*2**8+this[++t]*2**16+p*2**24;return BigInt(m)+(BigInt(h)<<BigInt(32))}),l.prototype.readBigUInt64BE=T(function(t){t=t>>>0,ye(t,"offset");const n=this[t],p=this[t+7];(n===void 0||p===void 0)&&we(t,this.length-8);const m=n*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],h=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+p;return(BigInt(m)<<BigInt(32))+BigInt(h)}),l.prototype.readIntLE=function(t,n,p){t=t>>>0,n=n>>>0,p||X(t,n,this.length);let m=this[t],h=1,g=0;for(;++g<n&&(h*=256);)m+=this[t+g]*h;return h*=128,m>=h&&(m-=Math.pow(2,8*n)),m},l.prototype.readIntBE=function(t,n,p){t=t>>>0,n=n>>>0,p||X(t,n,this.length);let m=n,h=1,g=this[t+--m];for(;m>0&&(h*=256);)g+=this[t+--m]*h;return h*=128,g>=h&&(g-=Math.pow(2,8*n)),g},l.prototype.readInt8=function(t,n){return t=t>>>0,n||X(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},l.prototype.readInt16LE=function(t,n){t=t>>>0,n||X(t,2,this.length);const p=this[t]|this[t+1]<<8;return p&32768?p|4294901760:p},l.prototype.readInt16BE=function(t,n){t=t>>>0,n||X(t,2,this.length);const p=this[t+1]|this[t]<<8;return p&32768?p|4294901760:p},l.prototype.readInt32LE=function(t,n){return t=t>>>0,n||X(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,n){return t=t>>>0,n||X(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=T(function(t){t=t>>>0,ye(t,"offset");const n=this[t],p=this[t+7];(n===void 0||p===void 0)&&we(t,this.length-8);const m=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(p<<24);return(BigInt(m)<<BigInt(32))+BigInt(n+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),l.prototype.readBigInt64BE=T(function(t){t=t>>>0,ye(t,"offset");const n=this[t],p=this[t+7];(n===void 0||p===void 0)&&we(t,this.length-8);const m=(n<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(m)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+p)}),l.prototype.readFloatLE=function(t,n){return t=t>>>0,n||X(t,4,this.length),a.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,n){return t=t>>>0,n||X(t,4,this.length),a.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,n){return t=t>>>0,n||X(t,8,this.length),a.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,n){return t=t>>>0,n||X(t,8,this.length),a.read(this,t,!1,52,8)};function te(r,t,n,p,m,h){if(!l.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>m||t<h)throw new RangeError('"value" argument is out of bounds');if(n+p>r.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,n,p,m){if(t=+t,n=n>>>0,p=p>>>0,!m){const z=Math.pow(2,8*p)-1;te(this,t,n,p,z,0)}let h=1,g=0;for(this[n]=t&255;++g<p&&(h*=256);)this[n+g]=t/h&255;return n+p},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,n,p,m){if(t=+t,n=n>>>0,p=p>>>0,!m){const z=Math.pow(2,8*p)-1;te(this,t,n,p,z,0)}let h=p-1,g=1;for(this[n+h]=t&255;--h>=0&&(g*=256);)this[n+h]=t/g&255;return n+p},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,1,255,0),this[n]=t&255,n+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,2,65535,0),this[n]=t&255,this[n+1]=t>>>8,n+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=t&255,n+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t&255,n+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};function ke(r,t,n,p,m){$(t,p,m,r,n,7);let h=Number(t&BigInt(4294967295));r[n++]=h,h=h>>8,r[n++]=h,h=h>>8,r[n++]=h,h=h>>8,r[n++]=h;let g=Number(t>>BigInt(32)&BigInt(4294967295));return r[n++]=g,g=g>>8,r[n++]=g,g=g>>8,r[n++]=g,g=g>>8,r[n++]=g,n}function le(r,t,n,p,m){$(t,p,m,r,n,7);let h=Number(t&BigInt(4294967295));r[n+7]=h,h=h>>8,r[n+6]=h,h=h>>8,r[n+5]=h,h=h>>8,r[n+4]=h;let g=Number(t>>BigInt(32)&BigInt(4294967295));return r[n+3]=g,g=g>>8,r[n+2]=g,g=g>>8,r[n+1]=g,g=g>>8,r[n]=g,n+8}l.prototype.writeBigUInt64LE=T(function(t,n=0){return ke(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=T(function(t,n=0){return le(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(t,n,p,m){if(t=+t,n=n>>>0,!m){const ie=Math.pow(2,8*p-1);te(this,t,n,p,ie-1,-ie)}let h=0,g=1,z=0;for(this[n]=t&255;++h<p&&(g*=256);)t<0&&z===0&&this[n+h-1]!==0&&(z=1),this[n+h]=(t/g>>0)-z&255;return n+p},l.prototype.writeIntBE=function(t,n,p,m){if(t=+t,n=n>>>0,!m){const ie=Math.pow(2,8*p-1);te(this,t,n,p,ie-1,-ie)}let h=p-1,g=1,z=0;for(this[n+h]=t&255;--h>=0&&(g*=256);)t<0&&z===0&&this[n+h+1]!==0&&(z=1),this[n+h]=(t/g>>0)-z&255;return n+p},l.prototype.writeInt8=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=t&255,n+1},l.prototype.writeInt16LE=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,2,32767,-32768),this[n]=t&255,this[n+1]=t>>>8,n+2},l.prototype.writeInt16BE=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=t&255,n+2},l.prototype.writeInt32LE=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,4,2147483647,-2147483648),this[n]=t&255,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},l.prototype.writeInt32BE=function(t,n,p){return t=+t,n=n>>>0,p||te(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4},l.prototype.writeBigInt64LE=T(function(t,n=0){return ke(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=T(function(t,n=0){return le(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ie(r,t,n,p,m,h){if(n+p>r.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function ve(r,t,n,p,m){return t=+t,n=n>>>0,m||Ie(r,t,n,4),a.write(r,t,n,p,23,4),n+4}l.prototype.writeFloatLE=function(t,n,p){return ve(this,t,n,!0,p)},l.prototype.writeFloatBE=function(t,n,p){return ve(this,t,n,!1,p)};function L(r,t,n,p,m){return t=+t,n=n>>>0,m||Ie(r,t,n,8),a.write(r,t,n,p,52,8),n+8}l.prototype.writeDoubleLE=function(t,n,p){return L(this,t,n,!0,p)},l.prototype.writeDoubleBE=function(t,n,p){return L(this,t,n,!1,p)},l.prototype.copy=function(t,n,p,m){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(p||(p=0),!m&&m!==0&&(m=this.length),n>=t.length&&(n=t.length),n||(n=0),m>0&&m<p&&(m=p),m===p||t.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),t.length-n<m-p&&(m=t.length-n+p);const h=m-p;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,p,m):Uint8Array.prototype.set.call(t,this.subarray(p,m),n),h},l.prototype.fill=function(t,n,p,m){if(typeof t=="string"){if(typeof n=="string"?(m=n,n=0,p=this.length):typeof p=="string"&&(m=p,p=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!l.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(t.length===1){const g=t.charCodeAt(0);(m==="utf8"&&g<128||m==="latin1")&&(t=g)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(n<0||this.length<n||this.length<p)throw new RangeError("Out of range index");if(p<=n)return this;n=n>>>0,p=p===void 0?this.length:p>>>0,t||(t=0);let h;if(typeof t=="number")for(h=n;h<p;++h)this[h]=t;else{const g=l.isBuffer(t)?t:l.from(t,m),z=g.length;if(z===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(h=0;h<p-n;++h)this[h+n]=g[h%z]}return this};const K={};function re(r,t,n){K[r]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(m){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:m,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(r,t){return`The "${r}" argument must be of type number. Received type ${typeof t}`},TypeError),re("ERR_OUT_OF_RANGE",function(r,t,n){let p=`The value of "${r}" is out of range.`,m=n;return Number.isInteger(n)&&Math.abs(n)>2**32?m=V(String(n)):typeof n=="bigint"&&(m=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(m=V(m)),m+="n"),p+=` It must be ${t}. Received ${m}`,p},RangeError);function V(r){let t="",n=r.length;const p=r[0]==="-"?1:0;for(;n>=p+4;n-=3)t=`_${r.slice(n-3,n)}${t}`;return`${r.slice(0,n)}${t}`}function G(r,t,n){ye(t,"offset"),(r[t]===void 0||r[t+n]===void 0)&&we(t,r.length-(n+1))}function $(r,t,n,p,m,h){if(r>n||r<t){const g=typeof t=="bigint"?"n":"";let z;throw t===0||t===BigInt(0)?z=`>= 0${g} and < 2${g} ** ${(h+1)*8}${g}`:z=`>= -(2${g} ** ${(h+1)*8-1}${g}) and < 2 ** ${(h+1)*8-1}${g}`,new K.ERR_OUT_OF_RANGE("value",z,r)}G(p,m,h)}function ye(r,t){if(typeof r!="number")throw new K.ERR_INVALID_ARG_TYPE(t,"number",r)}function we(r,t,n){throw Math.floor(r)!==r?(ye(r,n),new K.ERR_OUT_OF_RANGE("offset","an integer",r)):t<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,r)}const Ne=/[^+/0-9A-Za-z-_]/g;function Re(r){if(r=r.split("=")[0],r=r.trim().replace(Ne,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function C(r,t){t=t||1/0;let n;const p=r.length;let m=null;const h=[];for(let g=0;g<p;++g){if(n=r.charCodeAt(g),n>55295&&n<57344){if(!m){if(n>56319){(t-=3)>-1&&h.push(239,191,189);continue}else if(g+1===p){(t-=3)>-1&&h.push(239,191,189);continue}m=n;continue}if(n<56320){(t-=3)>-1&&h.push(239,191,189),m=n;continue}n=(m-55296<<10|n-56320)+65536}else m&&(t-=3)>-1&&h.push(239,191,189);if(m=null,n<128){if((t-=1)<0)break;h.push(n)}else if(n<2048){if((t-=2)<0)break;h.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;h.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;h.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return h}function q(r){const t=[];for(let n=0;n<r.length;++n)t.push(r.charCodeAt(n)&255);return t}function F(r,t){let n,p,m;const h=[];for(let g=0;g<r.length&&!((t-=2)<0);++g)n=r.charCodeAt(g),p=n>>8,m=n%256,h.push(m),h.push(p);return h}function v(r){return i.toByteArray(Re(r))}function R(r,t,n,p){let m;for(m=0;m<p&&!(m+n>=t.length||m>=r.length);++m)t[m+n]=r[m];return m}function A(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function U(r){return r!==r}const S=function(){const r="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const p=n*16;for(let m=0;m<16;++m)t[p+m]=r[n]+r[m]}return t}();function T(r){return typeof BigInt>"u"?ce:r}function ce(){throw new Error("BigInt not supported")}}(St)),St}var ni=bo();typeof window<"u"&&!window.Buffer&&(window.Buffer=ni.Buffer);const ii=async(e,i,a)=>{try{const{GoogleGenerativeAI:s}=await un(async()=>{const{GoogleGenerativeAI:w}=await Promise.resolve().then(()=>vo);return{GoogleGenerativeAI:w}},void 0),{GoogleAIFileManager:c}=await un(async()=>{const{GoogleAIFileManager:w}=await import("./index-Q9_myv3Q.js");return{GoogleAIFileManager:w}},[]),u=new s(i),d=new c(i),l=[{category:Be.HARM_CATEGORY_HARASSMENT,threshold:Me.BLOCK_NONE},{category:Be.HARM_CATEGORY_HATE_SPEECH,threshold:Me.BLOCK_NONE},{category:Be.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Me.BLOCK_NONE},{category:Be.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Me.BLOCK_NONE},{category:Be.HARM_CATEGORY_CIVIC_INTEGRITY,threshold:Me.BLOCK_NONE}],x=[];for(const w of e){const b=await w.arrayBuffer(),O=await d.uploadFile(ni.Buffer.from(b),{mimeType:w.type,displayName:w.name});x.push({file:O.file,originalFile:w})}const j=u.getGenerativeModel({model:a.modelName,systemInstruction:a.systemInstruction}),k=[...x.map(({file:w,originalFile:b})=>({fileData:{mimeType:b.type,fileUri:w.uri}}))];a.chatText&&k.push({text:a.chatText});const N=[{role:"model",parts:[{text:a.systemInstruction}]},{role:"user",parts:k}],y=await j.generateContent({safetySettings:l,contents:N,generationConfig:{...a.generationConfig,responseMimeType:a.responseMimeType||"text/plain"}});return Eo(y.response)}catch(s){return console.error("Gemini Error:",s),{thinking:`Error processing the images: ${s.message||"Unknown error"}`,ocrText:`Error processing images. ${s.message||"Please try again."}`,hasError:!0}}};function Eo(e){var i;if(e.candidates&&e.candidates.length>0&&((i=e.candidates[0].content.parts[0])!=null&&i.inlineData)){const a=e.candidates[0].content.parts[0].inlineData;return{thinking:"Image processed successfully.",hasError:!1,imageData:`data:${a.mimeType};base64,${a.data}`}}else return e.text&&e.text()?{thinking:"Text processed successfully.",ocrText:e.text(),hasError:!1}:{thinking:"No output generated.",ocrText:"No output generated.",hasError:!0}}const jo=async(e,i,a,s,c)=>ii(e,i,{modelName:a,systemInstruction:s||`The user wants me to extract text from the image(s) and present it as a single line of text for each dialogue bubble.
I need to identify the dialogue bubbles in the image(s) and then use OCR to extract the text from each bubble.
I must ensure the extracted text does not include watermarks like 'Colamanga.com' or 'AcloudMerge.com'.

I must identify and extract each dialogue bubble's text as a single continuous line, even if it has multiple lines inside one bubble.
I must present the extracted text exactly as requested by the user—just the text, with no additional formatting or descriptions. Just text. Everything answer to user is the text inside the image.


`,generationConfig:{temperature:1,topP:.95,topK:64,maxOutputTokens:65536},chatText:"",responseMimeType:"text/plain"}),Co=async(e,i,a,s)=>ii(e,a,{modelName:s,systemInstruction:"You are a helpful assistant that responds to user queries with text, images, or both. If the user provides images, analyze them and respond to any questions about them. If the user provides only text, respond to their questions or statements appropriately. Be concise, helpful, and direct in your responses.",generationConfig:{temperature:.7,topP:.95,topK:32,maxOutputTokens:4096},chatText:i,responseMimeType:"text/plain"}),Nn=({text:e,className:i})=>o.jsxs("div",{className:Ce("relative overflow-hidden",i),children:[o.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e}),o.jsx(be.div,{style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent)",backgroundSize:"200% 100%"},animate:{backgroundPosition:["200% 0","-200% 0"]},transition:{duration:1.5,ease:"linear",repeat:1/0}})]}),Io=({active:e,setActive:i,handleRetry:a,copied:s,copyToClipboard:c,positionData:u})=>{const d=f.useRef(null),l=f.useId(),x=()=>i(null);return f.useEffect(()=>{const j=I=>{d.current&&!d.current.contains(I.target)&&i(null)};return e?(document.addEventListener("mousedown",j),document.body.style.overflow="hidden"):document.body.style.overflow="auto",()=>{document.removeEventListener("mousedown",j),document.body.style.overflow="auto"}},[e,i]),f.useEffect(()=>{const j=I=>{I.key==="Escape"&&i(null)};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[i]),f.useEffect(()=>{e&&u&&d.current&&(d.current.style.position="fixed",d.current.style.top=`${u.top}px`,d.current.style.left=`${u.left}px`,d.current.style.width=`${u.width}px`,d.current.style.height=`${u.height}px`,d.current.style.borderRadius="0.5rem",d.current.style.zIndex="50",d.current.style.opacity="1",d.current.style.transformOrigin="top left",d.current.getBoundingClientRect(),d.current.style.transition="all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)",d.current.style.top="50%",d.current.style.left="50%",d.current.style.transform="translate(-50%, -50%)",d.current.style.width="100%",d.current.style.maxWidth="64rem",d.current.style.maxHeight="90vh",d.current.style.borderRadius="0.75rem")},[e,u]),e?o.jsxs(o.Fragment,{children:[o.jsx(At,{children:e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:x,children:o.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%"}})})}),o.jsx(At,{children:e&&o.jsx("div",{className:"fixed inset-0 grid place-items-center z-50 p-4",children:o.jsx("div",{ref:d,className:"bg-white dark:bg-neutral-900 rounded-xl overflow-hidden flex flex-col",children:o.jsxs(be.div,{layoutId:`card-${e.id}-${l}`,initial:{opacity:u?1:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%"},children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[o.jsx("div",{className:"font-semibold truncate",children:o.jsx(be.div,{layoutId:`title-${e.id}-${l}`,children:e.file.name})}),o.jsx(Q,{variant:"ghost",size:"icon",onClick:x,children:o.jsx(ht,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 flex-1 overflow-hidden",children:[o.jsxs("div",{className:"relative h-[70vh] overflow-auto",children:[o.jsx("div",{className:`w-full h-auto object-contain ${e.isProcessing||e.willProcess?"blur-sm":""}`,children:o.jsx(be.div,{layoutId:`image-${e.id}-${l}`,style:{width:"100%",height:"100%",position:"relative"},children:o.jsx("img",{src:e.url,alt:`Uploaded image ${e.file.name}`,style:{width:"100%",height:"auto",objectFit:"contain"}})})}),e.isProcessing&&o.jsx("div",{className:"absolute inset-0 backdrop-blur-sm flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded",children:[o.jsx("div",{className:"animate-spin",children:o.jsx(gt,{className:"h-4 w-4 text-white"})}),o.jsx(Nn,{text:"Processing..."})]})}),e.willProcess&&!e.isProcessing&&o.jsx("div",{className:"absolute inset-0 backdrop-blur-sm flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded",children:[o.jsx(ja,{className:"h-4 w-4"}),o.jsx(Nn,{text:"In queue..."})]})})]}),o.jsxs("div",{className:"p-4 flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h4",{className:"font-medium",children:"Gemini OCR Result"}),o.jsxs("div",{className:"flex gap-2",children:[!e.isProcessing&&!e.willProcess&&e.hasError&&o.jsxs(Q,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>a(e),children:[o.jsx(gt,{className:"h-4 w-4"}),o.jsx("span",{children:"Retry"})]}),o.jsx(Q,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:c,disabled:e.isProcessing||e.willProcess,children:s?o.jsxs(o.Fragment,{children:[o.jsx(en,{className:"h-4 w-4"}),o.jsx("span",{children:"Copied"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Jn,{className:"h-4 w-4"}),o.jsx("span",{children:"Copy"})]})})]})]}),o.jsx("div",{className:"h-[60vh] overflow-hidden flex flex-col",children:o.jsxs(Wn,{defaultValue:"ocr",className:"flex flex-col h-full",children:[o.jsxs(Xn,{className:"mb-4",children:[o.jsx(mt,{value:"ocr",children:"Answer"}),o.jsx(mt,{value:"thinking",children:"Image"})]}),o.jsxs("div",{className:"flex-1 min-h-0",children:[o.jsx(ft,{value:"ocr",className:"flex flex-col h-full min-h-0 overflow-hidden",children:o.jsx(ut,{className:"flex-1 min-h-0 border rounded-md p-3 overflow-y-auto whitespace-pre-wrap text-sm font-mono",children:e.isProcessing?"Processing...":e.willProcess?"Waiting in queue...":e.geminiResponse.ocrText})}),o.jsx(ft,{value:"thinking",className:"flex flex-col h-full min-h-0 overflow-hidden",children:o.jsx(ut,{className:"flex-1 min-h-0 border rounded-md p-3 overflow-y-auto whitespace-pre-wrap text-sm font-mono",children:e.isProcessing?"Processing...":e.willProcess?"Waiting in queue...":e.geminiResponse.thinking})})]})]})})]})]})]})})})})]}):null};var So=[" ","Enter","ArrowUp","ArrowDown"],ko=[" ","Enter"],rt="Select",[Et,jt,No]=Vi(rt),[Xe,Ss]=Ki(rt,[No,Kn]),Ct=Kn(),[_o,ze]=Xe(rt),[Ro,To]=Xe(rt),ai=e=>{const{__scopeSelect:i,children:a,open:s,defaultOpen:c,onOpenChange:u,value:d,defaultValue:l,onValueChange:x,dir:j,name:I,autoComplete:k,disabled:N,required:y,form:w}=e,b=Ct(i),[O,M]=f.useState(null),[_,E]=f.useState(null),[D,P]=f.useState(!1),se=Hi(j),[H=!1,oe]=mn({prop:s,defaultProp:c,onChange:u}),[ue,pe]=mn({prop:d,defaultProp:l,onChange:x}),fe=f.useRef(null),he=O?w||!!O.closest("form"):!0,[xe,B]=f.useState(new Set),Y=Array.from(xe).map(J=>J.props.value).join(";");return o.jsx(Gi,{...b,children:o.jsxs(_o,{required:y,scope:i,trigger:O,onTriggerChange:M,valueNode:_,onValueNodeChange:E,valueNodeHasChildren:D,onValueNodeHasChildrenChange:P,contentId:Qt(),value:ue,onValueChange:pe,open:H,onOpenChange:oe,dir:se,triggerPointerDownPosRef:fe,disabled:N,children:[o.jsx(Et.Provider,{scope:i,children:o.jsx(Ro,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(J=>{B(me=>new Set(me).add(J))},[]),onNativeOptionRemove:f.useCallback(J=>{B(me=>{const ge=new Set(me);return ge.delete(J),ge})},[]),children:a})}),he?o.jsxs(Ni,{"aria-hidden":!0,required:y,tabIndex:-1,name:I,autoComplete:k,value:ue,onChange:J=>pe(J.target.value),disabled:N,form:w,children:[ue===void 0?o.jsx("option",{value:""}):null,Array.from(xe)]},Y):null]})})};ai.displayName=rt;var oi="SelectTrigger",ri=f.forwardRef((e,i)=>{const{__scopeSelect:a,disabled:s=!1,...c}=e,u=Ct(a),d=ze(oi,a),l=d.disabled||s,x=De(i,d.onTriggerChange),j=jt(a),I=f.useRef("touch"),[k,N,y]=_i(b=>{const O=j().filter(E=>!E.disabled),M=O.find(E=>E.value===d.value),_=Ri(O,b,M);_!==void 0&&d.onValueChange(_.value)}),w=b=>{l||(d.onOpenChange(!0),y()),b&&(d.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return o.jsx(Yi,{asChild:!0,...u,children:o.jsx(Te.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ki(d.value)?"":void 0,...c,ref:x,onClick:Ee(c.onClick,b=>{b.currentTarget.focus(),I.current!=="mouse"&&w(b)}),onPointerDown:Ee(c.onPointerDown,b=>{I.current=b.pointerType;const O=b.target;O.hasPointerCapture(b.pointerId)&&O.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:Ee(c.onKeyDown,b=>{const O=k.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&N(b.key),!(O&&b.key===" ")&&So.includes(b.key)&&(w(),b.preventDefault())})})})});ri.displayName=oi;var si="SelectValue",li=f.forwardRef((e,i)=>{const{__scopeSelect:a,className:s,style:c,children:u,placeholder:d="",...l}=e,x=ze(si,a),{onValueNodeHasChildrenChange:j}=x,I=u!==void 0,k=De(i,x.onValueNodeChange);return Ue(()=>{j(I)},[j,I]),o.jsx(Te.span,{...l,ref:k,style:{pointerEvents:"none"},children:ki(x.value)?o.jsx(o.Fragment,{children:d}):u})});li.displayName=si;var Ao="SelectIcon",ci=f.forwardRef((e,i)=>{const{__scopeSelect:a,children:s,...c}=e;return o.jsx(Te.span,{"aria-hidden":!0,...c,ref:i,children:s||"▼"})});ci.displayName=Ao;var Oo="SelectPortal",pi=e=>o.jsx(Wi,{asChild:!0,...e});pi.displayName=Oo;var Ke="SelectContent",di=f.forwardRef((e,i)=>{const a=ze(Ke,e.__scopeSelect),[s,c]=f.useState();if(Ue(()=>{c(new DocumentFragment)},[]),!a.open){const u=s;return u?Vn.createPortal(o.jsx(ui,{scope:e.__scopeSelect,children:o.jsx(Et.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),u):null}return o.jsx(mi,{...e,ref:i})});di.displayName=Ke;var Ae=10,[ui,$e]=Xe(Ke),Do="SelectContentImpl",mi=f.forwardRef((e,i)=>{const{__scopeSelect:a,position:s="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,side:l,sideOffset:x,align:j,alignOffset:I,arrowPadding:k,collisionBoundary:N,collisionPadding:y,sticky:w,hideWhenDetached:b,avoidCollisions:O,...M}=e,_=ze(Ke,a),[E,D]=f.useState(null),[P,se]=f.useState(null),H=De(i,L=>D(L)),[oe,ue]=f.useState(null),[pe,fe]=f.useState(null),he=jt(a),[xe,B]=f.useState(!1),Y=f.useRef(!1);f.useEffect(()=>{if(E)return Ji(E)},[E]),Zi();const J=f.useCallback(L=>{const[K,...re]=he().map($=>$.ref.current),[V]=re.slice(-1),G=document.activeElement;for(const $ of L)if($===G||($==null||$.scrollIntoView({block:"nearest"}),$===K&&P&&(P.scrollTop=0),$===V&&P&&(P.scrollTop=P.scrollHeight),$==null||$.focus(),document.activeElement!==G))return},[he,P]),me=f.useCallback(()=>J([oe,E]),[J,oe,E]);f.useEffect(()=>{xe&&me()},[xe,me]);const{onOpenChange:ge,triggerPointerDownPosRef:Z}=_;f.useEffect(()=>{if(E){let L={x:0,y:0};const K=V=>{var G,$;L={x:Math.abs(Math.round(V.pageX)-(((G=Z.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(V.pageY)-((($=Z.current)==null?void 0:$.y)??0))}},re=V=>{L.x<=10&&L.y<=10?V.preventDefault():E.contains(V.target)||ge(!1),document.removeEventListener("pointermove",K),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",re,{capture:!0})}}},[E,ge,Z]),f.useEffect(()=>{const L=()=>ge(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[ge]);const[_e,X]=_i(L=>{const K=he().filter(G=>!G.disabled),re=K.find(G=>G.ref.current===document.activeElement),V=Ri(K,L,re);V&&setTimeout(()=>V.ref.current.focus())}),te=f.useCallback((L,K,re)=>{const V=!Y.current&&!re;(_.value!==void 0&&_.value===K||V)&&(ue(L),V&&(Y.current=!0))},[_.value]),ke=f.useCallback(()=>E==null?void 0:E.focus(),[E]),le=f.useCallback((L,K,re)=>{const V=!Y.current&&!re;(_.value!==void 0&&_.value===K||V)&&fe(L)},[_.value]),Ie=s==="popper"?qt:fi,ve=Ie===qt?{side:l,sideOffset:x,align:j,alignOffset:I,arrowPadding:k,collisionBoundary:N,collisionPadding:y,sticky:w,hideWhenDetached:b,avoidCollisions:O}:{};return o.jsx(ui,{scope:a,content:E,viewport:P,onViewportChange:se,itemRefCallback:te,selectedItem:oe,onItemLeave:ke,itemTextRefCallback:le,focusSelectedItem:me,selectedItemText:pe,position:s,isPositioned:xe,searchRef:_e,children:o.jsx(Qi,{as:ea,allowPinchZoom:!0,children:o.jsx(ta,{asChild:!0,trapped:_.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:Ee(c,L=>{var K;(K=_.trigger)==null||K.focus({preventScroll:!0}),L.preventDefault()}),children:o.jsx(na,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:o.jsx(Ie,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:L=>L.preventDefault(),...M,...ve,onPlaced:()=>B(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Ee(M.onKeyDown,L=>{const K=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!K&&L.key.length===1&&X(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let V=he().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(L.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const G=L.target,$=V.indexOf(G);V=V.slice($+1)}setTimeout(()=>J(V)),L.preventDefault()}})})})})})})});mi.displayName=Do;var Po="SelectItemAlignedPosition",fi=f.forwardRef((e,i)=>{const{__scopeSelect:a,onPlaced:s,...c}=e,u=ze(Ke,a),d=$e(Ke,a),[l,x]=f.useState(null),[j,I]=f.useState(null),k=De(i,H=>I(H)),N=jt(a),y=f.useRef(!1),w=f.useRef(!0),{viewport:b,selectedItem:O,selectedItemText:M,focusSelectedItem:_}=d,E=f.useCallback(()=>{if(u.trigger&&u.valueNode&&l&&j&&b&&O&&M){const H=u.trigger.getBoundingClientRect(),oe=j.getBoundingClientRect(),ue=u.valueNode.getBoundingClientRect(),pe=M.getBoundingClientRect();if(u.dir!=="rtl"){const G=pe.left-oe.left,$=ue.left-G,ye=H.left-$,we=H.width+ye,Ne=Math.max(we,oe.width),Re=window.innerWidth-Ae,C=hn($,[Ae,Math.max(Ae,Re-Ne)]);l.style.minWidth=we+"px",l.style.left=C+"px"}else{const G=oe.right-pe.right,$=window.innerWidth-ue.right-G,ye=window.innerWidth-H.right-$,we=H.width+ye,Ne=Math.max(we,oe.width),Re=window.innerWidth-Ae,C=hn($,[Ae,Math.max(Ae,Re-Ne)]);l.style.minWidth=we+"px",l.style.right=C+"px"}const fe=N(),he=window.innerHeight-Ae*2,xe=b.scrollHeight,B=window.getComputedStyle(j),Y=parseInt(B.borderTopWidth,10),J=parseInt(B.paddingTop,10),me=parseInt(B.borderBottomWidth,10),ge=parseInt(B.paddingBottom,10),Z=Y+J+xe+ge+me,_e=Math.min(O.offsetHeight*5,Z),X=window.getComputedStyle(b),te=parseInt(X.paddingTop,10),ke=parseInt(X.paddingBottom,10),le=H.top+H.height/2-Ae,Ie=he-le,ve=O.offsetHeight/2,L=O.offsetTop+ve,K=Y+J+L,re=Z-K;if(K<=le){const G=fe.length>0&&O===fe[fe.length-1].ref.current;l.style.bottom="0px";const $=j.clientHeight-b.offsetTop-b.offsetHeight,ye=Math.max(Ie,ve+(G?ke:0)+$+me),we=K+ye;l.style.height=we+"px"}else{const G=fe.length>0&&O===fe[0].ref.current;l.style.top="0px";const ye=Math.max(le,Y+b.offsetTop+(G?te:0)+ve)+re;l.style.height=ye+"px",b.scrollTop=K-le+b.offsetTop}l.style.margin=`${Ae}px 0`,l.style.minHeight=_e+"px",l.style.maxHeight=he+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[N,u.trigger,u.valueNode,l,j,b,O,M,u.dir,s]);Ue(()=>E(),[E]);const[D,P]=f.useState();Ue(()=>{j&&P(window.getComputedStyle(j).zIndex)},[j]);const se=f.useCallback(H=>{H&&w.current===!0&&(E(),_==null||_(),w.current=!1)},[E,_]);return o.jsx(Bo,{scope:a,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:se,children:o.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:o.jsx(Te.div,{...c,ref:k,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});fi.displayName=Po;var Fo="SelectPopperPosition",qt=f.forwardRef((e,i)=>{const{__scopeSelect:a,align:s="start",collisionPadding:c=Ae,...u}=e,d=Ct(a);return o.jsx(ia,{...d,...u,ref:i,align:s,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qt.displayName=Fo;var[Bo,rn]=Xe(Ke,{}),Ht="SelectViewport",hi=f.forwardRef((e,i)=>{const{__scopeSelect:a,nonce:s,...c}=e,u=$e(Ht,a),d=rn(Ht,a),l=De(i,u.onViewportChange),x=f.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Et.Slot,{scope:a,children:o.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:Ee(c.onScroll,j=>{const I=j.currentTarget,{contentWrapper:k,shouldExpandOnScrollRef:N}=d;if(N!=null&&N.current&&k){const y=Math.abs(x.current-I.scrollTop);if(y>0){const w=window.innerHeight-Ae*2,b=parseFloat(k.style.minHeight),O=parseFloat(k.style.height),M=Math.max(b,O);if(M<w){const _=M+y,E=Math.min(w,_),D=_-E;k.style.height=E+"px",k.style.bottom==="0px"&&(I.scrollTop=D>0?D:0,k.style.justifyContent="flex-end")}}}x.current=I.scrollTop})})})]})});hi.displayName=Ht;var xi="SelectGroup",[Mo,Lo]=Xe(xi),gi=f.forwardRef((e,i)=>{const{__scopeSelect:a,...s}=e,c=Qt();return o.jsx(Mo,{scope:a,id:c,children:o.jsx(Te.div,{role:"group","aria-labelledby":c,...s,ref:i})})});gi.displayName=xi;var vi="SelectLabel",Uo=f.forwardRef((e,i)=>{const{__scopeSelect:a,...s}=e,c=Lo(vi,a);return o.jsx(Te.div,{id:c.id,...s,ref:i})});Uo.displayName=vi;var vt="SelectItem",[zo,yi]=Xe(vt),wi=f.forwardRef((e,i)=>{const{__scopeSelect:a,value:s,disabled:c=!1,textValue:u,...d}=e,l=ze(vt,a),x=$e(vt,a),j=l.value===s,[I,k]=f.useState(u??""),[N,y]=f.useState(!1),w=De(i,_=>{var E;return(E=x.itemRefCallback)==null?void 0:E.call(x,_,s,c)}),b=Qt(),O=f.useRef("touch"),M=()=>{c||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(zo,{scope:a,value:s,disabled:c,textId:b,isSelected:j,onItemTextChange:f.useCallback(_=>{k(E=>E||((_==null?void 0:_.textContent)??"").trim())},[]),children:o.jsx(Et.ItemSlot,{scope:a,value:s,disabled:c,textValue:I,children:o.jsx(Te.div,{role:"option","aria-labelledby":b,"data-highlighted":N?"":void 0,"aria-selected":j&&N,"data-state":j?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...d,ref:w,onFocus:Ee(d.onFocus,()=>y(!0)),onBlur:Ee(d.onBlur,()=>y(!1)),onClick:Ee(d.onClick,()=>{O.current!=="mouse"&&M()}),onPointerUp:Ee(d.onPointerUp,()=>{O.current==="mouse"&&M()}),onPointerDown:Ee(d.onPointerDown,_=>{O.current=_.pointerType}),onPointerMove:Ee(d.onPointerMove,_=>{var E;O.current=_.pointerType,c?(E=x.onItemLeave)==null||E.call(x):O.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(d.onPointerLeave,_=>{var E;_.currentTarget===document.activeElement&&((E=x.onItemLeave)==null||E.call(x))}),onKeyDown:Ee(d.onKeyDown,_=>{var D;((D=x.searchRef)==null?void 0:D.current)!==""&&_.key===" "||(ko.includes(_.key)&&M(),_.key===" "&&_.preventDefault())})})})})});wi.displayName=vt;var tt="SelectItemText",bi=f.forwardRef((e,i)=>{const{__scopeSelect:a,className:s,style:c,...u}=e,d=ze(tt,a),l=$e(tt,a),x=yi(tt,a),j=To(tt,a),[I,k]=f.useState(null),N=De(i,M=>k(M),x.onItemTextChange,M=>{var _;return(_=l.itemTextRefCallback)==null?void 0:_.call(l,M,x.value,x.disabled)}),y=I==null?void 0:I.textContent,w=f.useMemo(()=>o.jsx("option",{value:x.value,disabled:x.disabled,children:y},x.value),[x.disabled,x.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:O}=j;return Ue(()=>(b(w),()=>O(w)),[b,O,w]),o.jsxs(o.Fragment,{children:[o.jsx(Te.span,{id:x.textId,...u,ref:N}),x.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Vn.createPortal(u.children,d.valueNode):null]})});bi.displayName=tt;var Ei="SelectItemIndicator",ji=f.forwardRef((e,i)=>{const{__scopeSelect:a,...s}=e;return yi(Ei,a).isSelected?o.jsx(Te.span,{"aria-hidden":!0,...s,ref:i}):null});ji.displayName=Ei;var Gt="SelectScrollUpButton",Ci=f.forwardRef((e,i)=>{const a=$e(Gt,e.__scopeSelect),s=rn(Gt,e.__scopeSelect),[c,u]=f.useState(!1),d=De(i,s.onScrollButtonChange);return Ue(()=>{if(a.viewport&&a.isPositioned){let l=function(){const j=x.scrollTop>0;u(j)};const x=a.viewport;return l(),x.addEventListener("scroll",l),()=>x.removeEventListener("scroll",l)}},[a.viewport,a.isPositioned]),c?o.jsx(Si,{...e,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:x}=a;l&&x&&(l.scrollTop=l.scrollTop-x.offsetHeight)}}):null});Ci.displayName=Gt;var Kt="SelectScrollDownButton",Ii=f.forwardRef((e,i)=>{const a=$e(Kt,e.__scopeSelect),s=rn(Kt,e.__scopeSelect),[c,u]=f.useState(!1),d=De(i,s.onScrollButtonChange);return Ue(()=>{if(a.viewport&&a.isPositioned){let l=function(){const j=x.scrollHeight-x.clientHeight,I=Math.ceil(x.scrollTop)<j;u(I)};const x=a.viewport;return l(),x.addEventListener("scroll",l),()=>x.removeEventListener("scroll",l)}},[a.viewport,a.isPositioned]),c?o.jsx(Si,{...e,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:x}=a;l&&x&&(l.scrollTop=l.scrollTop+x.offsetHeight)}}):null});Ii.displayName=Kt;var Si=f.forwardRef((e,i)=>{const{__scopeSelect:a,onAutoScroll:s,...c}=e,u=$e("SelectScrollButton",a),d=f.useRef(null),l=jt(a),x=f.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return f.useEffect(()=>()=>x(),[x]),Ue(()=>{var I;const j=l().find(k=>k.ref.current===document.activeElement);(I=j==null?void 0:j.ref.current)==null||I.scrollIntoView({block:"nearest"})},[l]),o.jsx(Te.div,{"aria-hidden":!0,...c,ref:i,style:{flexShrink:0,...c.style},onPointerDown:Ee(c.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(s,50))}),onPointerMove:Ee(c.onPointerMove,()=>{var j;(j=u.onItemLeave)==null||j.call(u),d.current===null&&(d.current=window.setInterval(s,50))}),onPointerLeave:Ee(c.onPointerLeave,()=>{x()})})}),$o="SelectSeparator",qo=f.forwardRef((e,i)=>{const{__scopeSelect:a,...s}=e;return o.jsx(Te.div,{"aria-hidden":!0,...s,ref:i})});qo.displayName=$o;var Vt="SelectArrow",Ho=f.forwardRef((e,i)=>{const{__scopeSelect:a,...s}=e,c=Ct(a),u=ze(Vt,a),d=$e(Vt,a);return u.open&&d.position==="popper"?o.jsx(aa,{...c,...s,ref:i}):null});Ho.displayName=Vt;function ki(e){return e===""||e===void 0}var Ni=f.forwardRef((e,i)=>{const{value:a,...s}=e,c=f.useRef(null),u=De(i,c),d=sa(a);return f.useEffect(()=>{const l=c.current,x=window.HTMLSelectElement.prototype,I=Object.getOwnPropertyDescriptor(x,"value").set;if(d!==a&&I){const k=new Event("change",{bubbles:!0});I.call(l,a),l.dispatchEvent(k)}},[d,a]),o.jsx(da,{asChild:!0,children:o.jsx("select",{...s,ref:u,defaultValue:a})})});Ni.displayName="BubbleSelect";function _i(e){const i=Xi(e),a=f.useRef(""),s=f.useRef(0),c=f.useCallback(d=>{const l=a.current+d;i(l),function x(j){a.current=j,window.clearTimeout(s.current),j!==""&&(s.current=window.setTimeout(()=>x(""),1e3))}(l)},[i]),u=f.useCallback(()=>{a.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[a,c,u]}function Ri(e,i,a){const c=i.length>1&&Array.from(i).every(j=>j===i[0])?i[0]:i,u=a?e.indexOf(a):-1;let d=Go(e,Math.max(u,0));c.length===1&&(d=d.filter(j=>j!==a));const x=d.find(j=>j.textValue.toLowerCase().startsWith(c.toLowerCase()));return x!==a?x:void 0}function Go(e,i){return e.map((a,s)=>e[(i+s)%e.length])}var Ko=ai,Vo=ri,Yo=li,Wo=ci,Xo=pi,Jo=di,Zo=hi,Qo=gi,er=wi,tr=bi,nr=ji,ir=Ci,ar=Ii;function sn({...e}){return o.jsx(Ko,{"data-slot":"select",...e})}function or({...e}){return o.jsx(Qo,{"data-slot":"select-group",...e})}function ln({...e}){return o.jsx(Yo,{"data-slot":"select-value",...e})}function cn({className:e,children:i,...a}){return o.jsxs(Vo,{"data-slot":"select-trigger",className:Ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[i,o.jsx(Wo,{asChild:!0,children:o.jsx(tn,{className:"size-4 opacity-50"})})]})}function pn({className:e,children:i,position:a="popper",...s}){return o.jsx(Xo,{children:o.jsxs(Jo,{"data-slot":"select-content",className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[o.jsx(rr,{}),o.jsx(Zo,{className:Ce("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:i}),o.jsx(sr,{})]})})}function Le({className:e,children:i,...a}){return o.jsxs(er,{"data-slot":"select-item",className:Ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(nr,{children:o.jsx(en,{className:"size-4"})})}),o.jsx(tr,{children:i})]})}function rr({className:e,...i}){return o.jsx(ir,{"data-slot":"select-scroll-up-button",className:Ce("flex cursor-default items-center justify-center py-1",e),...i,children:o.jsx(ya,{className:"size-4"})})}function sr({className:e,...i}){return o.jsx(ar,{"data-slot":"select-scroll-down-button",className:Ce("flex cursor-default items-center justify-center py-1",e),...i,children:o.jsx(tn,{className:"size-4"})})}const lr=({images:e,handleRetry:i,copiedAll:a,copyAllToClipboard:s,handleDelete:c})=>{const[u,d]=f.useState(null),[l,x]=f.useState(!1),[j,I]=f.useState(null),[k,N]=f.useState("name"),y=f.useId(),w=(E,D)=>{const se=D.currentTarget.getBoundingClientRect(),oe=window.innerHeight*.8;I({top:se.top,left:se.left,width:se.width,height:oe}),d(E)},b=()=>{u&&u.geminiResponse.ocrText&&(navigator.clipboard.writeText(u.geminiResponse.ocrText),x(!0),setTimeout(()=>x(!1),2e3))},O=()=>{d(null),I(null)},M=(E,D)=>E.localeCompare(D,void 0,{numeric:!0,sensitivity:"base"}),_=f.useMemo(()=>{const E=[...e];switch(k){case"name":return E.sort((D,P)=>M(D.file.name,P.file.name));case"timestamp":return E.sort((D,P)=>D.timestamp?P.timestamp?P.timestamp-D.timestamp:-1:1);case"status":return E.sort((D,P)=>{const se=H=>!H.isProcessing&&!H.willProcess&&!H.hasError?1:H.isProcessing?2:H.willProcess?3:H.hasError?4:5;return se(D)-se(P)});default:return E}},[e,k]);return e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-10rem)] text-muted-foreground",children:[o.jsx(ba,{className:"h-10 w-10 mb-2 text-muted-foreground/50"}),o.jsx("p",{children:"No images uploaded yet"}),o.jsx("p",{className:"text-xs mt-1 text-muted-foreground/70",children:"Use the upload button to add images for text extraction"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col overflow-hidden bg-background rounded-md border",children:[o.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[o.jsxs("h2",{className:"text-base font-medium",children:["Processed Images (",e.length,")"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(sn,{value:k,onValueChange:E=>N(E),children:[o.jsx(cn,{className:"h-8 w-[140px]",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(xa,{className:"h-3.5 w-3.5"}),o.jsx(ln,{placeholder:"Sort by"})]})}),o.jsxs(pn,{children:[o.jsx(Le,{value:"default",children:"Default"}),o.jsx(Le,{value:"name",children:"Filename"}),o.jsx(Le,{value:"timestamp",children:"Time added"}),o.jsx(Le,{value:"status",children:"Status"})]})]}),e.some(E=>!E.isProcessing&&!E.hasError)&&o.jsx(Q,{variant:"outline",size:"sm",onClick:s,className:Ce("flex items-center gap-1 h-8 text-xs transition-all duration-200",a&&"bg-primary text-primary-foreground"),children:a?o.jsxs(o.Fragment,{children:[o.jsx(en,{className:"h-3.5 w-3.5"}),"Copied All"]}):o.jsxs(o.Fragment,{children:[o.jsx(Jn,{className:"h-3.5 w-3.5"}),"Copy All Text"]})})]})]}),o.jsx(ut,{className:"flex-1",children:o.jsx("div",{className:"p-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:_.map((E,D)=>o.jsx("div",{className:"relative group rounded-lg overflow-hidden border shadow-sm hover:shadow-md transition-all duration-300 animate-in fade-in-0 zoom-in-95 cursor-pointer",style:{animationDelay:`${D*30}ms`},onClick:P=>w(E,P),children:o.jsxs(be.div,{layoutId:`card-${E.id}-${y}`,style:{width:"100%",height:"100%"},children:[o.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[o.jsx("div",{className:"w-full h-full",children:o.jsx(be.div,{layoutId:`image-${E.id}-${y}`,style:{width:"100%",height:"100%"},children:o.jsx("img",{src:E.url,alt:E.file.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),o.jsxs("div",{className:"p-2 bg-background border-t",children:[o.jsx("div",{className:"text-sm font-medium truncate mb-1",children:o.jsx(be.div,{layoutId:`title-${E.id}-${y}`,children:E.file.name})}),E.isProcessing?o.jsxs("div",{className:"flex items-center text-xs text-amber-500",children:[o.jsx("div",{className:"animate-spin mr-1 h-3 w-3 border-2 border-amber-500 border-t-transparent rounded-full"}),"Processing..."]}):E.willProcess?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Queued for processing"}):E.hasError?o.jsx("div",{className:"text-xs text-destructive mb-1",children:"Error processing image"}):o.jsx("div",{className:"text-xs text-muted-foreground mb-1 line-clamp-2 h-8 overflow-hidden",children:E.geminiResponse.ocrText?`${E.geminiResponse.ocrText.slice(0,100)}${E.geminiResponse.ocrText.length>100?"...":""}`:"No text extracted"}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[E.hasError?o.jsxs(Q,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:P=>{P.stopPropagation(),i(E)},children:[o.jsx(gt,{className:"h-3 w-3 mr-1"}),"Retry"]}):o.jsx("span",{className:"text-[10px] text-muted-foreground/70",children:E.timestamp?new Date(E.timestamp).toLocaleTimeString():""}),o.jsxs(Q,{variant:"ghost",size:"sm",className:"h-7 text-xs text-destructive hover:text-destructive ml-auto",onClick:P=>{P.stopPropagation(),c(E.id)},children:[o.jsx(ht,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]}),o.jsxs("div",{className:"absolute top-2 right-2",children:[E.isProcessing&&o.jsx("div",{className:"bg-amber-500 text-white text-xs px-2 py-0.5 rounded-full animate-pulse",children:"Processing"}),E.willProcess&&o.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Queued"}),E.hasError&&o.jsx("div",{className:"bg-destructive text-destructive-foreground text-xs px-2 py-0.5 rounded-full",children:"Error"}),!E.isProcessing&&!E.willProcess&&!E.hasError&&o.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Complete"})]})]})},E.id))})})]}),o.jsx(Io,{active:u,setActive:O,handleRetry:i,copied:l,copyToClipboard:b,positionData:j,id:(u==null?void 0:u.id)||""})]})},cr=({messages:e,onSendMessage:i,onEditMessage:a,apiKey:s,selectedModel:c,onModelChange:u,isProcessing:d,handleFileUpload:l})=>{const[x,j]=f.useState(""),[I,k]=f.useState([]),[N,y]=f.useState([]),[w,b]=f.useState(null),[O,M]=f.useState(null),[_,E]=f.useState(null),[D,P]=f.useState(1),[se,H]=f.useState(!1),[oe,ue]=f.useState({x:0,y:0}),[pe,fe]=f.useState({x:0,y:0}),he=f.useRef(null),xe=f.useRef(null),B=f.useRef(null),Y=f.useRef(null),J=f.useRef(null),me=C=>{const F=Array.from(C.target.files||[]).filter(R=>R.type.startsWith("image/"));if(F.length===0)return;const v=F.map(R=>URL.createObjectURL(R));k(R=>[...R,...F]),y(R=>[...R,...v])},ge=C=>{k(q=>q.filter((F,v)=>v!==C)),URL.revokeObjectURL(N[C]),y(q=>q.filter((F,v)=>v!==C))},Z=C=>{b(C)},_e=(C,q)=>{C.preventDefault(),C.dataTransfer.dropEffect="move",M(q)},X=()=>{b(null),M(null)},te=(C,q)=>{if(C.preventDefault(),w===null||w===q){b(null),M(null);return}const F=[...I],v=[...N],R=F[w],A=v[w];F.splice(w,1),v.splice(w,1),F.splice(q,0,R),v.splice(q,0,A),k(F),y(v),b(null),M(null)},ke=()=>{k([]),N.forEach(C=>URL.revokeObjectURL(C)),y([]),B.current&&(B.current.value="")},le=()=>{const C=x.trim();if(!(!C&&I.length===0||!s)){if(I.length>0){const F=[...e].length;setTimeout(()=>{if(e.length>F){const v=e[F];v.originalFiles=[...I]}},100)}i(C,I.length>0?[...I]:void 0),j(""),k([]),y([]),B.current&&(B.current.value="")}},Ie=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),le())},ve=C=>{const q=C.clipboardData.items,F=Array.from(q).filter(v=>v.type.startsWith("image/"));if(F.length>0){const v=F.map(A=>A.getAsFile()),R=v.map(A=>URL.createObjectURL(A));k(A=>[...A,...v]),y(A=>[...A,...R])}};f.useEffect(()=>{Y.current&&(Y.current.style.height="auto",Y.current.style.height=`${Y.current.scrollHeight}px`)},[x]);const L=C=>{if(C.content.trim()==="")return;const q=e.findIndex(F=>F.id===C.id);if(q!==-1){const F=[...e];F[q].isEditing=!1,a(C.id,C.content)}},K=()=>{var C,q;if((q=(C=B.current)==null?void 0:C.files)!=null&&q.length){const F=Array.from(B.current.files);l(F),B.current&&(B.current.value="")}};f.useEffect(()=>()=>{N.forEach(C=>URL.revokeObjectURL(C))},[]);const re=()=>{E(null),P(1),fe({x:0,y:0})},V=()=>P(C=>Math.min(C+.5,5)),G=()=>P(C=>Math.max(C-.5,.5)),$=()=>P(1),ye=C=>{D<=1||(H(!0),ue({x:C.clientX,y:C.clientY}))},we=C=>{if(!se||D<=1)return;const q=C.clientX-oe.x,F=C.clientY-oe.y;fe(v=>({x:v.x+q,y:v.y+F})),ue({x:C.clientX,y:C.clientY})},Ne=()=>{H(!1)};f.useEffect(()=>{D<=1&&fe({x:0,y:0})},[D]),f.useEffect(()=>{Re()},[e.length]);const Re=()=>{J.current&&(J.current.scrollTop=J.current.scrollHeight)};return o.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-background rounded-md border relative",children:[o.jsx(ut,{className:"h-full p-4 pb-[240px]",ref:J,children:o.jsxs("div",{className:"space-y-4",children:[e.map((C,q)=>o.jsx("div",{className:Ce("flex animate-in fade-in-0 slide-in-from-bottom-4 duration-300 ease-in-out",C.role==="user"?"justify-end":"justify-start"),style:{animationDelay:`${q*50}ms`},children:o.jsx(pt,{className:Ce("max-w-[85%] p-3 shadow-sm group hover:shadow-md transition-shadow duration-200",C.role==="user"?"bg-muted/5":"bg-muted"),children:C.isEditing?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(xn,{value:C.content,onChange:F=>{const v=[...e],R=v.findIndex(A=>A.id===C.id);R!==-1&&(v[R].content=F.target.value,a(C.id,F.target.value))},className:"min-h-[60px] bg-background/50",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{const F=[...e],v=F.findIndex(R=>R.id===C.id);v!==-1&&(C.originalContent&&(F[v].content=C.originalContent),F[v].isEditing=!1,a(C.id,C.originalContent||C.content))},children:"Cancel"}),o.jsxs(Q,{size:"sm",onClick:()=>L(C),children:[o.jsx(ua,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"whitespace-pre-wrap break-words",children:C.content}),C.imageDataUrls&&C.imageDataUrls.length>0&&o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:C.imageDataUrls.map((F,v)=>o.jsxs("div",{className:"relative animate-in zoom-in-95 duration-200",style:{animationDelay:`${v*100}ms`},children:[o.jsx("img",{src:F,alt:`Uploaded ${v}`,className:"max-w-[150px] max-h-[150px] rounded-md object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>E(F),style:{objectFit:"cover",aspectRatio:"4/3"}}),o.jsx("div",{className:"absolute top-1 right-1 bg-black/50 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(vn,{className:"h-3 w-3 text-white"})})]},v))}),C.isProcessing&&o.jsxs("div",{className:"flex items-center mt-2 text-sm animate-in fade-in-0 duration-200",children:[o.jsx(fn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}),C.hasError&&o.jsx("div",{className:"text-destructive mt-2 text-sm animate-in fade-in-0 duration-200",children:"Error processing message"}),C.role==="user"&&!C.isProcessing&&o.jsxs("div",{className:"flex gap-1 mt-2",children:[o.jsxs(Q,{size:"sm",variant:"ghost",className:"h-8 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200",onClick:()=>{const F=[...e],v=F.findIndex(R=>R.id===C.id);v!==-1&&(F[v].originalContent||(F[v].originalContent=F[v].content),F[v].isEditing=!0,a(C.id,C.content))},children:[o.jsx(ra,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsxs(Q,{size:"sm",variant:"ghost",className:"h-8 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200",onClick:()=>{const F=C;i(C.content,F.originalFiles)},children:[o.jsx(gt,{className:"h-3 w-3 mr-1"}),"Retry"]})]})]})})},C.id)),o.jsx("div",{ref:xe})]})}),o.jsx("div",{className:"absolute bottom-[150px] left-0 right-0 h-[60px] bg-gradient-to-t from-background to-transparent pointer-events-none z-[5]"}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-auto max-h-[400px] flex flex-col overflow-hidden z-10 mb-4 px-4",children:o.jsxs("div",{className:"relative rounded-[24px] p-2 mx-auto w-full max-w-5xl",children:[o.jsx("div",{className:"absolute inset-0 -z-10 rounded-[24px] shadow-lg backdrop-blur-md bg-background/40 border"}),o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsxs("div",{className:"flex",children:[o.jsxs("div",{className:"flex py-1",children:[o.jsx("button",{type:"button",onClick:()=>{var C;return(C=B.current)==null?void 0:C.click()},disabled:!s||d,className:"relative w-[36px] h-[36px] p-1.5 rounded-full bg-muted/30 hover:bg-muted/50 transition-colors flex items-center justify-center",children:o.jsx(Aa,{className:"h-4 w-4"})}),o.jsx("input",{ref:B,type:"file",multiple:!0,accept:"image/*",onChange:me,className:"hidden",disabled:!s||d})]}),o.jsx(xn,{ref:Y,value:x,onChange:C=>j(C.target.value),onKeyDown:Ie,onPaste:ve,placeholder:"Type a message...",className:"w-full resize-none border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-sm overflow-y-auto bg-transparent px-2 py-3",disabled:!s||d,style:{opacity:!s||d?.6:1,overflow:"auto",overflowWrap:"break-word",minHeight:"44px",maxHeight:"200px",transition:"height 0.1s ease-in-out"}})]}),N.length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:[N.length," file",N.length!==1?"s":""," selected"]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:ke,className:"h-7 px-2 text-xs hover:bg-destructive hover:text-destructive-foreground rounded-full",children:[o.jsx(ma,{className:"h-3 w-3 mr-1"}),"Clear all"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2 overflow-auto max-h-[80px]",children:N.map((C,q)=>o.jsx("div",{draggable:!0,onDragStart:()=>Z(q),onDragOver:F=>_e(F,q),onDragEnd:X,onDrop:F=>te(F,q),className:Ce("relative group cursor-grab transition-transform duration-200",w===q&&"opacity-50",O===q&&"scale-105"),children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:C,alt:`Preview ${q}`,className:"w-16 h-16 rounded-md object-cover border cursor-pointer",onClick:F=>{F.stopPropagation(),E(C)},style:{objectFit:"cover",aspectRatio:"1/1"}}),o.jsx("button",{onClick:()=>ge(q),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(ht,{className:"w-3 h-3"})}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(ka,{className:"w-4 h-4 text-white drop-shadow-md"})})]})},`preview-${q}`))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx(Q,{type:"button",size:"sm",variant:"outline",onClick:()=>{B.current&&(B.current.multiple=!0,B.current.click(),B.current.onchange=()=>K())},disabled:!s||d,className:"bg-muted/30 hover:bg-muted/50 border-muted/30 font-semibold px-3 py-2 h-9 rounded-full",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xt,{className:"h-[18px] w-[18px] sm:block hidden"}),o.jsx("span",{className:"truncate",children:"Image"})]})}),o.jsxs(sn,{value:c,onValueChange:u,disabled:!s||d,children:[o.jsx(cn,{className:"h-9 text-sm font-semibold bg-muted/30 hover:bg-muted/50 border-muted/30 px-3 py-2 rounded-full",children:o.jsx(ln,{placeholder:"Model",children:c.includes("flash")?"2.0":"2.5"})}),o.jsxs(pn,{children:[o.jsx(Le,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),o.jsx(Le,{value:"gemini-2.5-pro-preview-03-25",children:"2.5 Pro"})]})]})]}),o.jsx(Q,{type:"button",disabled:!x.trim()&&I.length===0||!s||d,onClick:le,className:"w-[36px] h-[36px] p-0 rounded-full flex items-center justify-center bg-primary text-primary-foreground hover:bg-primary/90",children:d?o.jsx(fn,{className:"h-5 w-5 animate-spin"}):o.jsx(Pa,{className:"h-5 w-5"})})]})]})]})}),o.jsx(la,{open:!!_,onOpenChange:C=>{C||re()},children:o.jsx(ca,{className:"sm:max-w-4xl p-0 bg-background/95 backdrop-blur-sm border-none",children:o.jsxs("div",{ref:he,className:"relative flex items-center justify-center max-h-[85vh] min-h-[300px] overflow-hidden",onMouseDown:ye,onMouseMove:we,onMouseUp:Ne,onMouseLeave:Ne,style:{cursor:se?"grabbing":D>1?"grab":"default"},children:[_&&o.jsx("div",{className:"transition-transform duration-200",style:{transform:`scale(${D})`,position:"relative",left:`${pe.x}px`,top:`${pe.y}px`},children:o.jsx("img",{src:_,alt:"Expanded view",className:"max-w-full max-h-[80vh] object-contain",draggable:!1})}),D>1&&o.jsx("div",{className:"absolute top-2 left-2 text-xs bg-background/70 p-1 px-2 rounded-md animate-in fade-in-0 duration-200",children:se?"Moving...":"Click and drag to move"}),o.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-2 bg-background/80 p-2 rounded-full shadow-md",children:[o.jsx(Q,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:G,disabled:D<=.5,children:o.jsx(La,{className:"h-4 w-4"})}),o.jsxs(Q,{variant:"outline",size:"sm",className:"h-8 min-w-14 text-xs",onClick:$,children:[Math.round(D*100),"%"]}),o.jsx(Q,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:V,disabled:D>=5,children:o.jsx(vn,{className:"h-4 w-4"})})]}),o.jsx(Q,{className:"absolute top-2 right-2 rounded-full h-8 w-8 p-0 bg-background/80 hover:bg-background shadow-md",onClick:re,children:o.jsx(ht,{className:"w-4 h-4"})})]})})})]})};var kt={exports:{}},Nt,_n;function pr(){if(_n)return Nt;_n=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nt=e,Nt}var _t,Rn;function dr(){if(Rn)return _t;Rn=1;var e=pr();function i(){}function a(){}return a.resetWarningCache=i,_t=function(){function s(d,l,x,j,I,k){if(k!==e){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}s.isRequired=s;function c(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:c,element:s,elementType:s,instanceOf:c,node:s,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:a,resetWarningCache:i};return u.PropTypes=u,u},_t}var Tn;function ur(){return Tn||(Tn=1,kt.exports=dr()()),kt.exports}var mr=ur();const ne=Yn(mr),fr=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function We(e,i,a){const s=hr(e),{webkitRelativePath:c}=e,u=typeof i=="string"?i:typeof c=="string"&&c.length>0?c:`./${e.name}`;return typeof s.path!="string"&&An(s,"path",u),An(s,"relativePath",u),s}function hr(e){const{name:i}=e;if(i&&i.lastIndexOf(".")!==-1&&!e.type){const s=i.split(".").pop().toLowerCase(),c=fr.get(s);c&&Object.defineProperty(e,"type",{value:c,writable:!1,configurable:!1,enumerable:!0})}return e}function An(e,i,a){Object.defineProperty(e,i,{value:a,writable:!1,configurable:!1,enumerable:!0})}const xr=[".DS_Store","Thumbs.db"];function gr(e){return Ve(this,void 0,void 0,function*(){return yt(e)&&vr(e.dataTransfer)?Er(e.dataTransfer,e.type):yr(e)?wr(e):Array.isArray(e)&&e.every(i=>"getFile"in i&&typeof i.getFile=="function")?br(e):[]})}function vr(e){return yt(e)}function yr(e){return yt(e)&&yt(e.target)}function yt(e){return typeof e=="object"&&e!==null}function wr(e){return Yt(e.target.files).map(i=>We(i))}function br(e){return Ve(this,void 0,void 0,function*(){return(yield Promise.all(e.map(a=>a.getFile()))).map(a=>We(a))})}function Er(e,i){return Ve(this,void 0,void 0,function*(){if(e.items){const a=Yt(e.items).filter(c=>c.kind==="file");if(i!=="drop")return a;const s=yield Promise.all(a.map(jr));return On(Ti(s))}return On(Yt(e.files).map(a=>We(a)))})}function On(e){return e.filter(i=>xr.indexOf(i.name)===-1)}function Yt(e){if(e===null)return[];const i=[];for(let a=0;a<e.length;a++){const s=e[a];i.push(s)}return i}function jr(e){if(typeof e.webkitGetAsEntry!="function")return Dn(e);const i=e.webkitGetAsEntry();return i&&i.isDirectory?Ai(i):Dn(e,i)}function Ti(e){return e.reduce((i,a)=>[...i,...Array.isArray(a)?Ti(a):[a]],[])}function Dn(e,i){return Ve(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const u=yield e.getAsFileSystemHandle();if(u===null)throw new Error(`${e} is not a File`);if(u!==void 0){const d=yield u.getFile();return d.handle=u,We(d)}}const s=e.getAsFile();if(!s)throw new Error(`${e} is not a File`);return We(s,(a=i==null?void 0:i.fullPath)!==null&&a!==void 0?a:void 0)})}function Cr(e){return Ve(this,void 0,void 0,function*(){return e.isDirectory?Ai(e):Ir(e)})}function Ai(e){const i=e.createReader();return new Promise((a,s)=>{const c=[];function u(){i.readEntries(d=>Ve(this,void 0,void 0,function*(){if(d.length){const l=Promise.all(d.map(Cr));c.push(l),u()}else try{const l=yield Promise.all(c);a(l)}catch(l){s(l)}}),d=>{s(d)})}u()})}function Ir(e){return Ve(this,void 0,void 0,function*(){return new Promise((i,a)=>{e.file(s=>{const c=We(s,e.fullPath);i(c)},s=>{a(s)})})})}var lt={},Pn;function Sr(){return Pn||(Pn=1,lt.__esModule=!0,lt.default=function(e,i){if(e&&i){var a=Array.isArray(i)?i:i.split(",");if(a.length===0)return!0;var s=e.name||"",c=(e.type||"").toLowerCase(),u=c.replace(/\/.*$/,"");return a.some(function(d){var l=d.trim().toLowerCase();return l.charAt(0)==="."?s.toLowerCase().endsWith(l):l.endsWith("/*")?u===l.replace(/\/.*$/,""):c===l})}return!0}),lt}var kr=Sr();const Rt=Yn(kr);function Fn(e){return Rr(e)||_r(e)||Di(e)||Nr()}function Nr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _r(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rr(e){if(Array.isArray(e))return Wt(e)}function Bn(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);i&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,s)}return a}function Mn(e){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Bn(Object(a),!0).forEach(function(s){Oi(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bn(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function Oi(e,i,a){return i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}function at(e,i){return Or(e)||Ar(e,i)||Di(e,i)||Tr()}function Tr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Di(e,i){if(e){if(typeof e=="string")return Wt(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wt(e,i)}}function Wt(e,i){(i==null||i>e.length)&&(i=e.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=e[a];return s}function Ar(e,i){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s=[],c=!0,u=!1,d,l;try{for(a=a.call(e);!(c=(d=a.next()).done)&&(s.push(d.value),!(i&&s.length===i));c=!0);}catch(x){u=!0,l=x}finally{try{!c&&a.return!=null&&a.return()}finally{if(u)throw l}}return s}}function Or(e){if(Array.isArray(e))return e}var Dr=typeof Rt=="function"?Rt:Rt.default,Pr="file-invalid-type",Fr="file-too-large",Br="file-too-small",Mr="too-many-files",Lr=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=i.split(","),s=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:Pr,message:"File type must be ".concat(s)}},Ln=function(i){return{code:Fr,message:"File is larger than ".concat(i," ").concat(i===1?"byte":"bytes")}},Un=function(i){return{code:Br,message:"File is smaller than ".concat(i," ").concat(i===1?"byte":"bytes")}},Ur={code:Mr,message:"Too many files"};function Pi(e,i){var a=e.type==="application/x-moz-file"||Dr(e,i);return[a,a?null:Lr(i)]}function Fi(e,i,a){if(He(e.size))if(He(i)&&He(a)){if(e.size>a)return[!1,Ln(a)];if(e.size<i)return[!1,Un(i)]}else{if(He(i)&&e.size<i)return[!1,Un(i)];if(He(a)&&e.size>a)return[!1,Ln(a)]}return[!0,null]}function He(e){return e!=null}function zr(e){var i=e.files,a=e.accept,s=e.minSize,c=e.maxSize,u=e.multiple,d=e.maxFiles,l=e.validator;return!u&&i.length>1||u&&d>=1&&i.length>d?!1:i.every(function(x){var j=Pi(x,a),I=at(j,1),k=I[0],N=Fi(x,s,c),y=at(N,1),w=y[0],b=l?l(x):null;return k&&w&&!b})}function wt(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ct(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(i){return i==="Files"||i==="application/x-moz-file"}):!!e.target&&!!e.target.files}function zn(e){e.preventDefault()}function $r(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function qr(e){return e.indexOf("Edge/")!==-1}function Hr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $r(e)||qr(e)}function Oe(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];return i.some(function(l){return!wt(s)&&l&&l.apply(void 0,[s].concat(u)),wt(s)})}}function Gr(){return"showOpenFilePicker"in window}function Kr(e){if(He(e)){var i=Object.entries(e).filter(function(a){var s=at(a,2),c=s[0],u=s[1],d=!0;return Bi(c)||(console.warn('Skipped "'.concat(c,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(u)||!u.every(Mi))&&(console.warn('Skipped "'.concat(c,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(a,s){var c=at(s,2),u=c[0],d=c[1];return Mn(Mn({},a),{},Oi({},u,d))},{});return[{description:"Files",accept:i}]}return e}function Vr(e){if(He(e))return Object.entries(e).reduce(function(i,a){var s=at(a,2),c=s[0],u=s[1];return[].concat(Fn(i),[c],Fn(u))},[]).filter(function(i){return Bi(i)||Mi(i)}).join(",")}function Yr(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Wr(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Bi(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Mi(e){return/^.*\.[\w]+$/.test(e)}var Xr=["children"],Jr=["open"],Zr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Qr=["refKey","onChange","onClick"];function es(e){return is(e)||ns(e)||Li(e)||ts()}function ts(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ns(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function is(e){if(Array.isArray(e))return Xt(e)}function Tt(e,i){return rs(e)||os(e,i)||Li(e,i)||as()}function as(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Li(e,i){if(e){if(typeof e=="string")return Xt(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xt(e,i)}}function Xt(e,i){(i==null||i>e.length)&&(i=e.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=e[a];return s}function os(e,i){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s=[],c=!0,u=!1,d,l;try{for(a=a.call(e);!(c=(d=a.next()).done)&&(s.push(d.value),!(i&&s.length===i));c=!0);}catch(x){u=!0,l=x}finally{try{!c&&a.return!=null&&a.return()}finally{if(u)throw l}}return s}}function rs(e){if(Array.isArray(e))return e}function $n(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);i&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,s)}return a}function de(e){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?$n(Object(a),!0).forEach(function(s){Jt(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$n(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function Jt(e,i,a){return i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}function bt(e,i){if(e==null)return{};var a=ss(e,i),s,c;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(c=0;c<u.length;c++)s=u[c],!(i.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ss(e,i){if(e==null)return{};var a={},s=Object.keys(e),c,u;for(u=0;u<s.length;u++)c=s[u],!(i.indexOf(c)>=0)&&(a[c]=e[c]);return a}var dn=f.forwardRef(function(e,i){var a=e.children,s=bt(e,Xr),c=zi(s),u=c.open,d=bt(c,Jr);return f.useImperativeHandle(i,function(){return{open:u}},[u]),oa.createElement(f.Fragment,null,a(de(de({},d),{},{open:u})))});dn.displayName="Dropzone";var Ui={disabled:!1,getFilesFromEvent:gr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};dn.defaultProps=Ui;dn.propTypes={children:ne.func,accept:ne.objectOf(ne.arrayOf(ne.string)),multiple:ne.bool,preventDropOnDocument:ne.bool,noClick:ne.bool,noKeyboard:ne.bool,noDrag:ne.bool,noDragEventsBubbling:ne.bool,minSize:ne.number,maxSize:ne.number,maxFiles:ne.number,disabled:ne.bool,getFilesFromEvent:ne.func,onFileDialogCancel:ne.func,onFileDialogOpen:ne.func,useFsAccessApi:ne.bool,autoFocus:ne.bool,onDragEnter:ne.func,onDragLeave:ne.func,onDragOver:ne.func,onDrop:ne.func,onDropAccepted:ne.func,onDropRejected:ne.func,onError:ne.func,validator:ne.func};var Zt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function zi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=de(de({},Ui),e),a=i.accept,s=i.disabled,c=i.getFilesFromEvent,u=i.maxSize,d=i.minSize,l=i.multiple,x=i.maxFiles,j=i.onDragEnter,I=i.onDragLeave,k=i.onDragOver,N=i.onDrop,y=i.onDropAccepted,w=i.onDropRejected,b=i.onFileDialogCancel,O=i.onFileDialogOpen,M=i.useFsAccessApi,_=i.autoFocus,E=i.preventDropOnDocument,D=i.noClick,P=i.noKeyboard,se=i.noDrag,H=i.noDragEventsBubbling,oe=i.onError,ue=i.validator,pe=f.useMemo(function(){return Vr(a)},[a]),fe=f.useMemo(function(){return Kr(a)},[a]),he=f.useMemo(function(){return typeof O=="function"?O:qn},[O]),xe=f.useMemo(function(){return typeof b=="function"?b:qn},[b]),B=f.useRef(null),Y=f.useRef(null),J=f.useReducer(ls,Zt),me=Tt(J,2),ge=me[0],Z=me[1],_e=ge.isFocused,X=ge.isFileDialogActive,te=f.useRef(typeof window<"u"&&window.isSecureContext&&M&&Gr()),ke=function(){!te.current&&X&&setTimeout(function(){if(Y.current){var T=Y.current.files;T.length||(Z({type:"closeDialog"}),xe())}},300)};f.useEffect(function(){return window.addEventListener("focus",ke,!1),function(){window.removeEventListener("focus",ke,!1)}},[Y,X,xe,te]);var le=f.useRef([]),Ie=function(T){B.current&&B.current.contains(T.target)||(T.preventDefault(),le.current=[])};f.useEffect(function(){return E&&(document.addEventListener("dragover",zn,!1),document.addEventListener("drop",Ie,!1)),function(){E&&(document.removeEventListener("dragover",zn),document.removeEventListener("drop",Ie))}},[B,E]),f.useEffect(function(){return!s&&_&&B.current&&B.current.focus(),function(){}},[B,_,s]);var ve=f.useCallback(function(S){oe?oe(S):console.error(S)},[oe]),L=f.useCallback(function(S){S.preventDefault(),S.persist(),v(S),le.current=[].concat(es(le.current),[S.target]),ct(S)&&Promise.resolve(c(S)).then(function(T){if(!(wt(S)&&!H)){var ce=T.length,r=ce>0&&zr({files:T,accept:pe,minSize:d,maxSize:u,multiple:l,maxFiles:x,validator:ue}),t=ce>0&&!r;Z({isDragAccept:r,isDragReject:t,isDragActive:!0,type:"setDraggedFiles"}),j&&j(S)}}).catch(function(T){return ve(T)})},[c,j,ve,H,pe,d,u,l,x,ue]),K=f.useCallback(function(S){S.preventDefault(),S.persist(),v(S);var T=ct(S);if(T&&S.dataTransfer)try{S.dataTransfer.dropEffect="copy"}catch{}return T&&k&&k(S),!1},[k,H]),re=f.useCallback(function(S){S.preventDefault(),S.persist(),v(S);var T=le.current.filter(function(r){return B.current&&B.current.contains(r)}),ce=T.indexOf(S.target);ce!==-1&&T.splice(ce,1),le.current=T,!(T.length>0)&&(Z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ct(S)&&I&&I(S))},[B,I,H]),V=f.useCallback(function(S,T){var ce=[],r=[];S.forEach(function(t){var n=Pi(t,pe),p=Tt(n,2),m=p[0],h=p[1],g=Fi(t,d,u),z=Tt(g,2),ie=z[0],ee=z[1],ae=ue?ue(t):null;if(m&&ie&&!ae)ce.push(t);else{var W=[h,ee];ae&&(W=W.concat(ae)),r.push({file:t,errors:W.filter(function($i){return $i})})}}),(!l&&ce.length>1||l&&x>=1&&ce.length>x)&&(ce.forEach(function(t){r.push({file:t,errors:[Ur]})}),ce.splice(0)),Z({acceptedFiles:ce,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),N&&N(ce,r,T),r.length>0&&w&&w(r,T),ce.length>0&&y&&y(ce,T)},[Z,l,pe,d,u,x,N,y,w,ue]),G=f.useCallback(function(S){S.preventDefault(),S.persist(),v(S),le.current=[],ct(S)&&Promise.resolve(c(S)).then(function(T){wt(S)&&!H||V(T,S)}).catch(function(T){return ve(T)}),Z({type:"reset"})},[c,V,ve,H]),$=f.useCallback(function(){if(te.current){Z({type:"openDialog"}),he();var S={multiple:l,types:fe};window.showOpenFilePicker(S).then(function(T){return c(T)}).then(function(T){V(T,null),Z({type:"closeDialog"})}).catch(function(T){Yr(T)?(xe(T),Z({type:"closeDialog"})):Wr(T)?(te.current=!1,Y.current?(Y.current.value=null,Y.current.click()):ve(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ve(T)});return}Y.current&&(Z({type:"openDialog"}),he(),Y.current.value=null,Y.current.click())},[Z,he,xe,M,V,ve,fe,l]),ye=f.useCallback(function(S){!B.current||!B.current.isEqualNode(S.target)||(S.key===" "||S.key==="Enter"||S.keyCode===32||S.keyCode===13)&&(S.preventDefault(),$())},[B,$]),we=f.useCallback(function(){Z({type:"focus"})},[]),Ne=f.useCallback(function(){Z({type:"blur"})},[]),Re=f.useCallback(function(){D||(Hr()?setTimeout($,0):$())},[D,$]),C=function(T){return s?null:T},q=function(T){return P?null:C(T)},F=function(T){return se?null:C(T)},v=function(T){H&&T.stopPropagation()},R=f.useMemo(function(){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=S.refKey,ce=T===void 0?"ref":T,r=S.role,t=S.onKeyDown,n=S.onFocus,p=S.onBlur,m=S.onClick,h=S.onDragEnter,g=S.onDragOver,z=S.onDragLeave,ie=S.onDrop,ee=bt(S,Zr);return de(de(Jt({onKeyDown:q(Oe(t,ye)),onFocus:q(Oe(n,we)),onBlur:q(Oe(p,Ne)),onClick:C(Oe(m,Re)),onDragEnter:F(Oe(h,L)),onDragOver:F(Oe(g,K)),onDragLeave:F(Oe(z,re)),onDrop:F(Oe(ie,G)),role:typeof r=="string"&&r!==""?r:"presentation"},ce,B),!s&&!P?{tabIndex:0}:{}),ee)}},[B,ye,we,Ne,Re,L,K,re,G,P,se,s]),A=f.useCallback(function(S){S.stopPropagation()},[]),U=f.useMemo(function(){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=S.refKey,ce=T===void 0?"ref":T,r=S.onChange,t=S.onClick,n=bt(S,Qr),p=Jt({accept:pe,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:C(Oe(r,G)),onClick:C(Oe(t,A)),tabIndex:-1},ce,Y);return de(de({},p),n)}},[Y,a,l,G,s]);return de(de({},ge),{},{isFocused:_e&&!s,getRootProps:R,getInputProps:U,rootRef:B,inputRef:Y,open:C($)})}function ls(e,i){switch(i.type){case"focus":return de(de({},e),{},{isFocused:!0});case"blur":return de(de({},e),{},{isFocused:!1});case"openDialog":return de(de({},Zt),{},{isFileDialogActive:!0});case"closeDialog":return de(de({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return de(de({},e),{},{isDragActive:i.isDragActive,isDragAccept:i.isDragAccept,isDragReject:i.isDragReject});case"setFiles":return de(de({},e),{},{acceptedFiles:i.acceptedFiles,fileRejections:i.fileRejections,isDragReject:i.isDragReject});case"reset":return de({},Zt);default:return e}}function qn(){}const cs={initial:{x:0,y:0},animate:{x:20,y:-20,opacity:.9}},ps={initial:{opacity:0},animate:{opacity:1}},ds=({onChange:e,id:i,disabled:a=!1})=>{const[s,c]=f.useState([]),u=f.useRef(null),d=I=>{if(a)return;const k=1e3-s.length;if(k<=0)return;const N=I.slice(0,k);c(y=>[...y,...N]),e&&e(N)},{getRootProps:l,isDragActive:x}=zi({multiple:!0,noClick:!0,onDrop:d,onDropRejected:I=>{console.log(I)},disabled:a}),j=s.length>3?s.slice(-2):s;return o.jsx("div",{className:Ce("w-full",a&&"opacity-60 cursor-not-allowed"),...l(),children:o.jsxs(be.div,{whileHover:a?void 0:"animate",children:[o.jsx("input",{ref:u,id:i||"file-upload-handle",type:"file",multiple:!0,disabled:a,onChange:I=>d(Array.from(I.target.files||[])),className:"hidden"}),o.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,white,transparent)]",children:o.jsx(us,{})}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("p",{className:"relative z-20 font-sans font-bold text-neutral-700 dark:text-neutral-300 text-base",children:"Upload file"}),o.jsx("p",{className:"relative z-20 font-sans font-normal text-neutral-400 dark:text-neutral-400 text-base mt-2",children:"Drag or drop your files here or click to upload"}),o.jsxs("div",{className:"relative w-full mt-10 max-w-xl mx-auto",children:[s.length>0&&o.jsxs(o.Fragment,{children:[s.length>3&&o.jsx(be.div,{layoutId:"file-upload-ellipsis",children:"..."}),j.map((I,k)=>o.jsxs(be.div,{layoutId:k===0?"file-upload":"file-upload-"+(s.length-j.length+k),children:[o.jsxs("div",{className:"flex justify-between w-full items-center gap-4",children:[o.jsx(be.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:I.name}),o.jsxs(be.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:[(I.size/(1024*1024)).toFixed(2)," MB"]})]}),o.jsxs("div",{className:"flex text-sm md:flex-row flex-col items-start md:items-center w-full mt-2 justify-between text-neutral-600 dark:text-neutral-400",children:[o.jsx(be.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:I.type}),o.jsxs(be.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:["modified"," ",new Date(I.lastModified).toLocaleDateString()]})]})]},"file"+(s.length-j.length+k)))]}),!s.length&&o.jsx(be.div,{layoutId:"file-upload",variants:cs,transition:{type:"spring",stiffness:300,damping:20},children:x?o.jsxs(be.p,{initial:{opacity:0},animate:{opacity:1},children:["Drop it",o.jsx(xt,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-400"})]}):o.jsx(xt,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-300"})}),!s.length&&o.jsx(be.div,{variants:ps})]})]})]})})};function us(){return o.jsx("div",{className:"flex bg-gray-100 dark:bg-neutral-900 shrink-0 flex-wrap justify-center items-center gap-x-px gap-y-px  scale-105",children:Array.from({length:11}).map((a,s)=>Array.from({length:41}).map((c,u)=>{const d=s*41+u;return o.jsx("div",{className:`w-10 h-10 flex shrink-0 rounded-[2px] ${d%2===0?"bg-gray-50 dark:bg-neutral-950":"bg-gray-50 dark:bg-neutral-950 shadow-[0px_0px_1px_3px_rgba(255,255,255,1)_inset] dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]"}`},`${u}-${s}`)}))})}const Hn="apiKey",Gn="systemPrompt",ks=()=>{const[e,i]=f.useState([]),[a,s]=f.useState(!1),[c,u]=f.useState([]),[d,l]=f.useState("all"),[x,j]=f.useState([]),[I,k]=f.useState("images"),[N,y]=f.useState(!1),[w,b]=f.useState(null),[O,M]=f.useState(!0),[_,E]=f.useState("gemini-2.0-flash-exp-image-generation"),[D,P]=f.useState(10),[se,H]=f.useState(""),[oe,ue]=f.useState(!1),[pe,fe]=f.useState(""),[he,xe]=f.useState(3),[B,Y]=f.useState([]),[J,me]=f.useState(0),[ge,Z]=f.useState(""),_e=f.useId(),[X,te]=f.useState(!1),ke=f.useRef(null);f.useEffect(()=>{(async()=>{M(!0);try{const R=await Ze(Hn),A=await Ze("selectedModel"),U=await Ze("rpm"),S=await Ze(Gn),T=await Ze("maxConcurrentRequests");b(R),A&&E(A),U&&U>0&&P(U),T&&T>0&&xe(T),S&&(H(S),Z(S))}catch(R){console.error("Error retrieving settings from IndexedDB:",R)}finally{M(!1)}})()},[]),f.useEffect(()=>{xe(D);const v=()=>{if(B.length===0){me(0);return}if(B.length<D){me(0);return}const A=Date.now(),S=B[B.length-D]+6e4;A>=S?(le(),me(0)):me(Math.ceil((S-A)/1e3))},R=setInterval(v,1e3);return v(),()=>clearInterval(R)},[B,D]);const le=()=>{const R=Date.now()-6e4;Y(A=>A.filter(U=>U>R))},Ie=()=>(le(),B.length<D),ve=()=>{const v=Date.now();Y(R=>{const A=[...R,v].sort((U,S)=>S-U);return A.slice(0,Math.min(D,A.length))})},L=async v=>{E(v),await Je("selectedModel",v)},K=async v=>{const R=parseInt(v.target.value);R>0&&(P(R),await Je("rpm",R))},re=async v=>{const R=parseInt(v.target.value);R>0&&(xe(R),await Je("maxConcurrentRequests",R))},V=async()=>{await Je(Gn,ge),H(ge)},G=async v=>{if(w){i(R=>R.map(A=>A.id===v.id?{...A,isProcessing:!0,willProcess:!1}:A).sort((A,U)=>(U.timestamp||0)-(A.timestamp||0))),u(R=>[...R,v.id]);try{ve();const R=await jo([v.file],w,_,se||void 0);i(A=>A.map(U=>U.id===v.id?{...U,geminiResponse:R,hasError:R.hasError,isProcessing:!1,willProcess:!1,timestamp:Date.now()}:U).sort((U,S)=>(S.timestamp||0)-(U.timestamp||0)))}catch(R){console.error("Error processing image:",R),i(A=>A.map(U=>U.id===v.id?{...U,geminiResponse:{thinking:"",ocrText:"",hasError:!0},hasError:!0,isProcessing:!1,willProcess:!1,timestamp:Date.now()}:U).sort((U,S)=>(S.timestamp||0)-(U.timestamp||0)))}finally{u(R=>R.filter(A=>A!==v.id))}}},$=async v=>{if(!w){alert("API key is not set. Please set it in the API Key Settings section.");return}le();const R=v.filter(U=>U.type.startsWith("image/"));if(R.length===0)return;const A=R.map(U=>{const S=URL.createObjectURL(U);return{id:`${U.name}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,file:U,url:S,geminiResponse:{thinking:"",ocrText:"",hasError:!1},hasError:!1,isProcessing:!1,willProcess:!0,timestamp:Date.now()}});i(U=>[...U,...A].sort((S,T)=>(T.timestamp||0)-(S.timestamp||0))),k("images")},ye=async(v,R)=>{if(!w)return;const A=`message-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,U=(R==null?void 0:R.map(r=>URL.createObjectURL(r)))||[],S={id:A,role:"user",content:v,timestamp:Date.now(),files:R,imageDataUrls:U};j(r=>[...r,S]);const T=`assistant-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,ce={id:T,role:"assistant",content:"",timestamp:Date.now(),isProcessing:!0};j(r=>[...r,ce]),y(!0);try{ve();const r=await Co(R||[],v,w,_);j(t=>t.map(n=>n.id===T?{...n,content:r.ocrText||"I couldn't process your request.",isProcessing:!1,hasError:r.hasError}:n))}catch(r){console.error("Error in chat:",r),j(t=>t.map(n=>n.id===T?{...n,content:"Sorry, an error occurred while processing your request.",isProcessing:!1,hasError:!0}:n))}finally{y(!1)}},we=(v,R)=>{j(A=>A.map(U=>U.id===v?{...U,content:R}:U))},Ne=async v=>{if(w){if(le(),!Ie()){i(R=>R.map(A=>A.id===v.id?{...A,willProcess:!0,isProcessing:!1}:A).sort((A,U)=>(U.timestamp||0)-(A.timestamp||0))),console.log(`Queued image ${v.file.name} for retry due to rate limits`);return}await G(v)}},Re=()=>{let v=e;if(d==="completed"&&(v=e.filter(R=>!R.isProcessing&&!R.willProcess&&!R.hasError)),v.length>0){const R=v.sort((A,U)=>{const S=parseInt(A.file.name.split(".")[0],10),T=parseInt(U.file.name.split(".")[0],10);return S-T}).map(A=>`${A.file.name}:
${A.geminiResponse.ocrText}
`).join(`
`);navigator.clipboard.writeText(R),s(!0),setTimeout(()=>s(!1),2e3)}},C=v=>{i(R=>R.filter(A=>A.id!==v))};f.useEffect(()=>{const v=async()=>{if(!w||!Ie())return;const A=c.length,U=Math.min(he-A,D-B.length,e.filter(T=>T.willProcess).length);if(U<=0)return;const S=e.filter(T=>T.willProcess&&!T.isProcessing).slice(0,U);S.length!==0&&await Promise.all(S.map(T=>G(T)))},R=setTimeout(()=>{v()},100);return()=>clearTimeout(R)},[c.length,e,w,B.length,he]);const q=()=>{switch(d){case"completed":return e.filter(v=>!v.isProcessing&&!v.willProcess&&!v.hasError);case"processing":return e.filter(v=>v.isProcessing);case"queued":return e.filter(v=>v.willProcess);case"error":return e.filter(v=>v.hasError);case"all":default:return e}},F=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};return f.useEffect(()=>{const v=()=>{const R=document.documentElement.scrollHeight-document.documentElement.scrollTop-document.documentElement.clientHeight;te(R>500)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]),O?o.jsx(pt,{className:"container mx-auto px-4 py-8 flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):o.jsxs("div",{className:Ce("mx-auto pb-2 flex flex-col h-screen"),ref:ke,children:[o.jsxs("header",{className:"flex items-center justify-between mb-2 bg-transparent",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("h1",{className:"text-2xl font-bold overflow-visible inline-flex items-center",children:[o.jsx(za,{className:"text-3xl font-bold",text:"Gemini"}),o.jsx("span",{className:"ml-2",children:"AI Chat & OCR"})]}),(B.length>0||J>0)&&o.jsxs("div",{className:"ml-3 px-2 py-1 bg-primary/10 rounded-full text-xs font-medium inline-flex items-center animate-in fade-in slide-in-from-left-4 duration-300",children:[o.jsxs("span",{className:"text-primary",children:[B.length,"/",D]}),J>0&&o.jsxs("span",{className:"ml-1 text-amber-600 animate-pulse",children:["(",J,"s)"]})]})]}),o.jsxs(Q,{variant:oe?"default":"ghost",size:"sm",className:"flex items-center gap-1 h-8 transition-colors duration-200",onClick:()=>ue(!oe),children:[o.jsx(gn,{className:"h-3.5 w-3.5"}),"Settings"]})]}),o.jsx(At,{children:oe&&o.jsx(pt,{className:"mb-4 p-4",children:o.jsx(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"API Key"}),w?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"API Key is set"}),o.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>b(null),className:"h-7 text-xs",children:"Remove API Key"})]}):o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{htmlFor:"apikey",children:"Enter your Gemini API Key"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(It,{id:"apikey",value:pe,onChange:v=>fe(v.target.value),placeholder:"API Key",className:"text-xs"}),o.jsx(Q,{size:"sm",onClick:async()=>{pe.trim()&&(await Je(Hn,pe),b(pe),fe(""))},children:"Save"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qe,{htmlFor:"system-prompt",className:"text-sm font-medium",children:"System Prompt"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("textarea",{id:"system-prompt",value:ge,onChange:v=>Z(v.target.value),placeholder:"Enter system prompt for Gemini",className:"flex-1 min-h-[100px] px-3 py-2 border rounded-md text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",rows:4}),o.jsx(Q,{onClick:V,children:"Save"})]})]})]})})})}),o.jsxs(Wn,{value:I,onValueChange:k,className:"flex-1 flex flex-col",children:[o.jsxs(Xn,{className:"grid grid-cols-2 mb-4",children:[o.jsxs(mt,{value:"images",className:Ce("flex items-center gap-1 transition-all duration-200 data-[state=active]:scale-105",I==="images"?"font-medium":""),children:[o.jsx(xt,{className:"h-3.5 w-3.5"}),"Images"," ",e.length>0&&o.jsx("span",{className:"bg-primary/15 text-primary px-1.5 py-0.5 rounded-full text-xs ml-1",children:e.length})]}),o.jsxs(mt,{value:"chat",className:Ce("flex items-center gap-1 transition-all duration-200 data-[state=active]:scale-105",I==="chat"?"font-medium":""),children:[o.jsx(Ra,{className:"h-3.5 w-3.5"}),"Chat"]})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(ft,{value:"chat",className:"h-full",children:w?o.jsx(cr,{messages:x,onSendMessage:ye,onEditMessage:we,apiKey:w,selectedModel:_,onModelChange:E,isProcessing:N,handleFileUpload:$}):o.jsx("div",{className:"flex flex-col items-center justify-center h-full rounded-md border",children:o.jsxs("div",{className:"text-center p-6 max-w-md",children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No API Key Found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Please set your Gemini API key in the settings to start using the chat interface."}),o.jsxs(Q,{onClick:()=>ue(!0),className:"flex items-center gap-1",children:[o.jsx(gn,{className:"h-4 w-4 mr-1"}),"Open Settings",o.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})})}),o.jsxs(ft,{value:"images",className:"h-full flex flex-col",children:[o.jsxs(pt,{className:"mb-3 animate-in fade-in-0 duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-medium p-2",children:"Upload Images"}),o.jsxs(Q,{size:"sm",variant:"outline",className:"h-7 text-xs gap-1 mr-2",disabled:!w||B.length>=D,onClick:()=>{const v=document.getElementById(`file-upload-${_e}`);v&&v.click()},children:[o.jsx(fa,{className:"h-3 w-3"}),"Select Images"]})]}),o.jsx("div",{className:"mt-3 flex flex-col gap-3 p-2",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{htmlFor:"image-model-select",className:"text-xs font-medium",children:"Model"}),o.jsxs(sn,{value:_,onValueChange:L,children:[o.jsx(cn,{id:"image-model-select",className:"h-8 text-xs",children:o.jsx(ln,{placeholder:"Select a model"})}),o.jsx(pn,{children:o.jsxs(or,{children:[o.jsx(Le,{value:"gemini-2.0-flash-exp-image-generation",children:"gemini-2.0-flash-exp-image-generation"}),o.jsx(Le,{value:"gemini-2.5-pro-exp-03-25",children:"gemini-2.5-pro-exp-03-25"})]})})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{htmlFor:"image-rpm-input",className:"text-xs font-medium",children:"Requests Per Minute"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(It,{id:"image-rpm-input",type:"number",min:"1",value:D,onChange:K,className:"h-8 text-xs"}),J>0&&o.jsxs("span",{className:"text-xs text-amber-600 animate-pulse",children:["(",J,"s)"]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{htmlFor:"concurrent-requests",className:"text-xs font-medium",children:"Concurrent Requests"}),o.jsx(It,{id:"concurrent-requests",type:"number",min:"1",max:D,value:he,onChange:re,className:"h-8 text-xs"})]})]})}),o.jsx("div",{className:"hidden",children:o.jsx(ds,{id:`file-upload-${_e}`,onChange:$,disabled:!w||B.length>=D})})]}),o.jsxs("div",{className:"mb-3 p-3 rounded-md border flex flex-wrap gap-2 text-sm",children:[o.jsxs(Q,{variant:d==="all"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>l("all"),children:[o.jsx(Ia,{className:"h-3 w-3"}),o.jsx("span",{className:"font-medium",children:"Total:"}),o.jsx("span",{className:"text-primary",children:e.length})]}),o.jsxs(Q,{variant:d==="completed"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>l("completed"),children:[o.jsx("span",{className:"font-medium",children:"Completed:"}),o.jsx("span",{className:"text-green-600",children:e.filter(v=>!v.isProcessing&&!v.willProcess&&!v.hasError).length})]}),o.jsxs(Q,{variant:d==="processing"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>l("processing"),children:[o.jsx("span",{className:"font-medium",children:"Processing:"}),o.jsx("span",{className:"text-blue-600",children:e.filter(v=>v.isProcessing).length})]}),o.jsxs(Q,{variant:d==="queued"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>l("queued"),children:[o.jsx("span",{className:"font-medium",children:"Queued:"}),o.jsx("span",{className:"text-amber-600",children:e.filter(v=>v.willProcess).length})]}),o.jsxs(Q,{variant:d==="error"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>l("error"),children:[o.jsx("span",{className:"font-medium",children:"Error:"}),o.jsx("span",{className:"text-red-600",children:e.filter(v=>v.hasError).length})]})]}),o.jsx("div",{className:"flex-1 mb-2",children:o.jsx(lr,{images:q(),handleRetry:Ne,copiedAll:a,copyAllToClipboard:Re,handleDelete:C})})]})]})]}),X&&o.jsx(Q,{className:"fixed bottom-5 right-5 rounded-full h-12 w-12 shadow-md hover:bg-primary/90 z-50 flex items-center justify-center",size:"icon",onClick:F,"aria-label":"Scroll to bottom",children:o.jsx(tn,{className:"h-6 w-6"})})]})};export{ks as default};
