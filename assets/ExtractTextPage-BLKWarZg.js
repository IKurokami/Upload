import{c as jt,r as N,j as s,a as Pe,G as _l,m as we,H as Jn,B as Y,h as oa,v as Te,I as bn,J as sa,K as Ml,d as Ol,M as Ll,N as Bl,P as $l,e as _t,O as ql,Q as Ul,T as Hl,U as Vl,V as Wl,W as Gl,X as Kl,Y as Yl,Z as Xl,_ as Ql,$ as Zl,a0 as Jl,a1 as eo,R as Wt,l as Nn,a2 as Ct,a3 as Pn,a4 as en,a5 as Mt}from"./index-DtK-hYkj.js";import{C as to,a as no,S as ht,b as xt,c as gt,d as vt,e as be,G as In,f as io,r as ro,g as ao}from"./select-C8YwHP_t.js";import{X as yt,S as dn}from"./scroll-area-sk1MtFSy.js";import{T as xi,a as gi,b as bt,c as wt}from"./index-C_VtLEdO.js";import{C as ca}from"./copy-Dh6yyJZq.js";import{L as lo,u as oo,D as Oi,e as so,f as co,a as uo}from"./dialog-DuZ3haOx.js";import{A as Li,a as Bi,b as $i,c as qi,d as Ui,e as Hi,f as Vi,g as Wi}from"./alert-dialog-2qEHK4PR.js";import{T as ei}from"./trash-2-C6MWfVu5.js";import{E as po}from"./eye-Caci0daT.js";import{T as tn,a as fo}from"./index-kwb2Whl_.js";import{C as qt}from"./card-DAgMYAH_.js";import{C as mo,a as ho}from"./index-CyHKrB8I.js";import{S as Gi,a as nn,M as xo,Z as go}from"./zoom-out-CGd-N3On.js";import{S as Ki}from"./square-pen-W4Fa7Pi0.js";import{A as Yi}from"./arrow-right-DGdkoq_z.js";import{U as Xi}from"./upload-DqamKtyv.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],yo=jt("ArrowUpDown",vo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],wo=jt("Filter",bo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Gt=jt("Image",ko);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Co=jt("MessageSquare",jo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],An=jt("Paperclip",So);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],At=jt("RefreshCw",Eo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qi=jt("Send",No),Po=({id:e,x:t,y:n,color:i,delay:r,scale:l})=>s.jsx(_l.svg,{className:"pointer-events-none absolute z-20",initial:{opacity:0,left:t,top:n},animate:{opacity:[0,1,0],scale:[0,l,0],rotate:[75,120,150]},transition:{duration:.8,repeat:1/0,delay:r},width:"21",height:"21",viewBox:"0 0 21 21",children:s.jsx("path",{d:"M9.82531 0.843845C10.0553 0.215178 10.9446 0.215178 11.1746 0.843845L11.8618 2.72026C12.4006 4.19229 12.3916 6.39157 13.5 7.5C14.6084 8.60843 16.8077 8.59935 18.2797 9.13822L20.1561 9.82534C20.7858 10.0553 20.7858 10.9447 20.1561 11.1747L18.2797 11.8618C16.8077 12.4007 14.6084 12.3916 13.5 13.5C12.3916 14.6084 12.4006 16.8077 11.8618 18.2798L11.1746 20.1562C10.9446 20.7858 10.0553 20.7858 9.82531 20.1562L9.13819 18.2798C8.59932 16.8077 8.60843 14.6084 7.5 13.5C6.39157 12.3916 4.19225 12.4007 2.72023 11.8618L0.843814 11.1747C0.215148 10.9447 0.215148 10.0553 0.843814 9.82534L2.72023 9.13822C4.19225 8.59935 6.39157 8.60843 7.5 7.5C8.60843 6.39157 8.59932 4.19229 9.13819 2.72026L9.82531 0.843845Z",fill:i})},e),Io=({text:e,colors:t={first:"#9E7AFF",second:"#FE8BBB"},className:n,sparklesCount:i=7,...r})=>{const[l,a]=N.useState([]);return N.useEffect(()=>{const o=()=>{const p=`${Math.random()*100}%`,h=`${Math.random()*100}%`,f=Math.random()>.5?t.first:t.second,b=Math.random()*2,C=Math.random()*1+.3,A=Math.random()*10+1;return{id:`${p}-${h}-${Date.now()}`,x:p,y:h,color:f,delay:b,scale:C,lifespan:A}},u=()=>{const p=Array.from({length:i},o);a(p)},c=()=>{a(p=>p.map(h=>h.lifespan<=0?o():{...h,lifespan:h.lifespan-.1}))};u();const d=setInterval(c,50);return()=>clearInterval(d)},[t.first,t.second,i]),s.jsx("div",{className:Pe("text-6xl font-bold",n),...r,style:{"--sparkles-first-color":`${t.first}`,"--sparkles-second-color":`${t.second}`},children:s.jsxs("span",{className:"relative inline-block py-2",children:[l.map(o=>s.jsx(Po,{...o},o.id)),s.jsx("strong",{children:e})]})})},Zi=({text:e,className:t})=>s.jsxs("div",{className:Pe("relative overflow-hidden",t),children:[s.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e}),s.jsx(we.div,{style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent)",backgroundSize:"200% 100%"},animate:{backgroundPosition:["200% 0","-200% 0"]},transition:{duration:1.5,ease:"linear",repeat:1/0}})]}),Ao=({active:e,setActive:t,handleRetry:n,copied:i,copyToClipboard:r,positionData:l})=>{const a=N.useRef(null),o=N.useId(),u=()=>t(null);return N.useEffect(()=>{const c=d=>{a.current&&!a.current.contains(d.target)&&t(null)};return e?(document.addEventListener("mousedown",c),document.body.style.overflow="hidden"):document.body.style.overflow="auto",()=>{document.removeEventListener("mousedown",c),document.body.style.overflow="auto"}},[e,t]),N.useEffect(()=>{const c=d=>{d.key==="Escape"&&t(null)};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t]),N.useEffect(()=>{e&&l&&a.current&&(a.current.style.position="fixed",a.current.style.top=`${l.top}px`,a.current.style.left=`${l.left}px`,a.current.style.width=`${l.width}px`,a.current.style.height=`${l.height}px`,a.current.style.borderRadius="0.5rem",a.current.style.zIndex="50",a.current.style.opacity="1",a.current.style.transformOrigin="top left",a.current.getBoundingClientRect(),a.current.style.transition="all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)",a.current.style.top="50%",a.current.style.left="50%",a.current.style.transform="translate(-50%, -50%)",a.current.style.width="100%",a.current.style.maxWidth="64rem",a.current.style.maxHeight="90vh",a.current.style.borderRadius="0.75rem")},[e,l]),e?s.jsxs(s.Fragment,{children:[s.jsx(Jn,{children:e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:u,children:s.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%"}})})}),s.jsx(Jn,{children:e&&s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-0 md:p-4 h-screen w-screen",children:s.jsx("div",{ref:a,className:"bg-white dark:bg-neutral-900 rounded-xl overflow-hidden flex flex-col w-full h-screen max-w-full max-h-full md:max-w-4xl md:max-h-[90vh]",children:s.jsxs(we.div,{layoutId:`card-${e.id}-${o}`,initial:{opacity:l?1:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%"},children:[s.jsxs("div",{className:"flex justify-between items-center p-2 md:p-4 border-b",children:[s.jsx("div",{className:"font-semibold truncate",children:s.jsx(we.div,{layoutId:`title-${e.id}-${o}`,children:e.file.name})}),s.jsx(Y,{variant:"ghost",size:"icon",onClick:u,children:s.jsx(yt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 flex-1 overflow-hidden h-full min-h-0",children:[s.jsxs("div",{className:"relative flex-1 min-h-0 h-[35vh] md:h-[70vh] overflow-auto",children:[s.jsx("div",{className:`w-full h-auto object-contain ${e.isProcessing||e.willProcess?"blur-xs":""}`,children:s.jsx(we.div,{layoutId:`image-${e.id}-${o}`,style:{width:"100%",height:"100%",position:"relative"},children:s.jsx("img",{src:e.url,alt:`Uploaded image ${e.file.name}`,style:{width:"100%",height:"auto",objectFit:"contain"}})})}),e.isProcessing&&s.jsx("div",{className:"absolute inset-0 backdrop-blur-xs flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded",children:[s.jsx("div",{className:"animate-spin",children:s.jsx(At,{className:"h-4 w-4 text-white"})}),s.jsx(Zi,{text:"Processing..."})]})}),e.willProcess&&!e.isProcessing&&s.jsx("div",{className:"absolute inset-0 backdrop-blur-xs flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx(Zi,{text:"In queue..."})]})})]}),s.jsxs("div",{className:"relative flex-1 min-h-0 h-[35vh] md:h-[70vh] overflow-auto p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h4",{className:"font-medium text-base md:text-lg",children:"Gemini OCR Result"}),s.jsxs("div",{className:"flex gap-2",children:[!e.isProcessing&&!e.willProcess&&e.hasError&&s.jsxs(Y,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>n(e),children:[s.jsx(At,{className:"h-4 w-4"}),s.jsx("span",{children:"Retry"})]}),s.jsx(Y,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:r,disabled:e.isProcessing||e.willProcess,children:i?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"h-4 w-4"}),s.jsx("span",{children:"Copied"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ca,{className:"h-4 w-4"}),s.jsx("span",{children:"Copy"})]})})]})]}),s.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:s.jsxs(xi,{defaultValue:"ocr",className:"flex flex-col min-h-0 flex-1",children:[s.jsxs(gi,{className:"mb-2",children:[s.jsx(bt,{value:"ocr",children:"Answer"}),s.jsx(bt,{value:"thinking",children:"Image"})]}),s.jsxs("div",{className:"flex-1 min-h-0",children:[s.jsx(wt,{value:"ocr",className:"flex flex-col h-full min-h-0",children:s.jsx(dn,{className:"flex-1 min-h-0 border rounded-md p-2 md:p-3 overflow-y-auto overflow-x-hidden whitespace-pre-wrap break-words break-all text-sm md:text-base font-mono",children:e.isProcessing?"Processing...":e.willProcess?"Waiting in queue...":e.geminiResponse.ocrText})}),s.jsx(wt,{value:"thinking",className:"flex flex-col h-full min-h-0",children:s.jsx(dn,{className:"flex-1 min-h-0 border rounded-md p-2 md:p-3 overflow-y-auto overflow-x-hidden whitespace-pre-wrap break-words break-all text-sm md:text-base font-mono",children:e.isProcessing?"Processing...":e.willProcess?"Waiting in queue...":e.geminiResponse.thinking})})]})]})})]})]})]})})})})]}):null},Do=({images:e,handleRetry:t,copiedAll:n,copyAllToClipboard:i,handleDelete:r,handleDeleteAll:l=()=>{}})=>{const[a,o]=N.useState(null),[u,c]=N.useState(!1),[d,p]=N.useState(null),[h,f]=N.useState("name"),[b,C]=N.useState(!1),[A,w]=N.useState(null),[I,S]=N.useState(null),[F,L]=N.useState(!1),[E,B]=N.useState(!1),[W,U]=N.useState(null),j=N.useRef([]),_=N.useId(),D=(g,H)=>{const K=H.currentTarget.getBoundingClientRect(),xe=window.innerHeight*.8;p({top:K.top,left:K.left,width:K.width,height:xe}),o(g)},M=()=>{a&&a.geminiResponse.ocrText?(navigator.clipboard.writeText(a.geminiResponse.ocrText),c(!0),Te.success(`Copied text from ${a.file.name}`),setTimeout(()=>c(!1),2e3)):Te.error("No text available to copy")},R=()=>{o(null),p(null)},O=(g,H)=>{const ie=j.current[H];ie&&(w(ie.getBoundingClientRect()),S(g),C(!0))},te=g=>{const H=[{label:"View",icon:s.jsx(po,{className:"w-4 h-4"}),onClick:()=>{o(g),C(!1)}}];return g.hasError&&H.push({label:"Retry",icon:s.jsx(At,{className:"w-4 h-4"}),onClick:()=>t(g)}),H.push({label:"Remove",icon:s.jsx(yt,{className:"w-4 h-4"}),onClick:()=>ee(g.id),destructive:!0}),H},ne=(g,H)=>g.localeCompare(H,void 0,{numeric:!0,sensitivity:"base"}),oe=N.useMemo(()=>{const g=[...e];switch(h){case"name":return g.sort((H,ie)=>ne(H.file.name,ie.file.name));case"timestamp":return g.sort((H,ie)=>H.timestamp?ie.timestamp?ie.timestamp-H.timestamp:-1:1);case"status":return g.sort((H,ie)=>{const K=fe=>!fe.isProcessing&&!fe.willProcess&&!fe.hasError?1:fe.isProcessing?2:fe.willProcess?3:fe.hasError?4:5;return K(H)-K(ie)});default:return g}},[e,h]),ee=g=>{U(g),L(!0)},v=()=>{B(!0)},J=()=>{W&&(r(W),U(null)),L(!1)},se=()=>{l(),B(!1)};return(e==null?void 0:e.length)===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-10rem)] text-muted-foreground",children:[s.jsx(no,{className:"h-10 w-10 mb-2 text-muted-foreground/50"}),s.jsx("p",{children:"No images uploaded yet"}),s.jsx("p",{className:"text-xs mt-1 text-muted-foreground/70",children:"Use the upload button to add images for text extraction"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col bg-background rounded-md border",children:[s.jsxs("div",{className:"p-3 border-b flex flex-col xs:flex-row xs:justify-between xs:items-center gap-2",children:[s.jsxs("h2",{className:"text-base font-medium mb-2 xs:mb-0",children:["Processed Images (",e==null?void 0:e.length,")"]}),s.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center gap-2 w-full xs:w-auto",children:[s.jsxs(ht,{value:h,onValueChange:g=>f(g),children:[s.jsx(xt,{className:"h-8 w-full xs:w-[140px]",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yo,{className:"h-3.5 w-3.5"}),s.jsx(gt,{placeholder:"Sort by"})]})}),s.jsxs(vt,{children:[s.jsx(be,{value:"default",children:"Default"}),s.jsx(be,{value:"name",children:"Filename"}),s.jsx(be,{value:"timestamp",children:"Time added"}),s.jsx(be,{value:"status",children:"Status"})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 w-full xs:w-auto",children:[s.jsx(Y,{variant:"outline",size:"sm",onClick:i,disabled:!e.some(g=>!g.isProcessing&&!g.hasError),className:Pe("flex items-center gap-1 h-7 text-xs transition-all duration-200 px-2 flex-1 xs:flex-initial",n&&"bg-primary text-primary-foreground"),children:n?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden xs:inline",children:"Copied"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ca,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden xs:inline",children:"Copy All"})]})}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:v,className:"flex items-center gap-1 h-7 text-xs text-destructive hover:bg-destructive hover:text-destructive-foreground transition-colors px-2 flex-1 xs:flex-initial",children:[s.jsx(ei,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden xs:inline",children:"Remove All"})]})]})]})]}),s.jsx(dn,{className:"flex-1",children:s.jsx("div",{className:"p-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:oe.map((g,H)=>s.jsx(zo,{image:g,index:H,id:_,handleImageClick:D,handleRetry:t,handleDelete:ee,handleLongPress:O,cardRefs:j},g.id))})})]}),s.jsx(Li,{open:F,onOpenChange:L,children:s.jsxs(Bi,{children:[s.jsxs($i,{children:[s.jsx(qi,{children:"Confirm Deletion"}),s.jsx(Ui,{children:"Are you sure you want to delete this image? This action cannot be undone."})]}),s.jsxs(Hi,{children:[s.jsx(Vi,{children:"Cancel"}),s.jsx(Wi,{onClick:J,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),s.jsx(Li,{open:E,onOpenChange:B,children:s.jsxs(Bi,{children:[s.jsxs($i,{children:[s.jsx(qi,{children:"Delete All Images"}),s.jsxs(Ui,{children:["Are you sure you want to delete all ",e==null?void 0:e.length," images? This action cannot be undone."]})]}),s.jsxs(Hi,{children:[s.jsx(Vi,{children:"Cancel"}),s.jsx(Wi,{onClick:se,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete All"})]})]})}),b&&I&&s.jsx(lo,{rect:A,actions:te(I),onClose:()=>C(!1),renderHighlighted:()=>{var g;return s.jsxs("div",{style:{width:A==null?void 0:A.width,height:A==null?void 0:A.height,borderRadius:12,boxShadow:"0 0 0 4px rgba(0, 0, 0, 0.25)",border:"2px solid rgba(110, 152, 219, 0.41)6",background:"#fff",overflow:"hidden",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:[s.jsx("img",{src:I.url,alt:I.file.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:12}}),s.jsx("span",{style:{position:"absolute",top:4,left:4,fontSize:12,color:"#fff",background:"rgba(0,0,0,0.5)",padding:"2px 6px",borderRadius:4,zIndex:1},children:((g=I.file.name)==null?void 0:g.length)>15?`${I.file.name.substring(0,15)}...`:I.file.name})]})}}),s.jsx(Ao,{active:a,setActive:R,handleRetry:t,copied:u,copyToClipboard:M,positionData:d,id:(a==null?void 0:a.id)||""})]})};function zo({image:e,index:t,id:n,handleImageClick:i,handleRetry:r,handleDelete:l,handleLongPress:a,cardRefs:o}){const u=oo({onLongPress:()=>a(e,t),delay:500});return s.jsx("div",{className:"relative group rounded-lg overflow-hidden border shadow-sm hover:shadow-md transition-all duration-300 animate-in fade-in-0 zoom-in-95 cursor-pointer",style:{animationDelay:`${t*30}ms`,touchAction:"manipulation"},onClick:c=>i(e,c),ref:c=>{o.current[t]=c},...u,children:s.jsxs(we.div,{layoutId:`card-${e.id}-${n}`,style:{width:"100%",height:"100%"},children:[s.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[s.jsx("div",{className:"w-full h-full",children:s.jsx(we.div,{layoutId:`image-${e.id}-${n}`,style:{width:"100%",height:"100%"},children:s.jsx("img",{src:e.url,alt:e.file.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsxs("div",{className:"p-2 bg-background border-t",children:[s.jsx("div",{className:"text-sm font-medium truncate mb-1",children:s.jsx(we.div,{layoutId:`title-${e.id}-${n}`,children:e.file.name})}),e.isProcessing?s.jsxs("div",{className:"flex items-center text-xs text-amber-500",children:[s.jsx("div",{className:"animate-spin mr-1 h-3 w-3 border-2 border-amber-500 border-t-transparent rounded-full"}),"Processing..."]}):e.willProcess?s.jsx("div",{className:"text-xs text-muted-foreground",children:"Queued for processing"}):e.hasError?s.jsx("div",{className:"text-xs text-destructive mb-1",children:"Error processing image"}):s.jsx("div",{className:"text-xs text-muted-foreground mb-1 overflow-x-auto break-words",style:{maxHeight:"4.5em",WebkitLineClamp:3,display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.geminiResponse.ocrText?e.geminiResponse.ocrText:"No text extracted"}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.hasError?s.jsxs(Y,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:c=>{c.stopPropagation(),r(e)},children:[s.jsx(At,{className:"h-3 w-3 mr-1"}),"Retry"]}):s.jsx("span",{className:"text-[10px] text-muted-foreground/70",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():""}),s.jsxs(Y,{variant:"ghost",size:"sm",className:"h-7 text-xs text-destructive hover:text-destructive ml-auto",onClick:c=>{c.stopPropagation(),l(e.id)},children:[s.jsx(yt,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]}),s.jsxs("div",{className:"absolute top-2 right-2",children:[e.isProcessing&&s.jsx("div",{className:"bg-amber-500 text-white text-xs px-2 py-0.5 rounded-full animate-pulse",children:"Processing"}),e.willProcess&&s.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Queued"}),e.hasError&&s.jsx("div",{className:"bg-destructive text-destructive-foreground text-xs px-2 py-0.5 rounded-full",children:"Error"}),!e.isProcessing&&!e.willProcess&&!e.hasError&&s.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Complete"})]})]})})}function To(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Ro=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Fo=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_o={};function Ji(e,t){return(_o.jsx?Fo:Ro).test(e)}const Mo=/[ \t\n\f\r]/g;function Oo(e){return typeof e=="object"?e.type==="text"?er(e.value):!1:er(e)}function er(e){return e.replace(Mo,"")===""}class Qt{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Qt.prototype.normal={};Qt.prototype.property={};Qt.prototype.space=void 0;function ua(e,t){const n={},i={};for(const r of e)Object.assign(n,r.property),Object.assign(i,r.normal);return new Qt(n,i,t)}function ti(e){return e.toLowerCase()}class Oe{constructor(t,n){this.attribute=n,this.property=t}}Oe.prototype.attribute="";Oe.prototype.booleanish=!1;Oe.prototype.boolean=!1;Oe.prototype.commaOrSpaceSeparated=!1;Oe.prototype.commaSeparated=!1;Oe.prototype.defined=!1;Oe.prototype.mustUseProperty=!1;Oe.prototype.number=!1;Oe.prototype.overloadedBoolean=!1;Oe.prototype.property="";Oe.prototype.spaceSeparated=!1;Oe.prototype.space=void 0;let Lo=0;const G=St(),ye=St(),pa=St(),z=St(),ce=St(),It=St(),$e=St();function St(){return 2**++Lo}const ni=Object.freeze(Object.defineProperty({__proto__:null,boolean:G,booleanish:ye,commaOrSpaceSeparated:$e,commaSeparated:It,number:z,overloadedBoolean:pa,spaceSeparated:ce},Symbol.toStringTag,{value:"Module"})),Dn=Object.keys(ni);class vi extends Oe{constructor(t,n,i,r){let l=-1;if(super(t,n),tr(this,"space",r),typeof i=="number")for(;++l<Dn.length;){const a=Dn[l];tr(this,Dn[l],(i&ni[a])===ni[a])}}}vi.prototype.defined=!0;function tr(e,t,n){n&&(e[t]=n)}function Tt(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const l=new vi(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[ti(i)]=i,n[ti(l.attribute)]=i}return new Qt(t,n,e.space)}const da=Tt({properties:{ariaActiveDescendant:null,ariaAtomic:ye,ariaAutoComplete:null,ariaBusy:ye,ariaChecked:ye,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:ce,ariaCurrent:null,ariaDescribedBy:ce,ariaDetails:null,ariaDisabled:ye,ariaDropEffect:ce,ariaErrorMessage:null,ariaExpanded:ye,ariaFlowTo:ce,ariaGrabbed:ye,ariaHasPopup:null,ariaHidden:ye,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ce,ariaLevel:z,ariaLive:null,ariaModal:ye,ariaMultiLine:ye,ariaMultiSelectable:ye,ariaOrientation:null,ariaOwns:ce,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:ye,ariaReadOnly:ye,ariaRelevant:null,ariaRequired:ye,ariaRoleDescription:ce,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:ye,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function fa(e,t){return t in e?e[t]:t}function ma(e,t){return fa(e,t.toLowerCase())}const Bo=Tt({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:It,acceptCharset:ce,accessKey:ce,action:null,allow:null,allowFullScreen:G,allowPaymentRequest:G,allowUserMedia:G,alt:null,as:null,async:G,autoCapitalize:null,autoComplete:ce,autoFocus:G,autoPlay:G,blocking:ce,capture:null,charSet:null,checked:G,cite:null,className:ce,cols:z,colSpan:null,content:null,contentEditable:ye,controls:G,controlsList:ce,coords:z|It,crossOrigin:null,data:null,dateTime:null,decoding:null,default:G,defer:G,dir:null,dirName:null,disabled:G,download:pa,draggable:ye,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:G,formTarget:null,headers:ce,height:z,hidden:G,high:z,href:null,hrefLang:null,htmlFor:ce,httpEquiv:ce,id:null,imageSizes:null,imageSrcSet:null,inert:G,inputMode:null,integrity:null,is:null,isMap:G,itemId:null,itemProp:ce,itemRef:ce,itemScope:G,itemType:ce,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:G,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:G,muted:G,name:null,nonce:null,noModule:G,noValidate:G,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:G,optimum:z,pattern:null,ping:ce,placeholder:null,playsInline:G,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:G,referrerPolicy:null,rel:ce,required:G,reversed:G,rows:z,rowSpan:z,sandbox:ce,scope:null,scoped:G,seamless:G,selected:G,shadowRootClonable:G,shadowRootDelegatesFocus:G,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:ye,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:G,useMap:null,value:ye,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ce,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:G,declare:G,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:G,noHref:G,noShade:G,noWrap:G,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:ye,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:G,disableRemotePlayback:G,prefix:null,property:null,results:z,security:null,unselectable:null},space:"html",transform:ma}),$o=Tt({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$e,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:ce,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:G,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:It,g2:It,glyphName:It,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:$e,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ce,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$e,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$e,rev:$e,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$e,requiredFeatures:$e,requiredFonts:$e,requiredFormats:$e,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:$e,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$e,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$e,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:fa}),ha=Tt({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xa=Tt({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ma}),ga=Tt({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),qo={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Uo=/[A-Z]/g,nr=/-[a-z]/g,Ho=/^data[-\w.:]+$/i;function Vo(e,t){const n=ti(t);let i=t,r=Oe;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ho.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(nr,Go);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!nr.test(l)){let a=l.replace(Uo,Wo);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}r=vi}return new r(i,t)}function Wo(e){return"-"+e.toLowerCase()}function Go(e){return e.charAt(1).toUpperCase()}const Ko=ua([da,Bo,ha,xa,ga],"html"),yi=ua([da,$o,ha,xa,ga],"svg");function Yo(e){return e.join(" ").trim()}var Et={},zn,ir;function Xo(){if(ir)return zn;ir=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,c="/",d="*",p="",h="comment",f="declaration";zn=function(C,A){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];A=A||{};var w=1,I=1;function S(M){var R=M.match(t);R&&(w+=R.length);var O=M.lastIndexOf(u);I=~O?M.length-O:I+M.length}function F(){var M={line:w,column:I};return function(R){return R.position=new L(M),W(),R}}function L(M){this.start=M,this.end={line:w,column:I},this.source=A.source}L.prototype.content=C;function E(M){var R=new Error(A.source+":"+w+":"+I+": "+M);if(R.reason=M,R.filename=A.source,R.line=w,R.column=I,R.source=C,!A.silent)throw R}function B(M){var R=M.exec(C);if(R){var O=R[0];return S(O),C=C.slice(O.length),R}}function W(){B(n)}function U(M){var R;for(M=M||[];R=j();)R!==!1&&M.push(R);return M}function j(){var M=F();if(!(c!=C.charAt(0)||d!=C.charAt(1))){for(var R=2;p!=C.charAt(R)&&(d!=C.charAt(R)||c!=C.charAt(R+1));)++R;if(R+=2,p===C.charAt(R-1))return E("End of comment missing");var O=C.slice(2,R-2);return I+=2,S(O),C=C.slice(R),I+=2,M({type:h,comment:O})}}function _(){var M=F(),R=B(i);if(R){if(j(),!B(r))return E("property missing ':'");var O=B(l),te=M({type:f,property:b(R[0].replace(e,p)),value:O?b(O[0].replace(e,p)):p});return B(a),te}}function D(){var M=[];U(M);for(var R;R=_();)R!==!1&&(M.push(R),U(M));return M}return W(),D()};function b(C){return C?C.replace(o,p):p}return zn}var rr;function Qo(){if(rr)return Et;rr=1;var e=Et&&Et.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=n;var t=e(Xo());function n(i,r){var l=null;if(!i||typeof i!="string")return l;var a=(0,t.default)(i),o=typeof r=="function";return a.forEach(function(u){if(u.type==="declaration"){var c=u.property,d=u.value;o?r(c,d,u):d&&(l=l||{},l[c]=d)}}),l}return Et}var Ot={},ar;function Zo(){if(ar)return Ot;ar=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,l=function(c){return!c||n.test(c)||e.test(c)},a=function(c,d){return d.toUpperCase()},o=function(c,d){return"".concat(d,"-")},u=function(c,d){return d===void 0&&(d={}),l(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(r,o):c=c.replace(i,o),c.replace(t,a))};return Ot.camelCase=u,Ot}var Lt,lr;function Jo(){if(lr)return Lt;lr=1;var e=Lt&&Lt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=e(Qo()),n=Zo();function i(r,l){var a={};return!r||typeof r!="string"||(0,t.default)(r,function(o,u){o&&u&&(a[(0,n.camelCase)(o,l)]=u)}),a}return i.default=i,Lt=i,Lt}var es=Jo();const ts=bn(es),va=ya("end"),bi=ya("start");function ya(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function ns(e){const t=bi(e),n=va(e);if(t&&n)return{start:t,end:n}}function Ut(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?or(e.position):"start"in e||"end"in e?or(e):"line"in e||"column"in e?ii(e):""}function ii(e){return sr(e&&e.line)+":"+sr(e&&e.column)}function or(e){return ii(e&&e.start)+"-"+ii(e&&e.end)}function sr(e){return e&&typeof e=="number"?e:1}class Ae extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",l={},a=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?r=t:!l.cause&&t&&(a=!0,r=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof i=="string"){const u=i.indexOf(":");u===-1?l.ruleId=i:(l.source=i.slice(0,u),l.ruleId=i.slice(u+1))}if(!l.place&&l.ancestors&&l.ancestors){const u=l.ancestors[l.ancestors.length-1];u&&(l.place=u.position)}const o=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=o?o.line:void 0,this.name=Ut(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=a&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ae.prototype.file="";Ae.prototype.name="";Ae.prototype.reason="";Ae.prototype.message="";Ae.prototype.stack="";Ae.prototype.column=void 0;Ae.prototype.line=void 0;Ae.prototype.ancestors=void 0;Ae.prototype.cause=void 0;Ae.prototype.fatal=void 0;Ae.prototype.place=void 0;Ae.prototype.ruleId=void 0;Ae.prototype.source=void 0;const wi={}.hasOwnProperty,is=new Map,rs=/[A-Z]/g,as=new Set(["table","tbody","thead","tfoot","tr"]),ls=new Set(["td","th"]),ba="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function os(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=hs(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=ms(n,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?yi:Ko,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=wa(r,e,void 0);return l&&typeof l!="string"?l:r.create(e,r.Fragment,{children:l||void 0},void 0)}function wa(e,t,n){if(t.type==="element")return ss(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return cs(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ps(e,t,n);if(t.type==="mdxjsEsm")return us(e,t);if(t.type==="root")return ds(e,t,n);if(t.type==="text")return fs(e,t)}function ss(e,t,n){const i=e.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=yi,e.schema=r),e.ancestors.push(t);const l=ja(e,t.tagName,!1),a=xs(e,t);let o=ji(e,t);return as.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!Oo(u):!0})),ka(e,a,l,t),ki(a,o),e.ancestors.pop(),e.schema=i,e.create(t,l,a,n)}function cs(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Kt(e,t.position)}function us(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Kt(e,t.position)}function ps(e,t,n){const i=e.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=yi,e.schema=r),e.ancestors.push(t);const l=t.name===null?e.Fragment:ja(e,t.name,!0),a=gs(e,t),o=ji(e,t);return ka(e,a,l,t),ki(a,o),e.ancestors.pop(),e.schema=i,e.create(t,l,a,n)}function ds(e,t,n){const i={};return ki(i,ji(e,t)),e.create(t,e.Fragment,i,n)}function fs(e,t){return t.value}function ka(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function ki(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ms(e,t,n){return i;function i(r,l,a,o){const c=Array.isArray(a.children)?n:t;return o?c(l,a,o):c(l,a)}}function hs(e,t){return n;function n(i,r,l,a){const o=Array.isArray(l.children),u=bi(i);return t(r,l,a,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function xs(e,t){const n={};let i,r;for(r in t.properties)if(r!=="children"&&wi.call(t.properties,r)){const l=vs(e,r,t.properties[r]);if(l){const[a,o]=l;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&ls.has(t.tagName)?i=o:n[a]=o}}if(i){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function gs(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const l=i.data.estree.body[0];l.type;const a=l.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Kt(e,t.position);else{const r=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const o=i.value.data.estree.body[0];o.type,l=e.evaluater.evaluateExpression(o.expression)}else Kt(e,t.position);else l=i.value===null?!0:i.value;n[r]=l}return n}function ji(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:is;for(;++i<t.children.length;){const l=t.children[i];let a;if(e.passKeys){const u=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(u){const c=r.get(u)||0;a=u+"-"+c,r.set(u,c+1)}}const o=wa(e,l,a);o!==void 0&&n.push(o)}return n}function vs(e,t,n){const i=Vo(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?To(n):Yo(n)),i.property==="style"){let r=typeof n=="object"?n:ys(e,String(n));return e.stylePropertyNameCase==="css"&&(r=bs(r)),["style",r]}return[e.elementAttributeNameCase==="react"&&i.space?qo[i.property]||i.property:i.attribute,n]}}function ys(e,t){try{return ts(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,r=new Ae("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=ba+"#cannot-parse-style-attribute",r}}function ja(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let l=-1,a;for(;++l<r.length;){const o=Ji(r[l])?{type:"Identifier",name:r[l]}:{type:"Literal",value:r[l]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(l&&o.type==="Literal"),optional:!1}:o}i=a}else i=Ji(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return wi.call(e.components,r)?e.components[r]:r}if(e.evaluater)return e.evaluater.evaluateExpression(i);Kt(e)}function Kt(e,t){const n=new Ae("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ba+"#cannot-handle-mdx-estrees-without-createevaluater",n}function bs(e){const t={};let n;for(n in e)wi.call(e,n)&&(t[ws(n)]=e[n]);return t}function ws(e){let t=e.replace(rs,ks);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ks(e){return"-"+e.toLowerCase()}const Tn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},js={};function Ci(e,t){const n=js,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ca(e,i,r)}function Ca(e,t,n){if(Cs(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return cr(e.children,t,n)}return Array.isArray(e)?cr(e,t,n):""}function cr(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=Ca(e[r],t,n);return i.join("")}function Cs(e){return!!(e&&typeof e=="object")}const ur=document.createElement("i");function Si(e){const t="&"+e+";";ur.innerHTML=t;const n=ur.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function qe(e,t,n,i){const r=e.length;let l=0,a;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);l<i.length;)a=i.slice(l,l+1e4),a.unshift(t,0),e.splice(...a),l+=1e4,t+=1e4}function He(e,t){return e.length>0?(qe(e,e.length,0,t),e):t}const pr={}.hasOwnProperty;function Sa(e){const t={};let n=-1;for(;++n<e.length;)Ss(t,e[n]);return t}function Ss(e,t){let n;for(n in t){const r=(pr.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let a;if(l)for(a in l){pr.call(r,a)||(r[a]=[]);const o=l[a];Es(r[a],Array.isArray(o)?o:o?[o]:[])}}}function Es(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);qe(e,0,0,i)}function Ea(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ge(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Re=ut(/[A-Za-z]/),Ie=ut(/[\dA-Za-z]/),Ns=ut(/[#-'*+\--9=?A-Z^-~]/);function fn(e){return e!==null&&(e<32||e===127)}const ri=ut(/\d/),Ps=ut(/[\dA-Fa-f]/),Is=ut(/[!-/:-@[-`{-~]/);function q(e){return e!==null&&e<-2}function le(e){return e!==null&&(e<0||e===32)}function X(e){return e===-2||e===-1||e===32}const wn=ut(new RegExp("\\p{P}|\\p{S}","u")),kt=ut(/\s/);function ut(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Rt(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const l=e.charCodeAt(n);let a="";if(l===37&&Ie(e.charCodeAt(n+1))&&Ie(e.charCodeAt(n+2)))r=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(a=String.fromCharCode(l));else if(l>55295&&l<57344){const o=e.charCodeAt(n+1);l<56320&&o>56319&&o<57344?(a=String.fromCharCode(l,o),r=1):a=""}else a=String.fromCharCode(l);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+r+1,a=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}function Z(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(u){return X(u)?(e.enter(n),o(u)):t(u)}function o(u){return X(u)&&l++<r?(e.consume(u),o):(e.exit(n),t(u))}}const As={tokenize:Ds};function Ds(e){const t=e.attempt(this.parser.constructs.contentInitial,i,r);let n;return t;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Z(e,t,"linePrefix")}function r(o){return e.enter("paragraph"),l(o)}function l(o){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return q(o)?(e.consume(o),e.exit("chunkText"),l):(e.consume(o),a)}}const zs={tokenize:Ts},dr={tokenize:Rs};function Ts(e){const t=this,n=[];let i=0,r,l,a;return o;function o(S){if(i<n.length){const F=n[i];return t.containerState=F[1],e.attempt(F[0].continuation,u,c)(S)}return c(S)}function u(S){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&I();const F=t.events.length;let L=F,E;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){E=t.events[L][1].end;break}w(i);let B=F;for(;B<t.events.length;)t.events[B][1].end={...E},B++;return qe(t.events,L+1,0,t.events.slice(F)),t.events.length=B,c(S)}return o(S)}function c(S){if(i===n.length){if(!r)return h(S);if(r.currentConstruct&&r.currentConstruct.concrete)return b(S);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(dr,d,p)(S)}function d(S){return r&&I(),w(i),h(S)}function p(S){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,b(S)}function h(S){return t.containerState={},e.attempt(dr,f,b)(S)}function f(S){return i++,n.push([t.currentConstruct,t.containerState]),h(S)}function b(S){if(S===null){r&&I(),w(0),e.consume(S);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:l}),C(S)}function C(S){if(S===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(S);return}return q(S)?(e.consume(S),A(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(S),C)}function A(S,F){const L=t.sliceStream(S);if(F&&L.push(null),S.previous=l,l&&(l.next=S),l=S,r.defineSkip(S.start),r.write(L),t.parser.lazy[S.start.line]){let E=r.events.length;for(;E--;)if(r.events[E][1].start.offset<a&&(!r.events[E][1].end||r.events[E][1].end.offset>a))return;const B=t.events.length;let W=B,U,j;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){if(U){j=t.events[W][1].end;break}U=!0}for(w(i),E=B;E<t.events.length;)t.events[E][1].end={...j},E++;qe(t.events,W+1,0,t.events.slice(B)),t.events.length=E}}function w(S){let F=n.length;for(;F-- >S;){const L=n[F];t.containerState=L[1],L[0].exit.call(t,e)}n.length=S}function I(){r.write([null]),l=void 0,r=void 0,t.containerState._closeFlow=void 0}}function Rs(e,t,n){return Z(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Dt(e){if(e===null||le(e)||kt(e))return 1;if(wn(e))return 2}function kn(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const l=e[r].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const ai={name:"attention",resolveAll:Fs,tokenize:_s};function Fs(e,t){let n=-1,i,r,l,a,o,u,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[i][1].end},h={...e[n][1].start};fr(p,-u),fr(h,u),a={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[i][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},l={type:u>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},r={type:u>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[i][1].end={...a.start},e[n][1].start={...o.end},c=[],e[i][1].end.offset-e[i][1].start.offset&&(c=He(c,[["enter",e[i][1],t],["exit",e[i][1],t]])),c=He(c,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",l,t]]),c=He(c,kn(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),c=He(c,[["exit",l,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=He(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,qe(e,i-1,n-i+3,c),n=i+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function _s(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Dt(i);let l;return a;function a(u){return l=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===l)return e.consume(u),o;const c=e.exit("attentionSequence"),d=Dt(u),p=!d||d===2&&r||n.includes(u),h=!r||r===2&&d||n.includes(i);return c._open=!!(l===42?p:p&&(r||!h)),c._close=!!(l===42?h:h&&(d||!p)),t(u)}}function fr(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ms={name:"autolink",tokenize:Os};function Os(e,t,n){let i=0;return r;function r(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(f){return Re(f)?(e.consume(f),a):f===64?n(f):c(f)}function a(f){return f===43||f===45||f===46||Ie(f)?(i=1,o(f)):c(f)}function o(f){return f===58?(e.consume(f),i=0,u):(f===43||f===45||f===46||Ie(f))&&i++<32?(e.consume(f),o):(i=0,c(f))}function u(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||fn(f)?n(f):(e.consume(f),u)}function c(f){return f===64?(e.consume(f),d):Ns(f)?(e.consume(f),c):n(f)}function d(f){return Ie(f)?p(f):n(f)}function p(f){return f===46?(e.consume(f),i=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||Ie(f))&&i++<63){const b=f===45?h:p;return e.consume(f),b}return n(f)}}const Zt={partial:!0,tokenize:Ls};function Ls(e,t,n){return i;function i(l){return X(l)?Z(e,r,"linePrefix")(l):r(l)}function r(l){return l===null||q(l)?t(l):n(l)}}const Na={continuation:{tokenize:$s},exit:qs,name:"blockQuote",tokenize:Bs};function Bs(e,t,n){const i=this;return r;function r(a){if(a===62){const o=i.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),l}return n(a)}function l(a){return X(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function $s(e,t,n){const i=this;return r;function r(a){return X(a)?Z(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):l(a)}function l(a){return e.attempt(Na,t,n)(a)}}function qs(e){e.exit("blockQuote")}const Pa={name:"characterEscape",tokenize:Us};function Us(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),r}function r(l){return Is(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Ia={name:"characterReference",tokenize:Hs};function Hs(e,t,n){const i=this;let r=0,l,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),l=31,a=Ie,d(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,a=Ps,d):(e.enter("characterReferenceValue"),l=7,a=ri,d(p))}function d(p){if(p===59&&r){const h=e.exit("characterReferenceValue");return a===Ie&&!Si(i.sliceSerialize(h))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&r++<l?(e.consume(p),d):n(p)}}const mr={partial:!0,tokenize:Ws},hr={concrete:!0,name:"codeFenced",tokenize:Vs};function Vs(e,t,n){const i=this,r={partial:!0,tokenize:L};let l=0,a=0,o;return u;function u(E){return c(E)}function c(E){const B=i.events[i.events.length-1];return l=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,o=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(E)}function d(E){return E===o?(a++,e.consume(E),d):a<3?n(E):(e.exit("codeFencedFenceSequence"),X(E)?Z(e,p,"whitespace")(E):p(E))}function p(E){return E===null||q(E)?(e.exit("codeFencedFence"),i.interrupt?t(E):e.check(mr,C,F)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||q(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(E)):X(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Z(e,f,"whitespace")(E)):E===96&&E===o?n(E):(e.consume(E),h)}function f(E){return E===null||q(E)?p(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(E))}function b(E){return E===null||q(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(E)):E===96&&E===o?n(E):(e.consume(E),b)}function C(E){return e.attempt(r,F,A)(E)}function A(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),w}function w(E){return l>0&&X(E)?Z(e,I,"linePrefix",l+1)(E):I(E)}function I(E){return E===null||q(E)?e.check(mr,C,F)(E):(e.enter("codeFlowValue"),S(E))}function S(E){return E===null||q(E)?(e.exit("codeFlowValue"),I(E)):(e.consume(E),S)}function F(E){return e.exit("codeFenced"),t(E)}function L(E,B,W){let U=0;return j;function j(O){return E.enter("lineEnding"),E.consume(O),E.exit("lineEnding"),_}function _(O){return E.enter("codeFencedFence"),X(O)?Z(E,D,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):D(O)}function D(O){return O===o?(E.enter("codeFencedFenceSequence"),M(O)):W(O)}function M(O){return O===o?(U++,E.consume(O),M):U>=a?(E.exit("codeFencedFenceSequence"),X(O)?Z(E,R,"whitespace")(O):R(O)):W(O)}function R(O){return O===null||q(O)?(E.exit("codeFencedFence"),B(O)):W(O)}}}function Ws(e,t,n){const i=this;return r;function r(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l)}function l(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}const Rn={name:"codeIndented",tokenize:Ks},Gs={partial:!0,tokenize:Ys};function Ks(e,t,n){const i=this;return r;function r(c){return e.enter("codeIndented"),Z(e,l,"linePrefix",5)(c)}function l(c){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?u(c):q(c)?e.attempt(Gs,a,u)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||q(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),o)}function u(c){return e.exit("codeIndented"),t(c)}}function Ys(e,t,n){const i=this;return r;function r(a){return i.parser.lazy[i.now().line]?n(a):q(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r):Z(e,l,"linePrefix",5)(a)}function l(a){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):q(a)?r(a):n(a)}}const Xs={name:"codeText",previous:Zs,resolve:Qs,tokenize:Js};function Qs(e){let t=e.length-4,n=3,i,r;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)r===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(r=i):(i===t||e[i][1].type==="lineEnding")&&(e[r][1].type="codeTextData",i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return e}function Zs(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Js(e,t,n){let i=0,r,l;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),i++,o):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(l=e.enter("codeTextSequence"),r=0,d(p)):q(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||q(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),c)}function d(p){return p===96?(e.consume(p),r++,d):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(l.type="codeTextData",c(p))}}class ec{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const r=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Bt(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Bt(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Bt(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Bt(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Bt(this.left,n.reverse())}}}function Bt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Aa(e){const t={};let n=-1,i,r,l,a,o,u,c;const d=new ec(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(i=d.get(n),n&&i[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=i[1]._tokenizer.events,l=0,l<u.length&&u[l][1].type==="lineEndingBlank"&&(l+=2),l<u.length&&u[l][1].type==="content"))for(;++l<u.length&&u[l][1].type!=="content";)u[l][1].type==="chunkText"&&(u[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,tc(d,n)),n=t[n],c=!0);else if(i[1]._container){for(l=n,r=void 0;l--;)if(a=d.get(l),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=l);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},o=d.slice(r,n),o.unshift(i),d.splice(r,n-r+1,o))}}return qe(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function tc(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const l=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,u=[],c={};let d,p,h=-1,f=n,b=0,C=0;const A=[C];for(;f;){for(;e.get(++r)[1]!==f;);l.push(r),f._tokenizer||(d=i.sliceStream(f),f.next||d.push(null),p&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=f,f=f.next}for(f=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(C=h+1,A.push(C),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):A.pop(),h=A.length;h--;){const w=o.slice(A[h],A[h+1]),I=l.pop();u.push([I,I+w.length-1]),e.splice(I,2,w)}for(u.reverse(),h=-1;++h<u.length;)c[b+u[h][0]]=b+u[h][1],b+=u[h][1]-u[h][0]-1;return c}const nc={resolve:rc,tokenize:ac},ic={partial:!0,tokenize:lc};function rc(e){return Aa(e),e}function ac(e,t){let n;return i;function i(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?l(o):q(o)?e.check(ic,a,l)(o):(e.consume(o),r)}function l(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function lc(e,t,n){const i=this;return r;function r(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Z(e,l,"linePrefix")}function l(a){if(a===null||q(a))return n(a);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,n,t)(a)}}function Da(e,t,n,i,r,l,a,o,u){const c=u||Number.POSITIVE_INFINITY;let d=0;return p;function p(w){return w===60?(e.enter(i),e.enter(r),e.enter(l),e.consume(w),e.exit(l),h):w===null||w===32||w===41||fn(w)?n(w):(e.enter(i),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),C(w))}function h(w){return w===62?(e.enter(l),e.consume(w),e.exit(l),e.exit(r),e.exit(i),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===62?(e.exit("chunkString"),e.exit(o),h(w)):w===null||w===60||q(w)?n(w):(e.consume(w),w===92?b:f)}function b(w){return w===60||w===62||w===92?(e.consume(w),f):f(w)}function C(w){return!d&&(w===null||w===41||le(w))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(i),t(w)):d<c&&w===40?(e.consume(w),d++,C):w===41?(e.consume(w),d--,C):w===null||w===32||w===40||fn(w)?n(w):(e.consume(w),w===92?A:C)}function A(w){return w===40||w===41||w===92?(e.consume(w),C):C(w)}}function za(e,t,n,i,r,l){const a=this;let o=0,u;return c;function c(f){return e.enter(i),e.enter(r),e.consume(f),e.exit(r),e.enter(l),d}function d(f){return o>999||f===null||f===91||f===93&&!u||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):f===93?(e.exit(l),e.enter(r),e.consume(f),e.exit(r),e.exit(i),t):q(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(f))}function p(f){return f===null||f===91||f===93||q(f)||o++>999?(e.exit("chunkString"),d(f)):(e.consume(f),u||(u=!X(f)),f===92?h:p)}function h(f){return f===91||f===92||f===93?(e.consume(f),o++,p):p(f)}}function Ta(e,t,n,i,r,l){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(i),e.enter(r),e.consume(h),e.exit(r),a=h===40?41:h,u):n(h)}function u(h){return h===a?(e.enter(r),e.consume(h),e.exit(r),e.exit(i),t):(e.enter(l),c(h))}function c(h){return h===a?(e.exit(l),u(a)):h===null?n(h):q(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Z(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||q(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?p:d)}function p(h){return h===a||h===92?(e.consume(h),d):d(h)}}function Ht(e,t){let n;return i;function i(r){return q(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):X(r)?Z(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}const oc={name:"definition",tokenize:cc},sc={partial:!0,tokenize:uc};function cc(e,t,n){const i=this;let r;return l;function l(f){return e.enter("definition"),a(f)}function a(f){return za.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return r=Ge(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),u):n(f)}function u(f){return le(f)?Ht(e,c)(f):c(f)}function c(f){return Da(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(sc,p,p)(f)}function p(f){return X(f)?Z(e,h,"whitespace")(f):h(f)}function h(f){return f===null||q(f)?(e.exit("definition"),i.parser.defined.push(r),t(f)):n(f)}}function uc(e,t,n){return i;function i(o){return le(o)?Ht(e,r)(o):n(o)}function r(o){return Ta(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function l(o){return X(o)?Z(e,a,"whitespace")(o):a(o)}function a(o){return o===null||q(o)?t(o):n(o)}}const pc={name:"hardBreakEscape",tokenize:dc};function dc(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.consume(l),r}function r(l){return q(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const fc={name:"headingAtx",resolve:mc,tokenize:hc};function mc(e,t){let n=e.length-2,i=3,r,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},qe(e,i,n-i+1,[["enter",r,t],["enter",l,t],["exit",l,t],["exit",r,t]])),e}function hc(e,t,n){let i=0;return r;function r(d){return e.enter("atxHeading"),l(d)}function l(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&i++<6?(e.consume(d),a):d===null||le(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),u(d)):d===null||q(d)?(e.exit("atxHeading"),t(d)):X(d)?Z(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function u(d){return d===35?(e.consume(d),u):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||le(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const xc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xr=["pre","script","style","textarea"],gc={concrete:!0,name:"htmlFlow",resolveTo:bc,tokenize:wc},vc={partial:!0,tokenize:jc},yc={partial:!0,tokenize:kc};function bc(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function wc(e,t,n){const i=this;let r,l,a,o,u;return c;function c(g){return d(g)}function d(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),p}function p(g){return g===33?(e.consume(g),h):g===47?(e.consume(g),l=!0,C):g===63?(e.consume(g),r=3,i.interrupt?t:v):Re(g)?(e.consume(g),a=String.fromCharCode(g),A):n(g)}function h(g){return g===45?(e.consume(g),r=2,f):g===91?(e.consume(g),r=5,o=0,b):Re(g)?(e.consume(g),r=4,i.interrupt?t:v):n(g)}function f(g){return g===45?(e.consume(g),i.interrupt?t:v):n(g)}function b(g){const H="CDATA[";return g===H.charCodeAt(o++)?(e.consume(g),o===H.length?i.interrupt?t:D:b):n(g)}function C(g){return Re(g)?(e.consume(g),a=String.fromCharCode(g),A):n(g)}function A(g){if(g===null||g===47||g===62||le(g)){const H=g===47,ie=a.toLowerCase();return!H&&!l&&xr.includes(ie)?(r=1,i.interrupt?t(g):D(g)):xc.includes(a.toLowerCase())?(r=6,H?(e.consume(g),w):i.interrupt?t(g):D(g)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(g):l?I(g):S(g))}return g===45||Ie(g)?(e.consume(g),a+=String.fromCharCode(g),A):n(g)}function w(g){return g===62?(e.consume(g),i.interrupt?t:D):n(g)}function I(g){return X(g)?(e.consume(g),I):j(g)}function S(g){return g===47?(e.consume(g),j):g===58||g===95||Re(g)?(e.consume(g),F):X(g)?(e.consume(g),S):j(g)}function F(g){return g===45||g===46||g===58||g===95||Ie(g)?(e.consume(g),F):L(g)}function L(g){return g===61?(e.consume(g),E):X(g)?(e.consume(g),L):S(g)}function E(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(e.consume(g),u=g,B):X(g)?(e.consume(g),E):W(g)}function B(g){return g===u?(e.consume(g),u=null,U):g===null||q(g)?n(g):(e.consume(g),B)}function W(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||le(g)?L(g):(e.consume(g),W)}function U(g){return g===47||g===62||X(g)?S(g):n(g)}function j(g){return g===62?(e.consume(g),_):n(g)}function _(g){return g===null||q(g)?D(g):X(g)?(e.consume(g),_):n(g)}function D(g){return g===45&&r===2?(e.consume(g),te):g===60&&r===1?(e.consume(g),ne):g===62&&r===4?(e.consume(g),J):g===63&&r===3?(e.consume(g),v):g===93&&r===5?(e.consume(g),ee):q(g)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(vc,se,M)(g)):g===null||q(g)?(e.exit("htmlFlowData"),M(g)):(e.consume(g),D)}function M(g){return e.check(yc,R,se)(g)}function R(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),O}function O(g){return g===null||q(g)?M(g):(e.enter("htmlFlowData"),D(g))}function te(g){return g===45?(e.consume(g),v):D(g)}function ne(g){return g===47?(e.consume(g),a="",oe):D(g)}function oe(g){if(g===62){const H=a.toLowerCase();return xr.includes(H)?(e.consume(g),J):D(g)}return Re(g)&&a.length<8?(e.consume(g),a+=String.fromCharCode(g),oe):D(g)}function ee(g){return g===93?(e.consume(g),v):D(g)}function v(g){return g===62?(e.consume(g),J):g===45&&r===2?(e.consume(g),v):D(g)}function J(g){return g===null||q(g)?(e.exit("htmlFlowData"),se(g)):(e.consume(g),J)}function se(g){return e.exit("htmlFlow"),t(g)}}function kc(e,t,n){const i=this;return r;function r(a){return q(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l):n(a)}function l(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}function jc(e,t,n){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Zt,t,n)}}const Cc={name:"htmlText",tokenize:Sc};function Sc(e,t,n){const i=this;let r,l,a;return o;function o(v){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(v),u}function u(v){return v===33?(e.consume(v),c):v===47?(e.consume(v),L):v===63?(e.consume(v),S):Re(v)?(e.consume(v),W):n(v)}function c(v){return v===45?(e.consume(v),d):v===91?(e.consume(v),l=0,b):Re(v)?(e.consume(v),I):n(v)}function d(v){return v===45?(e.consume(v),f):n(v)}function p(v){return v===null?n(v):v===45?(e.consume(v),h):q(v)?(a=p,ne(v)):(e.consume(v),p)}function h(v){return v===45?(e.consume(v),f):p(v)}function f(v){return v===62?te(v):v===45?h(v):p(v)}function b(v){const J="CDATA[";return v===J.charCodeAt(l++)?(e.consume(v),l===J.length?C:b):n(v)}function C(v){return v===null?n(v):v===93?(e.consume(v),A):q(v)?(a=C,ne(v)):(e.consume(v),C)}function A(v){return v===93?(e.consume(v),w):C(v)}function w(v){return v===62?te(v):v===93?(e.consume(v),w):C(v)}function I(v){return v===null||v===62?te(v):q(v)?(a=I,ne(v)):(e.consume(v),I)}function S(v){return v===null?n(v):v===63?(e.consume(v),F):q(v)?(a=S,ne(v)):(e.consume(v),S)}function F(v){return v===62?te(v):S(v)}function L(v){return Re(v)?(e.consume(v),E):n(v)}function E(v){return v===45||Ie(v)?(e.consume(v),E):B(v)}function B(v){return q(v)?(a=B,ne(v)):X(v)?(e.consume(v),B):te(v)}function W(v){return v===45||Ie(v)?(e.consume(v),W):v===47||v===62||le(v)?U(v):n(v)}function U(v){return v===47?(e.consume(v),te):v===58||v===95||Re(v)?(e.consume(v),j):q(v)?(a=U,ne(v)):X(v)?(e.consume(v),U):te(v)}function j(v){return v===45||v===46||v===58||v===95||Ie(v)?(e.consume(v),j):_(v)}function _(v){return v===61?(e.consume(v),D):q(v)?(a=_,ne(v)):X(v)?(e.consume(v),_):U(v)}function D(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(e.consume(v),r=v,M):q(v)?(a=D,ne(v)):X(v)?(e.consume(v),D):(e.consume(v),R)}function M(v){return v===r?(e.consume(v),r=void 0,O):v===null?n(v):q(v)?(a=M,ne(v)):(e.consume(v),M)}function R(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||le(v)?U(v):(e.consume(v),R)}function O(v){return v===47||v===62||le(v)?U(v):n(v)}function te(v){return v===62?(e.consume(v),e.exit("htmlTextData"),e.exit("htmlText"),t):n(v)}function ne(v){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),oe}function oe(v){return X(v)?Z(e,ee,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):ee(v)}function ee(v){return e.enter("htmlTextData"),a(v)}}const Ei={name:"labelEnd",resolveAll:Ic,resolveTo:Ac,tokenize:Dc},Ec={tokenize:zc},Nc={tokenize:Tc},Pc={tokenize:Rc};function Ic(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return e.length!==n.length&&qe(e,0,e.length,n),e}function Ac(e,t){let n=e.length,i=0,r,l,a,o;for(;n--;)if(r=e[n][1],l){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(l=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(a=n);const u={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[l][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[l+i+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",u,t],["enter",c,t]],o=He(o,e.slice(l+1,l+i+3)),o=He(o,[["enter",d,t]]),o=He(o,kn(t.parser.constructs.insideSpan.null,e.slice(l+i+4,a-3),t)),o=He(o,[["exit",d,t],e[a-2],e[a-1],["exit",c,t]]),o=He(o,e.slice(a+1)),o=He(o,[["exit",u,t]]),qe(e,l,e.length,o),e}function Dc(e,t,n){const i=this;let r=i.events.length,l,a;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){l=i.events[r][1];break}return o;function o(h){return l?l._inactive?p(h):(a=i.parser.defined.includes(Ge(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),u):n(h)}function u(h){return h===40?e.attempt(Ec,d,a?d:p)(h):h===91?e.attempt(Nc,d,a?c:p)(h):a?d(h):p(h)}function c(h){return e.attempt(Pc,d,p)(h)}function d(h){return t(h)}function p(h){return l._balanced=!0,n(h)}}function zc(e,t,n){return i;function i(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),r}function r(p){return le(p)?Ht(e,l)(p):l(p)}function l(p){return p===41?d(p):Da(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return le(p)?Ht(e,u)(p):d(p)}function o(p){return n(p)}function u(p){return p===34||p===39||p===40?Ta(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function c(p){return le(p)?Ht(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function Tc(e,t,n){const i=this;return r;function r(o){return za.call(i,e,l,a,"reference","referenceMarker","referenceString")(o)}function l(o){return i.parser.defined.includes(Ge(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function Rc(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),r}function r(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const Fc={name:"labelStartImage",resolveAll:Ei.resolveAll,tokenize:_c};function _c(e,t,n){const i=this;return r;function r(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),l}function l(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):t(o)}}const Mc={name:"labelStartLink",resolveAll:Ei.resolveAll,tokenize:Oc};function Oc(e,t,n){const i=this;return r;function r(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),l}function l(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const Fn={name:"lineEnding",tokenize:Lc};function Lc(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Z(e,t,"linePrefix")}}const pn={name:"thematicBreak",tokenize:Bc};function Bc(e,t,n){let i=0,r;return l;function l(c){return e.enter("thematicBreak"),a(c)}function a(c){return r=c,o(c)}function o(c){return c===r?(e.enter("thematicBreakSequence"),u(c)):i>=3&&(c===null||q(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===r?(e.consume(c),i++,u):(e.exit("thematicBreakSequence"),X(c)?Z(e,o,"whitespace")(c):o(c))}}const Me={continuation:{tokenize:Hc},exit:Wc,name:"list",tokenize:Uc},$c={partial:!0,tokenize:Gc},qc={partial:!0,tokenize:Vc};function Uc(e,t,n){const i=this,r=i.events[i.events.length-1];let l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return o;function o(f){const b=i.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!i.containerState.marker||f===i.containerState.marker:ri(f)){if(i.containerState.type||(i.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(pn,n,c)(f):c(f);if(!i.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(f)}return n(f)}function u(f){return ri(f)&&++a<10?(e.consume(f),u):(!i.interrupt||a<2)&&(i.containerState.marker?f===i.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):n(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||f,e.check(Zt,i.interrupt?n:d,e.attempt($c,h,p))}function d(f){return i.containerState.initialBlankLine=!0,l++,h(f)}function p(f){return X(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function Hc(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Zt,r,l);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Z(e,t,"listItemIndent",i.containerState.size+1)(o)}function l(o){return i.containerState.furtherBlankLines||!X(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(qc,t,a)(o))}function a(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Z(e,e.attempt(Me,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Vc(e,t,n){const i=this;return Z(e,r,"listItemIndent",i.containerState.size+1);function r(l){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(l):n(l)}}function Wc(e){e.exit(this.containerState.type)}function Gc(e,t,n){const i=this;return Z(e,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(l){const a=i.events[i.events.length-1];return!X(l)&&a&&a[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const gr={name:"setextUnderline",resolveTo:Kc,tokenize:Yc};function Kc(e,t){let n=e.length,i,r,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(r=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",l?(e.splice(r,0,["enter",a,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end={...e[l][1].end}):e[i][1]=a,e.push(["exit",a,t]),e}function Yc(e,t,n){const i=this;let r;return l;function l(c){let d=i.events.length,p;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){p=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(e.enter("setextHeadingLine"),r=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===r?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),X(c)?Z(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||q(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Xc={tokenize:Qc};function Qc(e){const t=this,n=e.attempt(Zt,i,e.attempt(this.parser.constructs.flowInitial,r,Z(e,e.attempt(this.parser.constructs.flow,r,e.attempt(nc,r)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Zc={resolveAll:Fa()},Jc=Ra("string"),eu=Ra("text");function Ra(e){return{resolveAll:Fa(e==="text"?tu:void 0),tokenize:t};function t(n){const i=this,r=this.parser.constructs[e],l=n.attempt(r,a,o);return a;function a(d){return c(d)?l(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return c(d)?(n.exit("data"),l(d)):(n.consume(d),u)}function c(d){if(d===null)return!0;const p=r[d];let h=-1;if(p)for(;++h<p.length;){const f=p[h];if(!f.previous||f.previous.call(i,i.previous))return!0}return!1}}}function Fa(e){return t;function t(n,i){let r=-1,l;for(;++r<=n.length;)l===void 0?n[r]&&n[r][1].type==="data"&&(l=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==l+2&&(n[l][1].end=n[r-1][1].end,n.splice(l+2,r-l-2),r=l+2),l=void 0);return e?e(n,i):n}}function tu(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],r=t.sliceStream(i);let l=r.length,a=-1,o=0,u;for(;l--;){const c=r[l];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)u=!0,o++;else if(c!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?a:i.start._bufferIndex+a,_index:i.start._index+l,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const nu={42:Me,43:Me,45:Me,48:Me,49:Me,50:Me,51:Me,52:Me,53:Me,54:Me,55:Me,56:Me,57:Me,62:Na},iu={91:oc},ru={[-2]:Rn,[-1]:Rn,32:Rn},au={35:fc,42:pn,45:[gr,pn],60:gc,61:gr,95:pn,96:hr,126:hr},lu={38:Ia,92:Pa},ou={[-5]:Fn,[-4]:Fn,[-3]:Fn,33:Fc,38:Ia,42:ai,60:[Ms,Cc],91:Mc,92:[pc,Pa],93:Ei,95:ai,96:Xs},su={null:[ai,Zc]},cu={null:[42,95]},uu={null:[]},pu=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cu,contentInitial:iu,disable:uu,document:nu,flow:au,flowInitial:ru,insideSpan:su,string:lu,text:ou},Symbol.toStringTag,{value:"Module"}));function du(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},l=[];let a=[],o=[];const u={attempt:B(L),check:B(E),consume:I,enter:S,exit:F,interrupt:B(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:C,events:[],now:b,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:p};let d=t.tokenize.call(c,u);return t.resolveAll&&l.push(t),c;function p(_){return a=He(a,_),A(),a[a.length-1]!==null?[]:(W(t,0),c.events=kn(l,c.events,c),c.events)}function h(_,D){return mu(f(_),D)}function f(_){return fu(a,_)}function b(){const{_bufferIndex:_,_index:D,line:M,column:R,offset:O}=i;return{_bufferIndex:_,_index:D,line:M,column:R,offset:O}}function C(_){r[_.line]=_.column,j()}function A(){let _;for(;i._index<a.length;){const D=a[i._index];if(typeof D=="string")for(_=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===_&&i._bufferIndex<D.length;)w(D.charCodeAt(i._bufferIndex));else w(D)}}function w(_){d=d(_)}function I(_){q(_)?(i.line++,i.column=1,i.offset+=_===-3?2:1,j()):_!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=_}function S(_,D){const M=D||{};return M.type=_,M.start=b(),c.events.push(["enter",M,c]),o.push(M),M}function F(_){const D=o.pop();return D.end=b(),c.events.push(["exit",D,c]),D}function L(_,D){W(_,D.from)}function E(_,D){D.restore()}function B(_,D){return M;function M(R,O,te){let ne,oe,ee,v;return Array.isArray(R)?se(R):"tokenize"in R?se([R]):J(R);function J(K){return fe;function fe(xe){const je=xe!==null&&K[xe],Ce=xe!==null&&K.null,_e=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return se(_e)(xe)}}function se(K){return ne=K,oe=0,K.length===0?te:g(K[oe])}function g(K){return fe;function fe(xe){return v=U(),ee=K,K.partial||(c.currentConstruct=K),K.name&&c.parser.constructs.disable.null.includes(K.name)?ie():K.tokenize.call(D?Object.assign(Object.create(c),D):c,u,H,ie)(xe)}}function H(K){return _(ee,v),O}function ie(K){return v.restore(),++oe<ne.length?g(ne[oe]):te}}}function W(_,D){_.resolveAll&&!l.includes(_)&&l.push(_),_.resolve&&qe(c.events,D,c.events.length-D,_.resolve(c.events.slice(D),c)),_.resolveTo&&(c.events=_.resolveTo(c.events,c))}function U(){const _=b(),D=c.previous,M=c.currentConstruct,R=c.events.length,O=Array.from(o);return{from:R,restore:te};function te(){i=_,c.previous=D,c.currentConstruct=M,c.events.length=R,o=O,j()}}function j(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function fu(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,l=t.end._bufferIndex;let a;if(n===r)a=[e[n].slice(i,l)];else{if(a=e.slice(n,r),i>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(i):a.shift()}l>0&&a.push(e[r].slice(0,l))}return a}function mu(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const l=e[n];let a;if(typeof l=="string")a=l;else switch(l){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&r)continue;a=" ";break}default:a=String.fromCharCode(l)}r=l===-2,i.push(a)}return i.join("")}function hu(e){const i={constructs:Sa([pu,...(e||{}).extensions||[]]),content:r(As),defined:[],document:r(zs),flow:r(Xc),lazy:{},string:r(Jc),text:r(eu)};return i;function r(l){return a;function a(o){return du(i,l,o)}}}function xu(e){for(;!Aa(e););return e}const vr=/[\0\t\n\r]/g;function gu(){let e=1,t="",n=!0,i;return r;function r(l,a,o){const u=[];let c,d,p,h,f;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(a||void 0).decode(l)),p=0,t="",n&&(l.charCodeAt(0)===65279&&p++,n=void 0);p<l.length;){if(vr.lastIndex=p,c=vr.exec(l),h=c&&c.index!==void 0?c.index:l.length,f=l.charCodeAt(h),!c){t=l.slice(p);break}if(f===10&&p===h&&i)u.push(-3),i=void 0;else switch(i&&(u.push(-5),i=void 0),p<h&&(u.push(l.slice(p,h)),e+=h-p),f){case 0:{u.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,u.push(-2);e++<d;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:i=!0,e=1}p=h+1}return o&&(i&&u.push(-5),t&&u.push(t),u.push(null)),u}}const vu=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yu(e){return e.replace(vu,bu)}function bu(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),l=r===120||r===88;return Ea(n.slice(l?2:1),l?16:10)}return Si(n)||e}const _a={}.hasOwnProperty;function wu(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ku(n)(xu(hu(n).document().write(gu()(e,t,!0))))}function ku(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ve),autolinkProtocol:U,autolinkEmail:U,atxHeading:l(Ke),blockQuote:l(Ce),characterEscape:U,characterReference:U,codeFenced:l(_e),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:l(_e,a),codeText:l(De,a),codeTextData:U,data:U,codeFlowValue:U,definition:l(at),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:l(lt),hardBreakEscape:l(Je),hardBreakTrailing:l(Je),htmlFlow:l(Le,a),htmlFlowData:U,htmlText:l(Le,a),htmlTextData:U,image:l(Ye),label:a,link:l(Ve),listItem:l(ot),listItemValue:h,listOrdered:l(Ue,p),listUnordered:l(Ue),paragraph:l(st),reference:g,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:l(Ke),strong:l(et),thematicBreak:l(m)},exit:{atxHeading:u(),atxHeadingSequence:L,autolink:u(),autolinkEmail:je,autolinkProtocol:xe,blockQuote:u(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:K,characterReference:fe,codeFenced:u(A),codeFencedFence:C,codeFencedFenceInfo:f,codeFencedFenceMeta:b,codeFlowValue:j,codeIndented:u(w),codeText:u(O),codeTextData:j,data:j,definition:u(),definitionDestinationString:F,definitionLabelString:I,definitionTitleString:S,emphasis:u(),hardBreakEscape:u(D),hardBreakTrailing:u(D),htmlFlow:u(M),htmlFlowData:j,htmlText:u(R),htmlTextData:j,image:u(ne),label:ee,labelText:oe,lineEnding:_,link:u(te),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:H,resourceDestinationString:v,resourceTitleString:J,resource:se,setextHeading:u(W),setextHeadingLineSequence:B,setextHeadingText:E,strong:u(),thematicBreak:u()}};Ma(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(x){let y={type:"root",children:[]};const P={stack:[y],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:d,data:n},T=[];let $=-1;for(;++$<x.length;)if(x[$][1].type==="listOrdered"||x[$][1].type==="listUnordered")if(x[$][0]==="enter")T.push($);else{const me=T.pop();$=r(x,me,$)}for($=-1;++$<x.length;){const me=t[x[$][0]];_a.call(me,x[$][1].type)&&me[x[$][1].type].call(Object.assign({sliceSerialize:x[$][2].sliceSerialize},P),x[$][1])}if(P.tokenStack.length>0){const me=P.tokenStack[P.tokenStack.length-1];(me[1]||yr).call(P,void 0,me[0])}for(y.position={start:ct(x.length>0?x[0][1].start:{line:1,column:1,offset:0}),end:ct(x.length>0?x[x.length-2][1].end:{line:1,column:1,offset:0})},$=-1;++$<t.transforms.length;)y=t.transforms[$](y)||y;return y}function r(x,y,P){let T=y-1,$=-1,me=!1,Ee,re,Se,ge;for(;++T<=P;){const ve=x[T];switch(ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ve[0]==="enter"?$++:$--,ge=void 0;break}case"lineEndingBlank":{ve[0]==="enter"&&(Ee&&!ge&&!$&&!Se&&(Se=T),ge=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ge=void 0}if(!$&&ve[0]==="enter"&&ve[1].type==="listItemPrefix"||$===-1&&ve[0]==="exit"&&(ve[1].type==="listUnordered"||ve[1].type==="listOrdered")){if(Ee){let Be=T;for(re=void 0;Be--;){const Ne=x[Be];if(Ne[1].type==="lineEnding"||Ne[1].type==="lineEndingBlank"){if(Ne[0]==="exit")continue;re&&(x[re][1].type="lineEndingBlank",me=!0),Ne[1].type="lineEnding",re=Be}else if(!(Ne[1].type==="linePrefix"||Ne[1].type==="blockQuotePrefix"||Ne[1].type==="blockQuotePrefixWhitespace"||Ne[1].type==="blockQuoteMarker"||Ne[1].type==="listItemIndent"))break}Se&&(!re||Se<re)&&(Ee._spread=!0),Ee.end=Object.assign({},re?x[re][1].start:ve[1].end),x.splice(re||T,0,["exit",Ee,ve[2]]),T++,P++}if(ve[1].type==="listItemPrefix"){const Be={type:"listItem",_spread:!1,start:Object.assign({},ve[1].start),end:void 0};Ee=Be,x.splice(T,0,["enter",Be,ve[2]]),T++,P++,Se=void 0,ge=!0}}}return x[y][1]._spread=me,P}function l(x,y){return P;function P(T){o.call(this,x(T),T),y&&y.call(this,T)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(x,y,P){this.stack[this.stack.length-1].children.push(x),this.stack.push(x),this.tokenStack.push([y,P||void 0]),x.position={start:ct(y.start),end:void 0}}function u(x){return y;function y(P){x&&x.call(this,P),c.call(this,P)}}function c(x,y){const P=this.stack.pop(),T=this.tokenStack.pop();if(T)T[0].type!==x.type&&(y?y.call(this,x,T[0]):(T[1]||yr).call(this,x,T[0]));else throw new Error("Cannot close `"+x.type+"` ("+Ut({start:x.start,end:x.end})+"): its not open");P.position.end=ct(x.end)}function d(){return Ci(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(x){if(this.data.expectingFirstListItemValue){const y=this.stack[this.stack.length-2];y.start=Number.parseInt(this.sliceSerialize(x),10),this.data.expectingFirstListItemValue=void 0}}function f(){const x=this.resume(),y=this.stack[this.stack.length-1];y.lang=x}function b(){const x=this.resume(),y=this.stack[this.stack.length-1];y.meta=x}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x.replace(/(\r?\n|\r)$/g,"")}function I(x){const y=this.resume(),P=this.stack[this.stack.length-1];P.label=y,P.identifier=Ge(this.sliceSerialize(x)).toLowerCase()}function S(){const x=this.resume(),y=this.stack[this.stack.length-1];y.title=x}function F(){const x=this.resume(),y=this.stack[this.stack.length-1];y.url=x}function L(x){const y=this.stack[this.stack.length-1];if(!y.depth){const P=this.sliceSerialize(x).length;y.depth=P}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function B(x){const y=this.stack[this.stack.length-1];y.depth=this.sliceSerialize(x).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function U(x){const P=this.stack[this.stack.length-1].children;let T=P[P.length-1];(!T||T.type!=="text")&&(T=k(),T.position={start:ct(x.start),end:void 0},P.push(T)),this.stack.push(T)}function j(x){const y=this.stack.pop();y.value+=this.sliceSerialize(x),y.position.end=ct(x.end)}function _(x){const y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const P=y.children[y.children.length-1];P.position.end=ct(x.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(y.type)&&(U.call(this,x),j.call(this,x))}function D(){this.data.atHardBreak=!0}function M(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x}function R(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x}function O(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x}function te(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const y=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=y,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function ne(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const y=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=y,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function oe(x){const y=this.sliceSerialize(x),P=this.stack[this.stack.length-2];P.label=yu(y),P.identifier=Ge(y).toLowerCase()}function ee(){const x=this.stack[this.stack.length-1],y=this.resume(),P=this.stack[this.stack.length-1];if(this.data.inReference=!0,P.type==="link"){const T=x.children;P.children=T}else P.alt=y}function v(){const x=this.resume(),y=this.stack[this.stack.length-1];y.url=x}function J(){const x=this.resume(),y=this.stack[this.stack.length-1];y.title=x}function se(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function H(x){const y=this.resume(),P=this.stack[this.stack.length-1];P.label=y,P.identifier=Ge(this.sliceSerialize(x)).toLowerCase(),this.data.referenceType="full"}function ie(x){this.data.characterReferenceType=x.type}function K(x){const y=this.sliceSerialize(x),P=this.data.characterReferenceType;let T;P?(T=Ea(y,P==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):T=Si(y);const $=this.stack[this.stack.length-1];$.value+=T}function fe(x){const y=this.stack.pop();y.position.end=ct(x.end)}function xe(x){j.call(this,x);const y=this.stack[this.stack.length-1];y.url=this.sliceSerialize(x)}function je(x){j.call(this,x);const y=this.stack[this.stack.length-1];y.url="mailto:"+this.sliceSerialize(x)}function Ce(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function De(){return{type:"inlineCode",value:""}}function at(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function lt(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:0,children:[]}}function Je(){return{type:"break"}}function Le(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function Ve(){return{type:"link",title:null,url:"",children:[]}}function Ue(x){return{type:"list",ordered:x.type==="listOrdered",start:null,spread:x._spread,children:[]}}function ot(x){return{type:"listItem",spread:x._spread,checked:null,children:[]}}function st(){return{type:"paragraph",children:[]}}function et(){return{type:"strong",children:[]}}function k(){return{type:"text",value:""}}function m(){return{type:"thematicBreak"}}}function ct(e){return{line:e.line,column:e.column,offset:e.offset}}function Ma(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Ma(e,i):ju(e,i)}}function ju(e,t){let n;for(n in t)if(_a.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function yr(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ut({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ut({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ut({start:t.start,end:t.end})+") is still open")}function Cu(e){const t=this;t.parser=n;function n(i){return wu(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Su(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Eu(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Nu(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r=e.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},e.patch(t,r),r}function Pu(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Iu(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Au(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=Rt(i.toLowerCase()),l=e.footnoteOrder.indexOf(i);let a,o=e.footnoteCounts.get(i);o===void 0?(o=0,e.footnoteOrder.push(i),a=e.footnoteOrder.length):a=l+1,o+=1,e.footnoteCounts.set(i,o);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function Du(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zu(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Oa(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),l=r[0];l&&l.type==="text"?l.value="["+l.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=i:r.push({type:"text",value:i}),r}function Tu(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Oa(e,t);const r={src:Rt(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const l={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,l),e.applyData(t,l)}function Ru(e,t){const n={src:Rt(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function Fu(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function _u(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Oa(e,t);const r={href:Rt(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const l={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Mu(e,t){const n={href:Rt(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Ou(e,t,n){const i=e.all(t),r=n?Lu(n):La(t),l={},a=[];if(typeof t.checked=="boolean"){const d=i[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const d=i[o];(r||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?a.push(...d.children):a.push(d)}const u=i[i.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:l,children:a};return e.patch(t,c),e.applyData(t,c)}function Lu(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=La(n[i])}return t}function La(e){const t=e.spread;return t??e.children.length>1}function Bu(e,t){const n={},i=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++r<i.length;){const a=i[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function $u(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qu(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Uu(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Hu(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],a),r.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=bi(t.children[1]),u=va(t.children[t.children.length-1]);o&&u&&(a.position={start:o,end:u}),r.push(a)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function Vu(e,t,n){const i=n?n.children:void 0,l=(i?i.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let u=-1;const c=[];for(;++u<o;){const p=t.children[u],h={},f=a?a[u]:void 0;f&&(h.align=f);let b={type:"element",tagName:l,properties:h,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),c.push(b)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Wu(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const br=9,wr=32;function Gu(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const l=[];for(;i;)l.push(kr(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return l.push(kr(t.slice(r),r>0,!1)),l.join("")}function kr(e,t,n){let i=0,r=e.length;if(t){let l=e.codePointAt(i);for(;l===br||l===wr;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(r-1);for(;l===br||l===wr;)r--,l=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}function Ku(e,t){const n={type:"text",value:Gu(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Yu(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Xu={blockquote:Su,break:Eu,code:Nu,delete:Pu,emphasis:Iu,footnoteReference:Au,heading:Du,html:zu,imageReference:Tu,image:Ru,inlineCode:Fu,linkReference:_u,link:Mu,listItem:Ou,list:Bu,paragraph:$u,root:qu,strong:Uu,table:Hu,tableCell:Wu,tableRow:Vu,text:Ku,thematicBreak:Yu,toml:rn,yaml:rn,definition:rn,footnoteDefinition:rn};function rn(){}const Ba=-1,jn=0,Vt=1,mn=2,Ni=3,Pi=4,Ii=5,Ai=6,$a=7,qa=8,jr=typeof self=="object"?self:globalThis,Qu=(e,t)=>{const n=(r,l)=>(e.set(l,r),r),i=r=>{if(e.has(r))return e.get(r);const[l,a]=t[r];switch(l){case jn:case Ba:return n(a,r);case Vt:{const o=n([],r);for(const u of a)o.push(i(u));return o}case mn:{const o=n({},r);for(const[u,c]of a)o[i(u)]=i(c);return o}case Ni:return n(new Date(a),r);case Pi:{const{source:o,flags:u}=a;return n(new RegExp(o,u),r)}case Ii:{const o=n(new Map,r);for(const[u,c]of a)o.set(i(u),i(c));return o}case Ai:{const o=n(new Set,r);for(const u of a)o.add(i(u));return o}case $a:{const{name:o,message:u}=a;return n(new jr[o](u),r)}case qa:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new jr[l](a),r)};return i},Cr=e=>Qu(new Map,e)(0),Nt="",{toString:Zu}={},{keys:Ju}=Object,$t=e=>{const t=typeof e;if(t!=="object"||!e)return[jn,t];const n=Zu.call(e).slice(8,-1);switch(n){case"Array":return[Vt,Nt];case"Object":return[mn,Nt];case"Date":return[Ni,Nt];case"RegExp":return[Pi,Nt];case"Map":return[Ii,Nt];case"Set":return[Ai,Nt];case"DataView":return[Vt,n]}return n.includes("Array")?[Vt,n]:n.includes("Error")?[$a,n]:[mn,n]},an=([e,t])=>e===jn&&(t==="function"||t==="symbol"),ep=(e,t,n,i)=>{const r=(a,o)=>{const u=i.push(a)-1;return n.set(o,u),u},l=a=>{if(n.has(a))return n.get(a);let[o,u]=$t(a);switch(o){case jn:{let d=a;switch(u){case"bigint":o=qa,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return r([Ba],a)}return r([o,d],a)}case Vt:{if(u){let h=a;return u==="DataView"?h=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(h=new Uint8Array(a)),r([u,[...h]],a)}const d=[],p=r([o,d],a);for(const h of a)d.push(l(h));return p}case mn:{if(u)switch(u){case"BigInt":return r([u,a.toString()],a);case"Boolean":case"Number":case"String":return r([u,a.valueOf()],a)}if(t&&"toJSON"in a)return l(a.toJSON());const d=[],p=r([o,d],a);for(const h of Ju(a))(e||!an($t(a[h])))&&d.push([l(h),l(a[h])]);return p}case Ni:return r([o,a.toISOString()],a);case Pi:{const{source:d,flags:p}=a;return r([o,{source:d,flags:p}],a)}case Ii:{const d=[],p=r([o,d],a);for(const[h,f]of a)(e||!(an($t(h))||an($t(f))))&&d.push([l(h),l(f)]);return p}case Ai:{const d=[],p=r([o,d],a);for(const h of a)(e||!an($t(h)))&&d.push(l(h));return p}}const{message:c}=a;return r([o,{name:u,message:c}],a)};return l},Sr=(e,{json:t,lossy:n}={})=>{const i=[];return ep(!(t||n),!!t,new Map,i)(e),i},hn=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Cr(Sr(e,t)):structuredClone(e):(e,t)=>Cr(Sr(e,t));function tp(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function np(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ip(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||tp,i=e.options.footnoteBackLabel||np,r=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const d=e.all(c),p=String(c.identifier).toUpperCase(),h=Rt(p.toLowerCase());let f=0;const b=[],C=e.footnoteCounts.get(p);for(;C!==void 0&&++f<=C;){b.length>0&&b.push({type:"text",value:" "});let I=typeof n=="string"?n:n(u,f);typeof I=="string"&&(I={type:"text",value:I}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(u,f),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const A=d[d.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const I=A.children[A.children.length-1];I&&I.type==="text"?I.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...b)}else d.push(...b);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,w),o.push(w)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...hn(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Cn=function(e){if(e==null)return op;if(typeof e=="function")return Sn(e);if(typeof e=="object")return Array.isArray(e)?rp(e):ap(e);if(typeof e=="string")return lp(e);throw new Error("Expected function, string, or object as test")};function rp(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Cn(e[n]);return Sn(i);function i(...r){let l=-1;for(;++l<t.length;)if(t[l].apply(this,r))return!0;return!1}}function ap(e){const t=e;return Sn(n);function n(i){const r=i;let l;for(l in e)if(r[l]!==t[l])return!1;return!0}}function lp(e){return Sn(t);function t(n){return n&&n.type===e}}function Sn(e){return t;function t(n,i,r){return!!(sp(n)&&e.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function op(){return!0}function sp(e){return e!==null&&typeof e=="object"&&"type"in e}const Ua=[],cp=!0,li=!1,up="skip";function Ha(e,t,n,i){let r;typeof t=="function"&&typeof n!="function"?(i=n,n=t):r=t;const l=Cn(r),a=i?-1:1;o(e,void 0,[])();function o(u,c,d){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const f=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(u.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=Ua,b,C,A;if((!t||l(u,c,d[d.length-1]||void 0))&&(f=pp(n(u,d)),f[0]===li))return f;if("children"in u&&u.children){const w=u;if(w.children&&f[0]!==up)for(C=(i?w.children.length:-1)+a,A=d.concat(w);C>-1&&C<w.children.length;){const I=w.children[C];if(b=o(I,C,A)(),b[0]===li)return b;C=typeof b[1]=="number"?b[1]:C+a}}return f}}}function pp(e){return Array.isArray(e)?e:typeof e=="number"?[cp,e]:e==null?Ua:[e]}function Di(e,t,n,i){let r,l,a;typeof t=="function"?(l=void 0,a=t,r=n):(l=t,a=n,r=i),Ha(e,l,o,r);function o(u,c){const d=c[c.length-1],p=d?d.children.indexOf(u):void 0;return a(u,p,d)}}const oi={}.hasOwnProperty,dp={};function fp(e,t){const n=t||dp,i=new Map,r=new Map,l=new Map,a={...Xu,...n.handlers},o={all:c,applyData:hp,definitionById:i,footnoteById:r,footnoteCounts:l,footnoteOrder:[],handlers:a,one:u,options:n,patch:mp,wrap:gp};return Di(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?i:r,h=String(d.identifier).toUpperCase();p.has(h)||p.set(h,d)}}),o;function u(d,p){const h=d.type,f=o.handlers[h];if(oi.call(o.handlers,h)&&f)return f(o,d,p);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:C,...A}=d,w=hn(A);return w.children=o.all(d),w}return hn(d)}return(o.options.unknownHandler||xp)(o,d,p)}function c(d){const p=[];if("children"in d){const h=d.children;let f=-1;for(;++f<h.length;){const b=o.one(h[f],d);if(b){if(f&&h[f-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=Er(b.value)),!Array.isArray(b)&&b.type==="element")){const C=b.children[0];C&&C.type==="text"&&(C.value=Er(C.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function mp(e,t){e.position&&(t.position=ns(e))}function hp(e,t){let n=t;if(e&&e.data){const i=e.data.hName,r=e.data.hChildren,l=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const a="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:a}}n.type==="element"&&l&&Object.assign(n.properties,hn(l)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function xp(e,t){const n=t.data||{},i="value"in t&&!(oi.call(n,"hProperties")||oi.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function gp(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Er(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Nr(e,t){const n=fp(e,t),i=n.one(e,void 0),r=ip(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&l.children.push({type:"text",value:`
`},r),l}function vp(e,t){return e&&"run"in e?async function(n,i){const r=Nr(n,{file:i,...t});await e.run(r,i)}:function(n,i){return Nr(n,{file:i,...e||t})}}function Pr(e){if(e)throw e}var _n,Ir;function yp(){if(Ir)return _n;Ir=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},l=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!p)return!1;var h;for(h in c);return typeof h>"u"||e.call(c,h)},a=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},o=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(i)return i(c,d).value}else return;return c[d]};return _n=function u(){var c,d,p,h,f,b,C=arguments[0],A=1,w=arguments.length,I=!1;for(typeof C=="boolean"&&(I=C,C=arguments[1]||{},A=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});A<w;++A)if(c=arguments[A],c!=null)for(d in c)p=o(C,d),h=o(c,d),C!==h&&(I&&h&&(l(h)||(f=r(h)))?(f?(f=!1,b=p&&r(p)?p:[]):b=p&&l(p)?p:{},a(C,{name:d,newValue:u(I,b,h)})):typeof h<"u"&&a(C,{name:d,newValue:h}));return C},_n}var bp=yp();const Mn=bn(bp);function si(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function wp(){const e=[],t={run:n,use:i};return t;function n(...r){let l=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...r);function o(u,...c){const d=e[++l];let p=-1;if(u){a(u);return}for(;++p<r.length;)(c[p]===null||c[p]===void 0)&&(c[p]=r[p]);r=c,d?kp(d,o)(...c):a(null,...c)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function kp(e,t){let n;return i;function i(...a){const o=e.length>a.length;let u;o&&a.push(r);try{u=e.apply(this,a)}catch(c){const d=c;if(o&&n)throw d;return r(d)}o||(u&&u.then&&typeof u.then=="function"?u.then(l,r):u instanceof Error?r(u):l(u))}function r(a,...o){n||(n=!0,t(a,...o))}function l(a){r(null,a)}}const Qe={basename:jp,dirname:Cp,extname:Sp,join:Ep,sep:"/"};function jp(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jt(e);let n=0,i=-1,r=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.codePointAt(r)===47){if(l){n=r+1;break}}else i<0&&(l=!0,i=r+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let a=-1,o=t.length-1;for(;r--;)if(e.codePointAt(r)===47){if(l){n=r+1;break}}else a<0&&(l=!0,a=r+1),o>-1&&(e.codePointAt(r)===t.codePointAt(o--)?o<0&&(i=r):(o=-1,i=a));return n===i?i=a:i<0&&(i=e.length),e.slice(n,i)}function Cp(e){if(Jt(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Sp(e){Jt(e);let t=e.length,n=-1,i=0,r=-1,l=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){i=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?r<0?r=t:l!==1&&(l=1):r>-1&&(l=-1)}return r<0||n<0||l===0||l===1&&r===n-1&&r===i+1?"":e.slice(r,n)}function Ep(...e){let t=-1,n;for(;++t<e.length;)Jt(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Np(n)}function Np(e){Jt(e);const t=e.codePointAt(0)===47;let n=Pp(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Pp(e,t){let n="",i=0,r=-1,l=0,a=-1,o,u;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(r===a-1||l===1))if(r!==a-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",i=0):(n=n.slice(0,u),i=n.length-1-n.lastIndexOf("/")),r=a,l=0;continue}}else if(n.length>0){n="",i=0,r=a,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(r+1,a):n=e.slice(r+1,a),i=a-r-1;r=a,l=0}else o===46&&l>-1?l++:l=-1}return n}function Jt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ip={cwd:Ap};function Ap(){return"/"}function ci(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Dp(e){if(typeof e=="string")e=new URL(e);else if(!ci(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zp(e)}function zp(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const On=["history","path","basename","stem","extname","dirname"];class Va{constructor(t){let n;t?ci(t)?n={path:t}:typeof t=="string"||Tp(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Ip.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<On.length;){const l=On[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let r;for(r in n)On.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Qe.basename(this.path):void 0}set basename(t){Bn(t,"basename"),Ln(t,"basename"),this.path=Qe.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qe.dirname(this.path):void 0}set dirname(t){Ar(this.basename,"dirname"),this.path=Qe.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qe.extname(this.path):void 0}set extname(t){if(Ln(t,"extname"),Ar(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qe.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ci(t)&&(t=Dp(t)),Bn(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qe.basename(this.path,this.extname):void 0}set stem(t){Bn(t,"stem"),Ln(t,"stem"),this.path=Qe.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const r=this.message(t,n,i);throw r.fatal=!0,r}info(t,n,i){const r=this.message(t,n,i);return r.fatal=void 0,r}message(t,n,i){const r=new Ae(t,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ln(e,t){if(e&&e.includes(Qe.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qe.sep+"`")}function Bn(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ar(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Tp(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Rp=function(e){const i=this.constructor.prototype,r=i[e],l=function(){return r.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},Fp={}.hasOwnProperty;class zi extends Rp{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wp()}copy(){const t=new zi;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Mn(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Un("data",this.frozen),this.namespace[t]=n,this):Fp.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Un("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ln(t),i=this.parser||this.Parser;return $n("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),$n("process",this.parser||this.Parser),qn("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(l,a){const o=ln(t),u=i.parse(o);i.run(u,o,function(d,p,h){if(d||!p||!h)return c(d);const f=p,b=i.stringify(f,h);Op(b)?h.value=b:h.result=b,c(d,h)});function c(d,p){d||!p?a(d):l?l(p):n(void 0,p)}}}processSync(t){let n=!1,i;return this.freeze(),$n("processSync",this.parser||this.Parser),qn("processSync",this.compiler||this.Compiler),this.process(t,r),zr("processSync","process",n),i;function r(l,a){n=!0,Pr(l),i=a}}run(t,n,i){Dr(t),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(a,o){const u=ln(n);r.run(t,u,c);function c(d,p,h){const f=p||t;d?o(d):a?a(f):i(void 0,f,h)}}}runSync(t,n){let i=!1,r;return this.run(t,n,l),zr("runSync","run",i),r;function l(a,o){Pr(a),r=o,i=!0}}stringify(t,n){this.freeze();const i=ln(n),r=this.compiler||this.Compiler;return qn("stringify",r),Dr(t),r(t,i)}use(t,...n){const i=this.attachers,r=this.namespace;if(Un("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...p]=c;u(d,p)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(r.settings=Mn(!0,r.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const p=c[d];l(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,d){let p=-1,h=-1;for(;++p<i.length;)if(i[p][0]===c){h=p;break}if(h===-1)i.push([c,...d]);else if(d.length>0){let[f,...b]=d;const C=i[h][1];si(C)&&si(f)&&(f=Mn(!0,C,f)),i[h]=[c,f,...b]}}}}const _p=new zi().freeze();function $n(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function qn(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Un(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Dr(e){if(!si(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function zr(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ln(e){return Mp(e)?e:new Va(e)}function Mp(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Op(e){return typeof e=="string"||Lp(e)}function Lp(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Bp="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Tr=[],Rr={allowDangerousHtml:!0},$p=/^(https?|ircs?|mailto|xmpp)$/i,qp=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Wa(e){const t=Up(e),n=Hp(e);return Vp(t.runSync(t.parse(n),n),e)}function Up(e){const t=e.rehypePlugins||Tr,n=e.remarkPlugins||Tr,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Rr}:Rr;return _p().use(Cu).use(n).use(vp,i).use(t)}function Hp(e){const t=e.children||"",n=new Va;return typeof t=="string"&&(n.value=t),n}function Vp(e,t){const n=t.allowedElements,i=t.allowElement,r=t.components,l=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,u=t.urlTransform||Wp;for(const d of qp)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Bp+d.id,void 0);return Di(e,c),os(e,{Fragment:s.Fragment,components:r,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function c(d,p,h){if(d.type==="raw"&&h&&typeof p=="number")return a?h.children.splice(p,1):h.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let f;for(f in Tn)if(Object.hasOwn(Tn,f)&&Object.hasOwn(d.properties,f)){const b=d.properties[f],C=Tn[f];(C===null||C.includes(d.tagName))&&(d.properties[f]=u(String(b||""),f,d))}}if(d.type==="element"){let f=n?!n.includes(d.tagName):l?l.includes(d.tagName):!1;if(!f&&i&&typeof p=="number"&&(f=!i(d,p,h)),f&&h&&typeof p=="number")return o&&d.children?h.children.splice(p,1,...d.children):h.children.splice(p,1),p}}}function Wp(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),r=e.indexOf("/");return t===-1||r!==-1&&t>r||n!==-1&&t>n||i!==-1&&t>i||$p.test(e.slice(0,t))?e:""}function Fr(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;r!==-1;)i++,r=n.indexOf(t,r+t.length);return i}function Gp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Kp(e,t,n){const r=Cn((n||{}).ignore||[]),l=Yp(t);let a=-1;for(;++a<l.length;)Ha(e,"text",o);function o(c,d){let p=-1,h;for(;++p<d.length;){const f=d[p],b=h?h.children:void 0;if(r(f,b?b.indexOf(f):void 0,h))return;h=f}if(h)return u(c,d)}function u(c,d){const p=d[d.length-1],h=l[a][0],f=l[a][1];let b=0;const A=p.children.indexOf(c);let w=!1,I=[];h.lastIndex=0;let S=h.exec(c.value);for(;S;){const F=S.index,L={index:S.index,input:S.input,stack:[...d,c]};let E=f(...S,L);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?h.lastIndex=F+1:(b!==F&&I.push({type:"text",value:c.value.slice(b,F)}),Array.isArray(E)?I.push(...E):E&&I.push(E),b=F+S[0].length,w=!0),!h.global)break;S=h.exec(c.value)}return w?(b<c.value.length&&I.push({type:"text",value:c.value.slice(b)}),p.children.splice(A,1,...I)):I=[c],A+I.length}}function Yp(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const r=n[i];t.push([Xp(r[0]),Qp(r[1])])}return t}function Xp(e){return typeof e=="string"?new RegExp(Gp(e),"g"):e}function Qp(e){return typeof e=="function"?e:function(){return e}}const Hn="phrasing",Vn=["autolink","link","image","label"];function Zp(){return{transforms:[ad],enter:{literalAutolink:ed,literalAutolinkEmail:Wn,literalAutolinkHttp:Wn,literalAutolinkWww:Wn},exit:{literalAutolink:rd,literalAutolinkEmail:id,literalAutolinkHttp:td,literalAutolinkWww:nd}}}function Jp(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Hn,notInConstruct:Vn},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Hn,notInConstruct:Vn},{character:":",before:"[ps]",after:"\\/",inConstruct:Hn,notInConstruct:Vn}]}}function ed(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wn(e){this.config.enter.autolinkProtocol.call(this,e)}function td(e){this.config.exit.autolinkProtocol.call(this,e)}function nd(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function id(e){this.config.exit.autolinkEmail.call(this,e)}function rd(e){this.exit(e)}function ad(e){Kp(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ld],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),od]],{ignore:["link","linkReference"]})}function ld(e,t,n,i,r){let l="";if(!Ga(r)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!sd(n)))return!1;const a=cd(n+i);if(!a[0])return!1;const o={type:"link",title:null,url:l+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function od(e,t,n,i){return!Ga(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function sd(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function cd(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const r=Fr(e,"(");let l=Fr(e,")");for(;i!==-1&&r>l;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),l++;return[e,n]}function Ga(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||kt(n)||wn(n))&&(!t||n!==47)}Ka.peek=vd;function ud(){this.buffer()}function pd(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function dd(){this.buffer()}function fd(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function md(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ge(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hd(e){this.exit(e)}function xd(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ge(this.sliceSerialize(e)).toLowerCase(),n.label=t}function gd(e){this.exit(e)}function vd(){return"["}function Ka(e,t,n,i){const r=n.createTracker(i);let l=r.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return l+=r.move(n.safe(n.associationId(e),{after:"]",before:l})),o(),a(),l+=r.move("]"),l}function yd(){return{enter:{gfmFootnoteCallString:ud,gfmFootnoteCall:pd,gfmFootnoteDefinitionLabelString:dd,gfmFootnoteDefinition:fd},exit:{gfmFootnoteCallString:md,gfmFootnoteCall:hd,gfmFootnoteDefinitionLabelString:xd,gfmFootnoteDefinition:gd}}}function bd(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Ka},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,l,a){const o=l.createTracker(a);let u=o.move("[^");const c=l.enter("footnoteDefinition"),d=l.enter("label");return u+=o.move(l.safe(l.associationId(i),{before:u,after:"]"})),d(),u+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+l.indentLines(l.containerFlow(i,o.current()),t?Ya:wd))),c(),u}}function wd(e,t,n){return t===0?e:Ya(e,t,n)}function Ya(e,t,n){return(n?"":"    ")+e}const kd=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Xa.peek=Nd;function jd(){return{canContainEols:["delete"],enter:{strikethrough:Sd},exit:{strikethrough:Ed}}}function Cd(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:kd}],handlers:{delete:Xa}}}function Sd(e){this.enter({type:"delete",children:[]},e)}function Ed(e){this.exit(e)}function Xa(e,t,n,i){const r=n.createTracker(i),l=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(e,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),l(),a}function Nd(){return"~"}function Pd(e){return e.length}function Id(e,t){const n=t||{},i=(n.align||[]).concat(),r=n.stringLength||Pd,l=[],a=[],o=[],u=[];let c=0,d=-1;for(;++d<e.length;){const C=[],A=[];let w=-1;for(e[d].length>c&&(c=e[d].length);++w<e[d].length;){const I=Ad(e[d][w]);if(n.alignDelimiters!==!1){const S=r(I);A[w]=S,(u[w]===void 0||S>u[w])&&(u[w]=S)}C.push(I)}a[d]=C,o[d]=A}let p=-1;if(typeof i=="object"&&"length"in i)for(;++p<c;)l[p]=_r(i[p]);else{const C=_r(i);for(;++p<c;)l[p]=C}p=-1;const h=[],f=[];for(;++p<c;){const C=l[p];let A="",w="";C===99?(A=":",w=":"):C===108?A=":":C===114&&(w=":");let I=n.alignDelimiters===!1?1:Math.max(1,u[p]-A.length-w.length);const S=A+"-".repeat(I)+w;n.alignDelimiters!==!1&&(I=A.length+I+w.length,I>u[p]&&(u[p]=I),f[p]=I),h[p]=S}a.splice(1,0,h),o.splice(1,0,f),d=-1;const b=[];for(;++d<a.length;){const C=a[d],A=o[d];p=-1;const w=[];for(;++p<c;){const I=C[p]||"";let S="",F="";if(n.alignDelimiters!==!1){const L=u[p]-(A[p]||0),E=l[p];E===114?S=" ".repeat(L):E===99?L%2?(S=" ".repeat(L/2+.5),F=" ".repeat(L/2-.5)):(S=" ".repeat(L/2),F=S):F=" ".repeat(L)}n.delimiterStart!==!1&&!p&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||p)&&w.push(" "),n.alignDelimiters!==!1&&w.push(S),w.push(I),n.alignDelimiters!==!1&&w.push(F),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&w.push("|")}b.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return b.join(`
`)}function Ad(e){return e==null?"":String(e)}function _r(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Dd(e,t,n,i){const r=n.enter("blockquote"),l=n.createTracker(i);l.move("> "),l.shift(2);const a=n.indentLines(n.containerFlow(e,l.current()),zd);return r(),a}function zd(e,t,n){return">"+(n?"":" ")+e}function Td(e,t){return Mr(e,t.inConstruct,!0)&&!Mr(e,t.notInConstruct,!1)}function Mr(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Or(e,t,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&Td(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function Rd(e,t){const n=String(e);let i=n.indexOf(t),r=i,l=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++l>a&&(a=l):l=1,r=i+t.length,i=n.indexOf(t,r);return a}function Fd(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function _d(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Md(e,t,n,i){const r=_d(n),l=e.value||"",a=r==="`"?"GraveAccent":"Tilde";if(Fd(e,n)){const p=n.enter("codeIndented"),h=n.indentLines(l,Od);return p(),h}const o=n.createTracker(i),u=r.repeat(Math.max(Rd(l,r)+1,3)),c=n.enter("codeFenced");let d=o.move(u);if(e.lang){const p=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),p()}return d+=o.move(`
`),l&&(d+=o.move(l+`
`)),d+=o.move(u),c(),d}function Od(e,t,n){return(n?"":"    ")+e}function Ti(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Ld(e,t,n,i){const r=Ti(n),l=r==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const u=n.createTracker(i);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(o=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),o(),e.title&&(o=n.enter(`title${l}`),c+=u.move(" "+r),c+=u.move(n.safe(e.title,{before:c,after:r,...u.current()})),c+=u.move(r),o()),a(),c}function Bd(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Yt(e){return"&#x"+e.toString(16).toUpperCase()+";"}function xn(e,t,n){const i=Dt(e),r=Dt(t);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Qa.peek=$d;function Qa(e,t,n,i){const r=Bd(n),l=n.enter("emphasis"),a=n.createTracker(i),o=a.move(r);let u=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const c=u.charCodeAt(0),d=xn(i.before.charCodeAt(i.before.length-1),c,r);d.inside&&(u=Yt(c)+u.slice(1));const p=u.charCodeAt(u.length-1),h=xn(i.after.charCodeAt(0),p,r);h.inside&&(u=u.slice(0,-1)+Yt(p));const f=a.move(r);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+u+f}function $d(e,t,n){return n.options.emphasis||"*"}function qd(e,t){let n=!1;return Di(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,li}),!!((!e.depth||e.depth<3)&&Ci(e)&&(t.options.setext||n))}function Ud(e,t,n,i){const r=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(i);if(qd(e,n)){const d=n.enter("headingSetext"),p=n.enter("phrasing"),h=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return p(),d(),h+`
`+(r===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(r),o=n.enter("headingAtx"),u=n.enter("phrasing");l.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(c)&&(c=Yt(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),u(),o(),c}Za.peek=Hd;function Za(e){return e.value||""}function Hd(){return"<"}Ja.peek=Vd;function Ja(e,t,n,i){const r=Ti(n),l=r==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const u=n.createTracker(i);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(o=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),o(),e.title&&(o=n.enter(`title${l}`),c+=u.move(" "+r),c+=u.move(n.safe(e.title,{before:c,after:r,...u.current()})),c+=u.move(r),o()),c+=u.move(")"),a(),c}function Vd(){return"!"}el.peek=Wd;function el(e,t,n,i){const r=e.referenceType,l=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(i);let u=o.move("![");const c=n.safe(e.alt,{before:u,after:"]",...o.current()});u+=o.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return a(),n.stack=d,l(),r==="full"||!c||c!==p?u+=o.move(p+"]"):r==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Wd(){return"!"}tl.peek=Gd;function tl(e,t,n){let i=e.value||"",r="`",l=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++l<n.unsafe.length;){const a=n.unsafe[l],o=n.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(i);){let c=u.index;i.charCodeAt(c)===10&&i.charCodeAt(c-1)===13&&c--,i=i.slice(0,c)+" "+i.slice(u.index+1)}}return r+i+r}function Gd(){return"`"}function nl(e,t){const n=Ci(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}il.peek=Kd;function il(e,t,n,i){const r=Ti(n),l=r==='"'?"Quote":"Apostrophe",a=n.createTracker(i);let o,u;if(nl(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),o(),n.stack=d,p}o=n.enter("link"),u=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(u=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=n.enter(`title${l}`),c+=a.move(" "+r),c+=a.move(n.safe(e.title,{before:c,after:r,...a.current()})),c+=a.move(r),u()),c+=a.move(")"),o(),c}function Kd(e,t,n){return nl(e,n)?"<":"["}rl.peek=Yd;function rl(e,t,n,i){const r=e.referenceType,l=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(i);let u=o.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...o.current()});u+=o.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return a(),n.stack=d,l(),r==="full"||!c||c!==p?u+=o.move(p+"]"):r==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Yd(){return"["}function Ri(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Xd(e){const t=Ri(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Qd(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function al(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Zd(e,t,n,i){const r=n.enter("list"),l=n.bulletCurrent;let a=e.ordered?Qd(n):Ri(n);const o=e.ordered?a==="."?")":".":Xd(n);let u=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),al(n)===a&&d){let p=-1;for(;++p<e.children.length;){const h=e.children[p];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),n.bulletCurrent=a;const c=n.containerFlow(e,i);return n.bulletLastUsed=a,n.bulletCurrent=l,r(),c}function Jd(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ef(e,t,n,i){const r=Jd(n);let l=n.bulletCurrent||Ri(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let a=l.length+1;(r==="tab"||r==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(i);o.move(l+" ".repeat(a-l.length)),o.shift(a);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return u(),c;function d(p,h,f){return h?(f?"":" ".repeat(a))+p:(f?l:l+" ".repeat(a-l.length))+p}}function tf(e,t,n,i){const r=n.enter("paragraph"),l=n.enter("phrasing"),a=n.containerPhrasing(e,i);return l(),r(),a}const nf=Cn(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function rf(e,t,n,i){return(e.children.some(function(a){return nf(a)})?n.containerPhrasing:n.containerFlow).call(n,e,i)}function af(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ll.peek=lf;function ll(e,t,n,i){const r=af(n),l=n.enter("strong"),a=n.createTracker(i),o=a.move(r+r);let u=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const c=u.charCodeAt(0),d=xn(i.before.charCodeAt(i.before.length-1),c,r);d.inside&&(u=Yt(c)+u.slice(1));const p=u.charCodeAt(u.length-1),h=xn(i.after.charCodeAt(0),p,r);h.inside&&(u=u.slice(0,-1)+Yt(p));const f=a.move(r+r);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+u+f}function lf(e,t,n){return n.options.strong||"*"}function of(e,t,n,i){return n.safe(e.value,i)}function sf(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function cf(e,t,n){const i=(al(n)+(n.options.ruleSpaces?" ":"")).repeat(sf(n));return n.options.ruleSpaces?i.slice(0,-1):i}const ol={blockquote:Dd,break:Or,code:Md,definition:Ld,emphasis:Qa,hardBreak:Or,heading:Ud,html:Za,image:Ja,imageReference:el,inlineCode:tl,link:il,linkReference:rl,list:Zd,listItem:ef,paragraph:tf,root:rf,strong:ll,text:of,thematicBreak:cf};function uf(){return{enter:{table:pf,tableData:Lr,tableHeader:Lr,tableRow:ff},exit:{codeText:mf,table:df,tableData:Gn,tableHeader:Gn,tableRow:Gn}}}function pf(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function df(e){this.exit(e),this.data.inTable=void 0}function ff(e){this.enter({type:"tableRow",children:[]},e)}function Gn(e){this.exit(e)}function Lr(e){this.enter({type:"tableCell",children:[]},e)}function mf(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,hf));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function hf(e,t){return t==="|"?t:e}function xf(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:u,tableRow:o}};function a(f,b,C,A){return c(d(f,C,A),f.align)}function o(f,b,C,A){const w=p(f,C,A),I=c([w]);return I.slice(0,I.indexOf(`
`))}function u(f,b,C,A){const w=C.enter("tableCell"),I=C.enter("phrasing"),S=C.containerPhrasing(f,{...A,before:l,after:l});return I(),w(),S}function c(f,b){return Id(f,{align:b,alignDelimiters:i,padding:n,stringLength:r})}function d(f,b,C){const A=f.children;let w=-1;const I=[],S=b.enter("table");for(;++w<A.length;)I[w]=p(A[w],b,C);return S(),I}function p(f,b,C){const A=f.children;let w=-1;const I=[],S=b.enter("tableRow");for(;++w<A.length;)I[w]=u(A[w],f,b,C);return S(),I}function h(f,b,C){let A=ol.inlineCode(f,b,C);return C.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}function gf(){return{exit:{taskListCheckValueChecked:Br,taskListCheckValueUnchecked:Br,paragraph:yf}}}function vf(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:bf}}}function Br(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function yf(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=t.children;let l=-1,a;for(;++l<r.length;){const o=r[l];if(o.type==="paragraph"){a=o;break}}a===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function bf(e,t,n,i){const r=e.children[0],l=typeof e.checked=="boolean"&&r&&r.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(i);l&&o.move(a);let u=ol.listItem(e,t,n,{...i,...o.current()});return l&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(d){return d+a}}function wf(){return[Zp(),yd(),jd(),uf(),gf()]}function kf(e){return{extensions:[Jp(),bd(e),Cd(),xf(e),vf()]}}const jf={tokenize:If,partial:!0},sl={tokenize:Af,partial:!0},cl={tokenize:Df,partial:!0},ul={tokenize:zf,partial:!0},Cf={tokenize:Tf,partial:!0},pl={name:"wwwAutolink",tokenize:Nf,previous:fl},dl={name:"protocolAutolink",tokenize:Pf,previous:ml},rt={name:"emailAutolink",tokenize:Ef,previous:hl},Ze={};function Sf(){return{text:Ze}}let ft=48;for(;ft<123;)Ze[ft]=rt,ft++,ft===58?ft=65:ft===91&&(ft=97);Ze[43]=rt;Ze[45]=rt;Ze[46]=rt;Ze[95]=rt;Ze[72]=[rt,dl];Ze[104]=[rt,dl];Ze[87]=[rt,pl];Ze[119]=[rt,pl];function Ef(e,t,n){const i=this;let r,l;return a;function a(p){return!ui(p)||!hl.call(i,i.previous)||Fi(i.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(p))}function o(p){return ui(p)?(e.consume(p),o):p===64?(e.consume(p),u):n(p)}function u(p){return p===46?e.check(Cf,d,c)(p):p===45||p===95||Ie(p)?(l=!0,e.consume(p),u):d(p)}function c(p){return e.consume(p),r=!0,u}function d(p){return l&&r&&Re(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function Nf(e,t,n){const i=this;return r;function r(a){return a!==87&&a!==119||!fl.call(i,i.previous)||Fi(i.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(jf,e.attempt(sl,e.attempt(cl,l),n),n)(a))}function l(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Pf(e,t,n){const i=this;let r="",l=!1;return a;function a(p){return(p===72||p===104)&&ml.call(i,i.previous)&&!Fi(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(p),e.consume(p),o):n(p)}function o(p){if(Re(p)&&r.length<5)return r+=String.fromCodePoint(p),e.consume(p),o;if(p===58){const h=r.toLowerCase();if(h==="http"||h==="https")return e.consume(p),u}return n(p)}function u(p){return p===47?(e.consume(p),l?c:(l=!0,u)):n(p)}function c(p){return p===null||fn(p)||le(p)||kt(p)||wn(p)?n(p):e.attempt(sl,e.attempt(cl,d),n)(p)}function d(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function If(e,t,n){let i=0;return r;function r(a){return(a===87||a===119)&&i<3?(i++,e.consume(a),r):a===46&&i===3?(e.consume(a),l):n(a)}function l(a){return a===null?n(a):t(a)}}function Af(e,t,n){let i,r,l;return a;function a(c){return c===46||c===95?e.check(ul,u,o)(c):c===null||le(c)||kt(c)||c!==45&&wn(c)?u(c):(l=!0,e.consume(c),a)}function o(c){return c===95?i=!0:(r=i,i=void 0),e.consume(c),a}function u(c){return r||i||!l?n(c):t(c)}}function Df(e,t){let n=0,i=0;return r;function r(a){return a===40?(n++,e.consume(a),r):a===41&&i<n?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(ul,t,l)(a):a===null||le(a)||kt(a)?t(a):(e.consume(a),r)}function l(a){return a===41&&i++,e.consume(a),r}}function zf(e,t,n){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),i):o===38?(e.consume(o),l):o===93?(e.consume(o),r):o===60||o===null||le(o)||kt(o)?t(o):n(o)}function r(o){return o===null||o===40||o===91||le(o)||kt(o)?t(o):i(o)}function l(o){return Re(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),i):Re(o)?(e.consume(o),a):n(o)}}function Tf(e,t,n){return i;function i(l){return e.consume(l),r}function r(l){return Ie(l)?n(l):t(l)}}function fl(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||le(e)}function ml(e){return!Re(e)}function hl(e){return!(e===47||ui(e))}function ui(e){return e===43||e===45||e===46||e===95||Ie(e)}function Fi(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Rf={tokenize:qf,partial:!0};function Ff(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Lf,continuation:{tokenize:Bf},exit:$f}},text:{91:{name:"gfmFootnoteCall",tokenize:Of},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:_f,resolveTo:Mf}}}}function _f(e,t,n){const i=this;let r=i.events.length;const l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const u=i.events[r][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return n(u);const c=Ge(i.sliceSerialize({start:a.end,end:i.now()}));return c.codePointAt(0)!==94||!l.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function Mf(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},o=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",l,t],["enter",a,t],["exit",a,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...o),e}function Of(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l=0,a;return o;function o(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(l>999||p===93&&!a||p===null||p===91||le(p))return n(p);if(p===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return r.includes(Ge(i.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return le(p)||(a=!0),l++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),l++,c):c(p)}}function Lf(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,a=0,o;return u;function u(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(b)}function d(b){if(a>999||b===93&&!o||b===null||b===91||le(b))return n(b);if(b===93){e.exit("chunkString");const C=e.exit("gfmFootnoteDefinitionLabelString");return l=Ge(i.sliceSerialize(C)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return le(b)||(o=!0),a++,e.consume(b),b===92?p:d}function p(b){return b===91||b===92||b===93?(e.consume(b),a++,d):d(b)}function h(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),r.includes(l)||r.push(l),Z(e,f,"gfmFootnoteDefinitionWhitespace")):n(b)}function f(b){return t(b)}}function Bf(e,t,n){return e.check(Zt,t,e.attempt(Rf,t,n))}function $f(e){e.exit("gfmFootnoteDefinition")}function qf(e,t,n){const i=this;return Z(e,r,"gfmFootnoteDefinitionIndent",5);function r(l){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(l):n(l)}}function Uf(e){let n=(e||{}).singleTilde;const i={name:"strikethrough",tokenize:l,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let c=u;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[u][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[u][1].end)},p={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[u][1].start)},h=[["enter",d,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",p,o]],f=o.parser.constructs.insideSpan.null;f&&qe(h,h.length,0,kn(f,a.slice(c+1,u),o)),qe(h,h.length,0,[["exit",p,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",d,o]]),qe(a,c-1,u-c+3,h),u=c+h.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function l(a,o,u){const c=this.previous,d=this.events;let p=0;return h;function h(b){return c===126&&d[d.length-1][1].type!=="characterEscape"?u(b):(a.enter("strikethroughSequenceTemporary"),f(b))}function f(b){const C=Dt(c);if(b===126)return p>1?u(b):(a.consume(b),p++,f);if(p<2&&!n)return u(b);const A=a.exit("strikethroughSequenceTemporary"),w=Dt(b);return A._open=!w||w===2&&!!C,A._close=!C||C===2&&!!w,o(b)}}}class Hf{constructor(){this.map=[]}add(t,n,i){Vf(this,t,n,i)}consume(t){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];i.push(t.slice()),t.length=0;let r=i.pop();for(;r;){for(const l of r)t.push(l);r=i.pop()}this.map.length=0}}function Vf(e,t,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<e.map.length;){if(e.map[r][0]===t){e.map[r][1]+=n,e.map[r][2].push(...i);return}r+=1}e.map.push([t,n,i])}}function Wf(e,t){let n=!1;const i=[];for(;t<e.length;){const r=e[t];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=i.length-1;i[l]=i[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return i}function Gf(){return{flow:{null:{name:"table",tokenize:Kf,resolveAll:Yf}}}}function Kf(e,t,n){const i=this;let r=0,l=0,a;return o;function o(j){let _=i.events.length-1;for(;_>-1;){const R=i.events[_][1].type;if(R==="lineEnding"||R==="linePrefix")_--;else break}const D=_>-1?i.events[_][1].type:null,M=D==="tableHead"||D==="tableRow"?E:u;return M===E&&i.parser.lazy[i.now().line]?n(j):M(j)}function u(j){return e.enter("tableHead"),e.enter("tableRow"),c(j)}function c(j){return j===124||(a=!0,l+=1),d(j)}function d(j){return j===null?n(j):q(j)?l>1?(l=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),f):n(j):X(j)?Z(e,d,"whitespace")(j):(l+=1,a&&(a=!1,r+=1),j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),p(j)))}function p(j){return j===null||j===124||le(j)?(e.exit("data"),d(j)):(e.consume(j),j===92?h:p)}function h(j){return j===92||j===124?(e.consume(j),p):p(j)}function f(j){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(j):(e.enter("tableDelimiterRow"),a=!1,X(j)?Z(e,b,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):b(j))}function b(j){return j===45||j===58?A(j):j===124?(a=!0,e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),C):L(j)}function C(j){return X(j)?Z(e,A,"whitespace")(j):A(j)}function A(j){return j===58?(l+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),w):j===45?(l+=1,w(j)):j===null||q(j)?F(j):L(j)}function w(j){return j===45?(e.enter("tableDelimiterFiller"),I(j)):L(j)}function I(j){return j===45?(e.consume(j),I):j===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(j))}function S(j){return X(j)?Z(e,F,"whitespace")(j):F(j)}function F(j){return j===124?b(j):j===null||q(j)?!a||r!==l?L(j):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(j)):L(j)}function L(j){return n(j)}function E(j){return e.enter("tableRow"),B(j)}function B(j){return j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),B):j===null||q(j)?(e.exit("tableRow"),t(j)):X(j)?Z(e,B,"whitespace")(j):(e.enter("data"),W(j))}function W(j){return j===null||j===124||le(j)?(e.exit("data"),B(j)):(e.consume(j),j===92?U:W)}function U(j){return j===92||j===124?(e.consume(j),W):W(j)}}function Yf(e,t){let n=-1,i=!0,r=0,l=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,c,d,p;const h=new Hf;for(;++n<e.length;){const f=e[n],b=f[1];f[0]==="enter"?b.type==="tableHead"?(o=!1,u!==0&&($r(h,t,u,c,d),d=void 0,u=0),c={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},h.add(n,0,[["enter",c,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(i=!0,p=void 0,l=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},h.add(n,0,[["enter",d,t]])),r=b.type==="tableDelimiterRow"?2:d?3:1):r&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],p=on(h,t,l,r,void 0,p),l=[0,0,0,0]),a[2]=n)):b.type==="tableCellDivider"&&(i?i=!1:(l[1]!==0&&(a[0]=a[1],p=on(h,t,l,r,void 0,p)),l=a,a=[l[1],n,0,0])):b.type==="tableHead"?(o=!0,u=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(u=n,l[1]!==0?(a[0]=a[1],p=on(h,t,l,r,n,p)):a[1]!==0&&(p=on(h,t,a,r,n,p)),r=0):r&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&$r(h,t,u,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=Wf(t.events,n))}return e}function on(e,t,n,i,r,l){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(l.end=Object.assign({},Pt(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const u=Pt(t.events,n[1]);if(l={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const c=Pt(t.events,n[2]),d=Pt(t.events,n[3]),p={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",p,t]]),i!==2){const h=t.events[n[2]],f=t.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,C=n[3]-n[2]-1;e.add(b,C,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return r!==void 0&&(l.end=Object.assign({},Pt(t.events,r)),e.add(r,0,[["exit",l,t]]),l=void 0),l}function $r(e,t,n,i,r){const l=[],a=Pt(t.events,n);r&&(r.end=Object.assign({},a),l.push(["exit",r,t])),i.end=Object.assign({},a),l.push(["exit",i,t]),e.add(n+1,0,l)}function Pt(e,t){const n=e[t],i=n[0]==="enter"?"start":"end";return n[1][i]}const Xf={name:"tasklistCheck",tokenize:Zf};function Qf(){return{text:{91:Xf}}}function Zf(e,t,n){const i=this;return r;function r(u){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),l)}function l(u){return le(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(u)}function o(u){return q(u)?t(u):X(u)?e.check({tokenize:Jf},t,n)(u):n(u)}}function Jf(e,t,n){return Z(e,i,"whitespace");function i(r){return r===null?n(r):t(r)}}function em(e){return Sa([Sf(),Ff(),Uf(e),Gf(),Qf()])}const tm={};function xl(e){const t=this,n=e||tm,i=t.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),l=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(em(n)),l.push(wf()),a.push(kf(n))}var _i="ContextMenu",[nm,tx]=Ol(_i,[sa]),Fe=sa(),[im,gl]=nm(_i),vl=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:i,dir:r,modal:l=!0}=e,[a,o]=N.useState(!1),u=Fe(t),c=Ml(i),d=N.useCallback(p=>{o(p),c(p)},[c]);return s.jsx(im,{scope:t,open:a,onOpenChange:d,modal:l,children:s.jsx(Ll,{...u,dir:r,open:a,onOpenChange:d,modal:l,children:n})})};vl.displayName=_i;var yl="ContextMenuTrigger",bl=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:i=!1,...r}=e,l=gl(yl,n),a=Fe(n),o=N.useRef({x:0,y:0}),u=N.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...o.current})}),c=N.useRef(0),d=N.useCallback(()=>window.clearTimeout(c.current),[]),p=h=>{o.current={x:h.clientX,y:h.clientY},l.onOpenChange(!0)};return N.useEffect(()=>d,[d]),N.useEffect(()=>void(i&&d()),[i,d]),s.jsxs(s.Fragment,{children:[s.jsx(Bl,{...a,virtualRef:u}),s.jsx($l.span,{"data-state":l.open?"open":"closed","data-disabled":i?"":void 0,...r,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:i?e.onContextMenu:_t(e.onContextMenu,h=>{d(),p(h),h.preventDefault()}),onPointerDown:i?e.onPointerDown:_t(e.onPointerDown,sn(h=>{d(),c.current=window.setTimeout(()=>p(h),700)})),onPointerMove:i?e.onPointerMove:_t(e.onPointerMove,sn(d)),onPointerCancel:i?e.onPointerCancel:_t(e.onPointerCancel,sn(d)),onPointerUp:i?e.onPointerUp:_t(e.onPointerUp,sn(d))})]})});bl.displayName=yl;var rm="ContextMenuPortal",wl=e=>{const{__scopeContextMenu:t,...n}=e,i=Fe(t);return s.jsx(ql,{...i,...n})};wl.displayName=rm;var kl="ContextMenuContent",jl=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=gl(kl,n),l=Fe(n),a=N.useRef(!1);return s.jsx(Ul,{...l,...i,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:o=>{var u;(u=e.onCloseAutoFocus)==null||u.call(e,o),!o.defaultPrevented&&a.current&&o.preventDefault(),a.current=!1},onInteractOutside:o=>{var u;(u=e.onInteractOutside)==null||u.call(e,o),!o.defaultPrevented&&!r.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jl.displayName=kl;var am="ContextMenuGroup",lm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Vl,{...r,...i,ref:t})});lm.displayName=am;var om="ContextMenuLabel",sm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Wl,{...r,...i,ref:t})});sm.displayName=om;var cm="ContextMenuItem",Cl=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Hl,{...r,...i,ref:t})});Cl.displayName=cm;var um="ContextMenuCheckboxItem",pm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Gl,{...r,...i,ref:t})});pm.displayName=um;var dm="ContextMenuRadioGroup",fm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Kl,{...r,...i,ref:t})});fm.displayName=dm;var mm="ContextMenuRadioItem",hm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Yl,{...r,...i,ref:t})});hm.displayName=mm;var xm="ContextMenuItemIndicator",gm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Xl,{...r,...i,ref:t})});gm.displayName=xm;var vm="ContextMenuSeparator",ym=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Ql,{...r,...i,ref:t})});ym.displayName=vm;var bm="ContextMenuArrow",wm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Zl,{...r,...i,ref:t})});wm.displayName=bm;var km="ContextMenuSubTrigger",jm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(Jl,{...r,...i,ref:t})});jm.displayName=km;var Cm="ContextMenuSubContent",Sm=N.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=Fe(n);return s.jsx(eo,{...r,...i,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Sm.displayName=Cm;function sn(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var Em=vl,Nm=bl,Pm=wl,Im=jl,Am=Cl;function Dm({...e}){return s.jsx(Em,{"data-slot":"context-menu",...e})}function zm({...e}){return s.jsx(Nm,{"data-slot":"context-menu-trigger",...e})}function Tm({className:e,...t}){return s.jsx(Pm,{children:s.jsx(Im,{"data-slot":"context-menu-content",className:Pe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),...t})})}function qr({className:e,inset:t,variant:n="default",...i}){return s.jsx(Am,{"data-slot":"context-menu-item","data-inset":t,"data-variant":n,className:Pe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}const Ur=Wt.memo(({content:e})=>/[*_~`#>|\[\]()]/.test(e)?s.jsx(Wa,{remarkPlugins:[xl],children:e}):s.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e})),Rm=({messages:e,onSendMessage:t,onEditMessage:n,apiKey:i,selectedModel:r,onModelChange:l,isProcessing:a,handleFileUpload:o})=>{const[u,c]=N.useState(""),[d,p]=N.useState(!1),[h,f]=N.useState(""),[b,C]=N.useState(r);N.useEffect(()=>{d&&(f(u),C(r))},[d,r]);const A=()=>{c(h),l(b),p(!1)},[w,I]=N.useState([]),[S,F]=N.useState([]),[L,E]=N.useState(null),[B,W]=N.useState(null),[U,j]=N.useState(null),[_,D]=N.useState(1),[M,R]=N.useState(!1),[O,te]=N.useState({x:0,y:0}),[ne,oe]=N.useState({x:0,y:0}),ee=N.useRef(null),v=N.useRef(null),J=N.useRef(null),se=N.useRef(null),g=N.useRef(null),H=N.useRef(null),ie=m=>{const y=Array.from(m.target.files||[]).filter(T=>T.type.startsWith("image/"));if((y==null?void 0:y.length)===0)return;const P=y.map(T=>URL.createObjectURL(T));I(T=>[...T,...y]),F(T=>[...T,...P])},K=m=>{I(x=>x.filter((y,P)=>P!==m)),URL.revokeObjectURL(S[m]),F(x=>x.filter((y,P)=>P!==m))},fe=m=>{E(m)},xe=(m,x)=>{m.preventDefault(),m.dataTransfer.dropEffect="move",W(x)},je=()=>{E(null),W(null)},Ce=(m,x)=>{if(m.preventDefault(),L===null||L===x){E(null),W(null);return}const y=[...w],P=[...S],T=y[L],$=P[L];y.splice(L,1),P.splice(L,1),y.splice(x,0,T),P.splice(x,0,$),I(y),F(P),E(null),W(null)},_e=()=>{I([]),S.forEach(m=>URL.revokeObjectURL(m)),F([]),J.current&&(J.current.value="")},De=async()=>{const m=u.trim();!m&&(w==null?void 0:w.length)===0||!i||((w==null?void 0:w.length)>0?t(m,[...w]):t(m),c(""),I([]),F([]),J.current&&(J.current.value=""))},at=m=>{(m.key==="Enter"&&!m.shiftKey||m.key==="Enter"&&m.ctrlKey)&&(m.preventDefault(),De())},lt=m=>{const x=m.clipboardData.items,y=Array.from(x).filter(P=>P.type.startsWith("image/"));if((y==null?void 0:y.length)>0){const P=y.map($=>$.getAsFile()),T=P.map($=>URL.createObjectURL($));I($=>[...$,...P]),F($=>[...$,...T])}};N.useEffect(()=>{g.current&&(g.current.style.height="auto",g.current.style.height=`${g.current.scrollHeight}px`)},[u]);const Ke=m=>{var P;const x=typeof m.content=="string"?m.content:((P=m.content)==null?void 0:P.content)||"";if(x.trim()==="")return;const y=e.findIndex(T=>T.id===m.id);if(y!==-1){const T=[...e];T[y].isEditing=!1,n(m.id,x)}},Je=()=>{var m,x;if((x=(m=J.current)==null?void 0:m.files)!=null&&x.length){const y=Array.from(J.current.files);o(y),J.current&&(J.current.value="")}};N.useEffect(()=>()=>{S.forEach(m=>URL.revokeObjectURL(m))},[]);const Le=()=>{j(null),D(1),oe({x:0,y:0})},Ye=()=>D(m=>Math.min(m+.5,5)),Ve=()=>D(m=>Math.max(m-.5,.5)),Ue=()=>D(1),ot=m=>{_<=1||(R(!0),te({x:m.clientX,y:m.clientY}))},st=m=>{if(!M||_<=1)return;const x=m.clientX-O.x,y=m.clientY-O.y;oe(P=>({x:P.x+x,y:P.y+y})),te({x:m.clientX,y:m.clientY})},et=()=>{R(!1)};N.useEffect(()=>{_<=1&&oe({x:0,y:0})},[_]),N.useEffect(()=>{k()},[e]),N.useEffect(()=>{k()},[e]);const k=()=>{H.current&&requestAnimationFrame(()=>{H.current&&(H.current.scrollTop=H.current.scrollHeight)})};return s.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-background rounded-md border relative transition-transform duration-200",style:{},children:[s.jsx(dn,{className:"min-h-[70vh] p-4 pb-[140px]",ref:H,children:s.jsxs("div",{className:"space-y-4",children:[e.map((m,x)=>{var y,P,T,$,me,Ee,re,Se,ge,ve,Be,Ne;return s.jsx("div",{className:Pe("flex animate-in fade-in-0 slide-in-from-bottom-4 duration-300 ease-in-out",m.role==="user"?"justify-end":"justify-start"),style:{animationDelay:`${x*50}ms`},children:s.jsx("div",{className:Pe("flex flex-col",m.role==="user"?"items-end ml-auto":"items-start mr-auto","max-w-[85%] w-auto"),children:m.role==="user"&&!m.isProcessing&&!m.isEditing?s.jsxs(Dm,{children:[s.jsx(zm,{asChild:!0,children:s.jsxs("div",{children:[s.jsx(qt,{className:Pe("p-3 shadow-sm group hover:shadow-md transition-shadow duration-200",m.role==="user"?"bg-muted/5":"bg-muted"),style:{wordBreak:"break-word",width:"100%"},children:m.isEditing?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(tn,{value:typeof m.content=="string"?m.content:((y=m.content)==null?void 0:y.content)||"",onChange:Q=>{const V=[...e],ue=V.findIndex(he=>he.id===m.id);ue!==-1&&(V[ue].content=Q.target.value,n(m.id,Q.target.value))},className:"min-h-[60px] bg-background/50",autoFocus:!0}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>{var ue,he;const Q=[...e],V=Q.findIndex(ke=>ke.id===m.id);if(V!==-1){m.originalContent&&(Q[V].content=m.originalContent),Q[V].isEditing=!1;const ke=typeof m.originalContent=="string"?m.originalContent:((ue=m.originalContent)==null?void 0:ue.content)||"",pe=typeof m.content=="string"?m.content:((he=m.content)==null?void 0:he.content)||"";n(m.id,ke||pe)}},children:"Cancel"}),s.jsxs(Y,{size:"sm",onClick:()=>Ke(m),children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"prose prose-sm max-w-none break-words dark:prose-invert",children:s.jsx(Ur,{content:typeof m.content=="string"?m.content:((P=m.content)==null?void 0:P.content)||""})}),(m.imageDataUrls&&((T=m.imageDataUrls)==null?void 0:T.length)>0?m.imageDataUrls:typeof m.content=="object"&&(($=m.content)==null?void 0:$.imageBase64s))&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2 max-w-full overflow-hidden",children:(m.imageDataUrls&&((me=m.imageDataUrls)==null?void 0:me.length)>0?m.imageDataUrls:typeof m.content=="object"&&((Ee=m.content)==null?void 0:Ee.imageBase64s)||[]).map((Q,V)=>s.jsxs("div",{className:"relative animate-in zoom-in-95 duration-200 max-w-[calc(100%-8px)]",style:{animationDelay:`${V*100}ms`},children:[s.jsx("img",{src:Q,alt:`Uploaded ${V}`,className:"max-w-full max-h-[150px] rounded-md object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>j(Q),style:{objectFit:"cover",aspectRatio:"4/3"}}),s.jsx("div",{className:"absolute top-1 right-1 bg-black/50 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(nn,{className:"h-3 w-3 text-white"})})]},V))}),m.isProcessing&&s.jsxs("div",{className:"flex items-center mt-2 text-sm animate-in fade-in-0 duration-200",children:[s.jsx(Nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}),m.hasError&&s.jsx("div",{className:"text-destructive mt-2 text-sm animate-in fade-in-0 duration-200",children:"Error processing message"})]})}),s.jsxs("div",{className:"flex gap-2 mt-2 opacity-100 transition-opacity duration-200 justify-end",children:[s.jsx(Y,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0","aria-label":"Edit",onClick:async()=>{var ue,he,ke;const Q=typeof m.content=="string"?m.content:((ue=m.content)==null?void 0:ue.content)||"";c(Q),S.forEach(pe=>URL.revokeObjectURL(pe)),I([]),F([]);const V=m.imageDataUrls&&((he=m.imageDataUrls)==null?void 0:he.length)>0?m.imageDataUrls:typeof m.content=="object"&&((ke=m.content)==null?void 0:ke.imageBase64s);if(V&&(V==null?void 0:V.length)>0)try{const pe=await Promise.all(V.map(async(ze,nt)=>{const it=ze.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),We=it?it[1]:"image/png",Ft=await(await fetch(ze)).blob(),dt=We.split("/")[1]||"png";return new File([Ft],`edit-image-${nt}.${dt}`,{type:We})})),tt=pe.map(ze=>URL.createObjectURL(ze));I(pe),F(tt)}catch(pe){console.error("Failed to load images for editing:",pe)}},children:s.jsx(Ki,{className:"h-4 w-4"})}),s.jsx(Y,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0","aria-label":"Retry",onClick:async()=>{var he,ke,pe,tt;const Q=m,V=m.imageDataUrls&&((he=m.imageDataUrls)==null?void 0:he.length)>0?m.imageDataUrls:Q.imageBase64s||typeof m.content=="object"&&((ke=m.content)==null?void 0:ke.imageBase64s),ue=typeof m.content=="string"?m.content:((pe=m.content)==null?void 0:pe.content)||"";if(Q.originalFiles&&((tt=Q.originalFiles)==null?void 0:tt.length)>0)t(ue,Q.originalFiles);else if(V&&(V==null?void 0:V.length)>0)try{const ze=await Promise.all(V.map(async(nt,it)=>{const We=nt.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),pt=We?We[1]:"image/png",dt=await(await fetch(nt)).blob(),En=pt.split("/")[1]||"png";return new File([dt],`retried-image-${it}.${En}`,{type:pt})}));t(ue,ze)}catch{alert("Unable to retry image prompt: could not reconstruct image files from base64.")}else t(ue)},children:s.jsx(At,{className:"h-4 w-4"})})]})]})}),s.jsxs(Tm,{children:[s.jsxs(qr,{onClick:async()=>{var ue,he,ke;const Q=typeof m.content=="string"?m.content:((ue=m.content)==null?void 0:ue.content)||"";c(Q),S.forEach(pe=>URL.revokeObjectURL(pe)),I([]),F([]);const V=m.imageDataUrls&&((he=m.imageDataUrls)==null?void 0:he.length)>0?m.imageDataUrls:typeof m.content=="object"&&((ke=m.content)==null?void 0:ke.imageBase64s);if(V&&(V==null?void 0:V.length)>0)try{const pe=await Promise.all(V.map(async(ze,nt)=>{const it=ze.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),We=it?it[1]:"image/png",Ft=await(await fetch(ze)).blob(),dt=We.split("/")[1]||"png";return new File([Ft],`edit-image-${nt}.${dt}`,{type:We})})),tt=pe.map(ze=>URL.createObjectURL(ze));I(pe),F(tt)}catch(pe){console.error("Failed to load images for editing:",pe)}},children:[s.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(qr,{onClick:async()=>{var he,ke,pe,tt;const Q=m,V=m.imageDataUrls&&((he=m.imageDataUrls)==null?void 0:he.length)>0?m.imageDataUrls:Q.imageBase64s||typeof m.content=="object"&&((ke=m.content)==null?void 0:ke.imageBase64s),ue=typeof m.content=="string"?m.content:((pe=m.content)==null?void 0:pe.content)||"";if(Q.originalFiles&&((tt=Q.originalFiles)==null?void 0:tt.length)>0)t(ue,Q.originalFiles);else if(V&&(V==null?void 0:V.length)>0)try{const ze=await Promise.all(V.map(async(nt,it)=>{const We=nt.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),pt=We?We[1]:"image/png",dt=await(await fetch(nt)).blob(),En=pt.split("/")[1]||"png";return new File([dt],`retried-image-${it}.${En}`,{type:pt})}));t(ue,ze)}catch{alert("Unable to retry image prompt: could not reconstruct image files from base64.")}else t(ue)},children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]}):s.jsx(qt,{className:Pe("p-3 shadow-sm group hover:shadow-md transition-shadow duration-200",m.role==="user"?"bg-muted/5":"bg-muted"),style:{wordBreak:"break-word",width:"100%"},children:m.isEditing?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(tn,{value:typeof m.content=="string"?m.content:((re=m.content)==null?void 0:re.content)||"",onChange:Q=>{const V=[...e],ue=V.findIndex(he=>he.id===m.id);ue!==-1&&(V[ue].content=Q.target.value,n(m.id,Q.target.value))},className:"min-h-[60px] bg-background/50",autoFocus:!0}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>{var ue,he;const Q=[...e],V=Q.findIndex(ke=>ke.id===m.id);if(V!==-1){m.originalContent&&(Q[V].content=m.originalContent),Q[V].isEditing=!1;const ke=typeof m.originalContent=="string"?m.originalContent:((ue=m.originalContent)==null?void 0:ue.content)||"",pe=typeof m.content=="string"?m.content:((he=m.content)==null?void 0:he.content)||"";n(m.id,ke||pe)}},children:"Cancel"}),s.jsxs(Y,{size:"sm",onClick:()=>Ke(m),children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"prose prose-sm max-w-none break-words dark:prose-invert",children:s.jsx(Ur,{content:typeof m.content=="string"?m.content:((Se=m.content)==null?void 0:Se.content)||""})}),(m.imageDataUrls&&((ge=m.imageDataUrls)==null?void 0:ge.length)>0?m.imageDataUrls:typeof m.content=="object"&&((ve=m.content)==null?void 0:ve.imageBase64s))&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2 max-w-full overflow-hidden",children:(m.imageDataUrls&&((Be=m.imageDataUrls)==null?void 0:Be.length)>0?m.imageDataUrls:typeof m.content=="object"&&((Ne=m.content)==null?void 0:Ne.imageBase64s)||[]).map((Q,V)=>s.jsxs("div",{className:"relative animate-in zoom-in-95 duration-200 max-w-[calc(100%-8px)]",style:{animationDelay:`${V*100}ms`},children:[s.jsx("img",{src:Q,alt:`Uploaded ${V}`,className:"max-w-full max-h-[150px] rounded-md object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>j(Q),style:{objectFit:"cover",aspectRatio:"4/3"}}),s.jsx("div",{className:"absolute top-1 right-1 bg-black/50 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(nn,{className:"h-3 w-3 text-white"})})]},V))}),m.isProcessing&&s.jsxs("div",{className:"flex items-center mt-2 text-sm animate-in fade-in-0 duration-200",children:[s.jsx(Nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}),m.hasError&&s.jsx("div",{className:"text-destructive mt-2 text-sm animate-in fade-in-0 duration-200",children:"Error processing message"})]})})})},m.id)}),s.jsx("div",{ref:v})]})}),s.jsx("div",{className:"absolute bottom-[150px] left-0 right-0 h-[60px] bg-gradient-to-t from-background to-transparent pointer-events-none z-[5]"}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-auto max-h-[400px] flex flex-col overflow-hidden z-10 mb-4 px-4",children:s.jsxs("div",{className:"relative rounded-[24px] p-2 mx-auto w-full max-w-5xl",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-[24px] shadow-lg backdrop-blur-md bg-background/40 border"}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"flex p-1",children:[s.jsx("button",{type:"button",onClick:()=>{var m;return(m=J.current)==null?void 0:m.click()},disabled:!i||a,className:"relative w-[36px] h-[36px] p-1.5 rounded-full bg-muted/30 hover:bg-muted/50 transition-colors flex items-center justify-center",children:s.jsx(An,{className:"h-4 w-4"})}),s.jsx("input",{ref:J,type:"file",multiple:!0,accept:"image/*",onChange:ie,className:"hidden",disabled:!i||a})]}),s.jsxs("div",{className:"flex-1 flex items-center relative",children:[s.jsx(tn,{ref:g,value:u,onChange:m=>c(m.target.value),onKeyDown:at,onPaste:lt,placeholder:"Type a message...",className:"w-full resize-none border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-sm overflow-y-auto bg-transparent px-2 py-3",disabled:!i||a,style:{opacity:!i||a?.6:1,overflow:"auto",overflowWrap:"break-word",minHeight:"44px",maxHeight:"200px",transition:"height 0.1s ease-in-out"}}),s.jsx("button",{type:"button","aria-label":"Expand editor",className:"w-[24px] h-[24px] rounded-full bg-muted/30 hover:bg-muted/50 transition-colors justify-center flex items-center ml-1",onClick:()=>p(!0),disabled:!i||a,tabIndex:-1,children:s.jsx(xo,{className:"h-4 w-4 text-primary"})})]})]}),(S==null?void 0:S.length)>0&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[S==null?void 0:S.length," file",(S==null?void 0:S.length)!==1?"s":""," selected"]}),s.jsxs(Y,{variant:"ghost",size:"sm",onClick:_e,className:"h-7 px-2 text-xs hover:bg-destructive hover:text-destructive-foreground rounded-full",children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),"Clear all"]})]}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2 overflow-auto max-h-[80px]",children:S.map((m,x)=>s.jsx("div",{draggable:!0,onDragStart:()=>fe(x),onDragOver:y=>xe(y,x),onDragEnd:je,onDrop:y=>Ce(y,x),className:Pe("relative group cursor-grab transition-transform duration-200",L===x&&"opacity-50",B===x&&"scale-105"),children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:m,alt:`Preview ${x}`,className:"w-16 h-16 rounded-md object-cover border cursor-pointer",onClick:y=>{y.stopPropagation(),j(m)},style:{objectFit:"cover",aspectRatio:"1/1"}}),s.jsx("button",{onClick:()=>K(x),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(yt,{className:"w-3 h-3"})}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(In,{className:"w-4 h-4 text-white drop-shadow-md"})})]})},`preview-${x}`))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx(Y,{type:"button",size:"sm",variant:"outline",onClick:()=>{J.current&&(J.current.multiple=!0,J.current.click(),J.current.onchange=()=>Je())},disabled:!i||a,className:"bg-muted/30 hover:bg-muted/50 border-muted/30 font-semibold px-3 py-2 h-9 rounded-full",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{className:"h-[18px] w-[18px] sm:block hidden"}),s.jsx("span",{className:"truncate",children:"Image"})]})}),s.jsxs(ht,{value:r,onValueChange:l,disabled:!i||a,children:[s.jsx(xt,{className:"h-9 text-sm font-semibold bg-muted/30 hover:bg-muted/50 border-muted/30 px-3 py-2 rounded-full",children:s.jsx(gt,{placeholder:"Model",children:r.includes("flash")?"2.0":"2.5"})}),s.jsxs(vt,{className:"z-[1100]",children:[s.jsx(be,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),s.jsx(be,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]})]}),s.jsx(Y,{type:"button",disabled:!u.trim()&&(w==null?void 0:w.length)===0||!i||a,onClick:De,className:"w-[36px] h-[36px] p-0 rounded-full flex items-center justify-center bg-primary text-primary-foreground hover:bg-primary/90",children:a?s.jsx(Nn,{className:"h-5 w-5 animate-spin"}):s.jsx(Qi,{className:"h-5 w-5"})})]})]})]})}),s.jsx(Oi,{open:!!U,onOpenChange:m=>{m||Le()},children:s.jsxs(so,{children:[s.jsx(co,{className:"bg-black/80 z-[2000] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),s.jsxs(mo,{className:"fixed left-[50%] top-[50%] z-[2000] grid w-full max-w-4xl translate-x-[-50%] translate-y-[-50%] p-0 sm:rounded-lg bg-background/95 backdrop-blur-xs border-none duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-75 data-[state=open]:zoom-in-95",style:{maxHeight:"90vh",maxWidth:"90vw",width:"auto",transformOrigin:"center"},children:[s.jsxs(ho,{className:"absolute right-3 top-3 z-10 rounded-full w-8 h-8 flex items-center justify-center bg-background/80 shadow-md opacity-70 hover:opacity-100",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),s.jsxs("div",{ref:ee,className:"relative flex items-center justify-center max-h-[85vh] min-h-[300px] overflow-hidden",onMouseDown:ot,onMouseMove:st,onMouseUp:et,onMouseLeave:et,style:{cursor:M?"grabbing":_>1?"grab":"default"},children:[U&&s.jsx("div",{className:"transition-transform duration-200",style:{transform:`scale(${_})`,position:"relative",left:`${ne.x}px`,top:`${ne.y}px`},children:s.jsx("img",{src:U,alt:"Expanded view",className:"max-w-full max-h-[80vh] object-contain",draggable:!1})}),_>1&&s.jsx("div",{className:"absolute top-2 left-2 text-xs bg-background/70 p-1 px-2 rounded-md animate-in fade-in-0 duration-200",children:M?"Moving...":"Click and drag to move"}),s.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-2 bg-background/80 p-2 rounded-full shadow-md",children:[s.jsx(Y,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:Ve,disabled:_<=.1,children:s.jsx(go,{className:"h-4 w-4"})}),s.jsxs(Y,{variant:"outline",size:"sm",className:"h-8 min-w-14 text-xs",onClick:Ue,children:[Math.round(_*100),"%"]}),s.jsx(Y,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:Ye,disabled:_>=5,children:s.jsx(nn,{className:"h-4 w-4"})})]})]})]})]})}),s.jsx(Oi,{open:d,onOpenChange:m=>p(m),children:s.jsxs(uo,{className:"sm:max-w-[95%] md:max-w-[90%] lg:max-w-[80%] xl:max-w-[70%] fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 p-4 sm:p-6 md:p-8 flex items-center justify-center w-full h-[90vh] max-h-[90vh]",style:{zIndex:1e3,"--hide-dialog-close":"none"},children:[s.jsx("style",{children:`
              [data-dialog-close], .DialogClose, .dialog-close, .dialog__close {
                display: none !important;
              }
            `}),s.jsxs("div",{className:"relative flex flex-col w-full h-full min-h-0 overflow-hidden",children:[(S==null?void 0:S.length)>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"flex items-center justify-between pt-2",children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:[S==null?void 0:S.length," file",(S==null?void 0:S.length)!==1?"s":""," selected"]})}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2 overflow-auto max-h-[80px]",children:S.map((m,x)=>s.jsx("div",{draggable:!0,onDragStart:()=>fe(x),onDragOver:y=>xe(y,x),onDragEnd:je,onDrop:y=>Ce(y,x),className:Pe("relative group cursor-grab transition-transform duration-200",L===x&&"opacity-50",B===x&&"scale-105"),children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:m,alt:`Preview ${x}`,className:"w-16 h-16 rounded-md object-cover border cursor-pointer",onClick:y=>{y.stopPropagation(),j(m)},style:{objectFit:"cover",aspectRatio:"1/1"}}),s.jsx("button",{onClick:()=>K(x),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(yt,{className:"w-3 h-3"})}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(In,{className:"w-4 h-4 text-white drop-shadow-md"})})]})},`dialog-preview-${x}`))})]}),s.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:s.jsxs(xi,{value:h===void 0?"raw":void 0,defaultValue:"raw",className:"flex-1 flex flex-col min-h-0 overflow-hidden",onValueChange:()=>{},children:[s.jsxs(gi,{className:"mb-2",children:[s.jsx(bt,{value:"raw",children:"Raw"}),s.jsx(bt,{value:"markdown",children:"Markdown"}),(S==null?void 0:S.length)>0&&s.jsxs(bt,{value:"images",children:["Images (",S.length,")"]})]}),s.jsx(wt,{value:"raw",className:"flex-1 min-h-0 overflow-hidden",children:s.jsx(tn,{value:u,onChange:m=>c(m.target.value),onKeyDown:m=>{m.key==="Enter"&&m.ctrlKey&&(m.preventDefault(),De(),A())},className:"h-full min-h-0 max-h-full w-full text-sm sm:text-base md:text-lg font-mono resize-none overflow-auto p-3 sm:p-4",autoFocus:!0})}),s.jsx(wt,{value:"markdown",className:"flex-1 min-h-0 overflow-hidden",children:s.jsx(Wt.Suspense,{fallback:s.jsxs("div",{className:"flex items-center justify-center h-full",children:[s.jsx("span",{className:"animate-spin mr-2 inline-block w-5 h-5 border-2 border-primary border-t-transparent rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Rendering preview"})]}),children:s.jsx(Fm,{inputValue:u})})}),s.jsx(wt,{value:"images",className:"flex-1 min-h-0 overflow-auto",children:(S==null?void 0:S.length)>0?s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Drag images to reorder. Click an image to expand it."}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map((m,x)=>s.jsxs("div",{className:Pe("relative group border rounded-md shadow-sm transition-all duration-200",L===x&&"opacity-50 border-primary border-dashed",B===x&&"scale-[1.02] border-primary"),draggable:!0,onDragStart:()=>fe(x),onDragOver:y=>xe(y,x),onDragEnd:je,onDrop:y=>Ce(y,x),children:[s.jsx("div",{className:"absolute top-2 left-2 bg-black/60 rounded-md p-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity cursor-move",children:s.jsx(In,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[s.jsx(Y,{variant:"default",size:"icon",className:"h-8 w-8 rounded-full shadow-md bg-black/60 hover:bg-black/80",onClick:y=>{y.stopPropagation(),j(m)},children:s.jsx(nn,{className:"h-4 w-4 text-white"})}),s.jsx(Y,{variant:"destructive",size:"icon",className:"h-8 w-8 rounded-full shadow-md",onClick:y=>{y.stopPropagation(),K(x)},children:s.jsx(yt,{className:"h-4 w-4"})})]}),s.jsx("img",{src:m,alt:`Image ${x+1}`,className:"w-full h-auto rounded-md object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>j(m)}),s.jsxs("div",{className:"bg-background/95 backdrop-blur-[2px] p-2 text-xs flex justify-between items-center",children:[s.jsxs("span",{children:["Image ",x+1]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"p-1 rounded-md hover:bg-muted transition-colors",onClick:y=>{if(y.stopPropagation(),x>0){const P=[...w],T=[...S];[P[x],P[x-1]]=[P[x-1],P[x]],[T[x],T[x-1]]=[T[x-1],T[x]],I(P),F(T)}},disabled:x===0,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:x===0?"opacity-30":"",children:s.jsx("path",{d:"m15 18-6-6 6-6"})})}),s.jsx("button",{className:"p-1 rounded-md hover:bg-muted transition-colors",onClick:y=>{if(y.stopPropagation(),x<S.length-1){const P=[...w],T=[...S];[P[x],P[x+1]]=[P[x+1],P[x]],[T[x],T[x+1]]=[T[x+1],T[x]],I(P),F(T)}},disabled:x===S.length-1,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:x===S.length-1?"opacity-30":"",children:s.jsx("path",{d:"m9 18 6-6-6-6"})})})]})]})]},`gallery-${x}`))})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx(Gt,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No images attached"}),s.jsxs(Y,{variant:"outline",className:"mt-4",onClick:()=>{var m;return(m=se.current)==null?void 0:m.click()},children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Add Images"]})]})})})]})}),s.jsxs("div",{className:"mt-4 border-t pt-4 flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ht,{value:b,onValueChange:m=>{C(m),l(m)},disabled:!i||a,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{ref:se,type:"file",multiple:!0,accept:"image/*",onChange:ie,className:"hidden",disabled:!i||a}),s.jsxs(Y,{type:"button",onClick:()=>{var m;return(m=se.current)==null?void 0:m.click()},className:"h-9 px-3 rounded-full text-xs sm:text-sm",disabled:!i||a,children:[s.jsx(An,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Image"}),s.jsx("span",{className:"inline sm:hidden",children:"Image"})]})]}),s.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:s.jsx(gt,{placeholder:"Model",children:b.includes("flash")?"2.0":"2.5"})}),s.jsxs(vt,{className:"z-[1100]",children:[s.jsx(be,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),s.jsx(be,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),(w==null?void 0:w.length)>0&&s.jsxs(Y,{variant:"ghost",size:"sm",onClick:_e,className:"h-7 px-2 text-xs hover:bg-destructive hover:text-destructive-foreground rounded-full",children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Clear all"}),s.jsx("span",{className:"inline sm:hidden",children:"Clear"})]})]}),s.jsxs(Y,{type:"button",onClick:async()=>{await De(),A()},className:"h-9 px-5 rounded-full bg-primary text-primary-foreground font-semibold z-10 shadow-lg flex items-center",disabled:!u.trim()&&(w==null?void 0:w.length)===0||!i||a,children:[s.jsx(Qi,{className:"h-5 w-5 mr-1"}),"Send"]})]})]})]})})]})},Fm=Wt.lazy(()=>Promise.resolve({default:Wt.memo(({inputValue:e})=>{const t=/[*_~`#>|\[\]()]/.test(e);return s.jsx("div",{className:"h-full min-h-[40vh] max-h-[70vh] w-full overflow-auto bg-background border rounded-md p-2 sm:p-4 prose prose-sm sm:prose-base md:prose-lg dark:prose-invert",children:t?s.jsx(Wa,{remarkPlugins:[xl],children:e}):s.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e})})})}));var Kn={exports:{}},Yn,Hr;function _m(){if(Hr)return Yn;Hr=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yn=e,Yn}var Xn,Vr;function Mm(){if(Vr)return Xn;Vr=1;var e=_m();function t(){}function n(){}return n.resetWarningCache=t,Xn=function(){function i(a,o,u,c,d,p){if(p!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}i.isRequired=i;function r(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Xn}var Wr;function Om(){return Wr||(Wr=1,Kn.exports=Mm()()),Kn.exports}var Lm=Om();const ae=bn(Lm),Bm=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function zt(e,t,n){const i=$m(e),{webkitRelativePath:r}=e,l=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof i.path!="string"&&Gr(i,"path",l),Gr(i,"relativePath",l),i}function $m(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),r=Bm.get(i);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function Gr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const qm=[".DS_Store","Thumbs.db"];function Um(e){return Ct(this,void 0,void 0,function*(){return gn(e)&&Hm(e.dataTransfer)?Km(e.dataTransfer,e.type):Vm(e)?Wm(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Gm(e):[]})}function Hm(e){return gn(e)}function Vm(e){return gn(e)&&gn(e.target)}function gn(e){return typeof e=="object"&&e!==null}function Wm(e){return pi(e.target.files).map(t=>zt(t))}function Gm(e){return Ct(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>zt(n))})}function Km(e,t){return Ct(this,void 0,void 0,function*(){if(e.items){const n=pi(e.items).filter(r=>r.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(Ym));return Kr(Sl(i))}return Kr(pi(e.files).map(n=>zt(n)))})}function Kr(e){return e.filter(t=>qm.indexOf(t.name)===-1)}function pi(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function Ym(e){if(typeof e.webkitGetAsEntry!="function")return Yr(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?El(t):Yr(e,t)}function Sl(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?Sl(n):[n]],[])}function Yr(e,t){return Ct(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const l=yield e.getAsFileSystemHandle();if(l===null)throw new Error(`${e} is not a File`);if(l!==void 0){const a=yield l.getFile();return a.handle=l,zt(a)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return zt(i,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function Xm(e){return Ct(this,void 0,void 0,function*(){return e.isDirectory?El(e):Qm(e)})}function El(e){const t=e.createReader();return new Promise((n,i)=>{const r=[];function l(){t.readEntries(a=>Ct(this,void 0,void 0,function*(){if(a.length){const o=Promise.all(a.map(Xm));r.push(o),l()}else try{const o=yield Promise.all(r);n(o)}catch(o){i(o)}}),a=>{i(a)})}l()})}function Qm(e){return Ct(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const r=zt(i,e.fullPath);t(r)},i=>{n(i)})})})}var cn={},Xr;function Zm(){return Xr||(Xr=1,cn.__esModule=!0,cn.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",r=(e.type||"").toLowerCase(),l=r.replace(/\/.*$/,"");return n.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?l===o.replace(/\/.*$/,""):r===o})}return!0}),cn}var Jm=Zm();const Qn=bn(Jm);function Qr(e){return nh(e)||th(e)||Pl(e)||eh()}function eh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function th(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nh(e){if(Array.isArray(e))return di(e)}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zr(Object(n),!0).forEach(function(i){Nl(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e,t){return ah(e)||rh(e,t)||Pl(e,t)||ih()}function ih(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pl(e,t){if(e){if(typeof e=="string")return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return di(e,t)}}function di(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rh(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,l=!1,a,o;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!(t&&i.length===t));r=!0);}catch(u){l=!0,o=u}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw o}}return i}}function ah(e){if(Array.isArray(e))return e}var lh=typeof Qn=="function"?Qn:Qn.default,oh="file-invalid-type",sh="file-too-large",ch="file-too-small",uh="too-many-files",ph=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:oh,message:"File type must be ".concat(i)}},ea=function(t){return{code:sh,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},ta=function(t){return{code:ch,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},dh={code:uh,message:"Too many files"};function Il(e,t){var n=e.type==="application/x-moz-file"||lh(e,t);return[n,n?null:ph(t)]}function Al(e,t,n){if(mt(e.size))if(mt(t)&&mt(n)){if(e.size>n)return[!1,ea(n)];if(e.size<t)return[!1,ta(t)]}else{if(mt(t)&&e.size<t)return[!1,ta(t)];if(mt(n)&&e.size>n)return[!1,ea(n)]}return[!0,null]}function mt(e){return e!=null}function fh(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize,l=e.multiple,a=e.maxFiles,o=e.validator;return!l&&t.length>1||l&&a>=1&&t.length>a?!1:t.every(function(u){var c=Il(u,n),d=Xt(c,1),p=d[0],h=Al(u,i,r),f=Xt(h,1),b=f[0],C=o?o(u):null;return p&&b&&!C})}function vn(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function un(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function na(e){e.preventDefault()}function mh(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function hh(e){return e.indexOf("Edge/")!==-1}function xh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return mh(e)||hh(e)}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,l=new Array(r>1?r-1:0),a=1;a<r;a++)l[a-1]=arguments[a];return t.some(function(o){return!vn(i)&&o&&o.apply(void 0,[i].concat(l)),vn(i)})}}function gh(){return"showOpenFilePicker"in window}function vh(e){if(mt(e)){var t=Object.entries(e).filter(function(n){var i=Xt(n,2),r=i[0],l=i[1],a=!0;return Dl(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(l)||!l.every(zl))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,i){var r=Xt(i,2),l=r[0],a=r[1];return Jr(Jr({},n),{},Nl({},l,a))},{});return[{description:"Files",accept:t}]}return e}function yh(e){if(mt(e))return Object.entries(e).reduce(function(t,n){var i=Xt(n,2),r=i[0],l=i[1];return[].concat(Qr(t),[r],Qr(l))},[]).filter(function(t){return Dl(t)||zl(t)}).join(",")}function bh(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function wh(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Dl(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function zl(e){return/^.*\.[\w]+$/.test(e)}var kh=["children"],jh=["open"],Ch=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Sh=["refKey","onChange","onClick"];function Eh(e){return Ih(e)||Ph(e)||Tl(e)||Nh()}function Nh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ph(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ih(e){if(Array.isArray(e))return fi(e)}function Zn(e,t){return zh(e)||Dh(e,t)||Tl(e,t)||Ah()}function Ah(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tl(e,t){if(e){if(typeof e=="string")return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fi(e,t)}}function fi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Dh(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,l=!1,a,o;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!(t&&i.length===t));r=!0);}catch(u){l=!0,o=u}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw o}}return i}}function zh(e){if(Array.isArray(e))return e}function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ia(Object(n),!0).forEach(function(i){mi(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e,t){if(e==null)return{};var n=Th(e,t),i,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)i=l[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Th(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,l;for(l=0;l<i.length;l++)r=i[l],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var Mi=N.forwardRef(function(e,t){var n=e.children,i=yn(e,kh),r=Fl(i),l=r.open,a=yn(r,jh);return N.useImperativeHandle(t,function(){return{open:l}},[l]),Wt.createElement(N.Fragment,null,n(de(de({},a),{},{open:l})))});Mi.displayName="Dropzone";var Rl={disabled:!1,getFilesFromEvent:Um,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Mi.defaultProps=Rl;Mi.propTypes={children:ae.func,accept:ae.objectOf(ae.arrayOf(ae.string)),multiple:ae.bool,preventDropOnDocument:ae.bool,noClick:ae.bool,noKeyboard:ae.bool,noDrag:ae.bool,noDragEventsBubbling:ae.bool,minSize:ae.number,maxSize:ae.number,maxFiles:ae.number,disabled:ae.bool,getFilesFromEvent:ae.func,onFileDialogCancel:ae.func,onFileDialogOpen:ae.func,useFsAccessApi:ae.bool,autoFocus:ae.bool,onDragEnter:ae.func,onDragLeave:ae.func,onDragOver:ae.func,onDrop:ae.func,onDropAccepted:ae.func,onDropRejected:ae.func,onError:ae.func,validator:ae.func};var hi={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Fl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=de(de({},Rl),e),n=t.accept,i=t.disabled,r=t.getFilesFromEvent,l=t.maxSize,a=t.minSize,o=t.multiple,u=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,p=t.onDragOver,h=t.onDrop,f=t.onDropAccepted,b=t.onDropRejected,C=t.onFileDialogCancel,A=t.onFileDialogOpen,w=t.useFsAccessApi,I=t.autoFocus,S=t.preventDropOnDocument,F=t.noClick,L=t.noKeyboard,E=t.noDrag,B=t.noDragEventsBubbling,W=t.onError,U=t.validator,j=N.useMemo(function(){return yh(n)},[n]),_=N.useMemo(function(){return vh(n)},[n]),D=N.useMemo(function(){return typeof A=="function"?A:ra},[A]),M=N.useMemo(function(){return typeof C=="function"?C:ra},[C]),R=N.useRef(null),O=N.useRef(null),te=N.useReducer(Rh,hi),ne=Zn(te,2),oe=ne[0],ee=ne[1],v=oe.isFocused,J=oe.isFileDialogActive,se=N.useRef(typeof window<"u"&&window.isSecureContext&&w&&gh()),g=function(){!se.current&&J&&setTimeout(function(){if(O.current){var m=O.current.files;m.length||(ee({type:"closeDialog"}),M())}},300)};N.useEffect(function(){return window.addEventListener("focus",g,!1),function(){window.removeEventListener("focus",g,!1)}},[O,J,M,se]);var H=N.useRef([]),ie=function(m){R.current&&R.current.contains(m.target)||(m.preventDefault(),H.current=[])};N.useEffect(function(){return S&&(document.addEventListener("dragover",na,!1),document.addEventListener("drop",ie,!1)),function(){S&&(document.removeEventListener("dragover",na),document.removeEventListener("drop",ie))}},[R,S]),N.useEffect(function(){return!i&&I&&R.current&&R.current.focus(),function(){}},[R,I,i]);var K=N.useCallback(function(k){W?W(k):console.error(k)},[W]),fe=N.useCallback(function(k){k.preventDefault(),k.persist(),Ue(k),H.current=[].concat(Eh(H.current),[k.target]),un(k)&&Promise.resolve(r(k)).then(function(m){if(!(vn(k)&&!B)){var x=m.length,y=x>0&&fh({files:m,accept:j,minSize:a,maxSize:l,multiple:o,maxFiles:u,validator:U}),P=x>0&&!y;ee({isDragAccept:y,isDragReject:P,isDragActive:!0,type:"setDraggedFiles"}),c&&c(k)}}).catch(function(m){return K(m)})},[r,c,K,B,j,a,l,o,u,U]),xe=N.useCallback(function(k){k.preventDefault(),k.persist(),Ue(k);var m=un(k);if(m&&k.dataTransfer)try{k.dataTransfer.dropEffect="copy"}catch{}return m&&p&&p(k),!1},[p,B]),je=N.useCallback(function(k){k.preventDefault(),k.persist(),Ue(k);var m=H.current.filter(function(y){return R.current&&R.current.contains(y)}),x=m.indexOf(k.target);x!==-1&&m.splice(x,1),H.current=m,!(m.length>0)&&(ee({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),un(k)&&d&&d(k))},[R,d,B]),Ce=N.useCallback(function(k,m){var x=[],y=[];k.forEach(function(P){var T=Il(P,j),$=Zn(T,2),me=$[0],Ee=$[1],re=Al(P,a,l),Se=Zn(re,2),ge=Se[0],ve=Se[1],Be=U?U(P):null;if(me&&ge&&!Be)x.push(P);else{var Ne=[Ee,ve];Be&&(Ne=Ne.concat(Be)),y.push({file:P,errors:Ne.filter(function(Q){return Q})})}}),(!o&&x.length>1||o&&u>=1&&x.length>u)&&(x.forEach(function(P){y.push({file:P,errors:[dh]})}),x.splice(0)),ee({acceptedFiles:x,fileRejections:y,isDragReject:y.length>0,type:"setFiles"}),h&&h(x,y,m),y.length>0&&b&&b(y,m),x.length>0&&f&&f(x,m)},[ee,o,j,a,l,u,h,f,b,U]),_e=N.useCallback(function(k){k.preventDefault(),k.persist(),Ue(k),H.current=[],un(k)&&Promise.resolve(r(k)).then(function(m){vn(k)&&!B||Ce(m,k)}).catch(function(m){return K(m)}),ee({type:"reset"})},[r,Ce,K,B]),De=N.useCallback(function(){if(se.current){ee({type:"openDialog"}),D();var k={multiple:o,types:_};window.showOpenFilePicker(k).then(function(m){return r(m)}).then(function(m){Ce(m,null),ee({type:"closeDialog"})}).catch(function(m){bh(m)?(M(m),ee({type:"closeDialog"})):wh(m)?(se.current=!1,O.current?(O.current.value=null,O.current.click()):K(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):K(m)});return}O.current&&(ee({type:"openDialog"}),D(),O.current.value=null,O.current.click())},[ee,D,M,w,Ce,K,_,o]),at=N.useCallback(function(k){!R.current||!R.current.isEqualNode(k.target)||(k.key===" "||k.key==="Enter"||k.keyCode===32||k.keyCode===13)&&(k.preventDefault(),De())},[R,De]),lt=N.useCallback(function(){ee({type:"focus"})},[]),Ke=N.useCallback(function(){ee({type:"blur"})},[]),Je=N.useCallback(function(){F||(xh()?setTimeout(De,0):De())},[F,De]),Le=function(m){return i?null:m},Ye=function(m){return L?null:Le(m)},Ve=function(m){return E?null:Le(m)},Ue=function(m){B&&m.stopPropagation()},ot=N.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=k.refKey,x=m===void 0?"ref":m,y=k.role,P=k.onKeyDown,T=k.onFocus,$=k.onBlur,me=k.onClick,Ee=k.onDragEnter,re=k.onDragOver,Se=k.onDragLeave,ge=k.onDrop,ve=yn(k,Ch);return de(de(mi({onKeyDown:Ye(Xe(P,at)),onFocus:Ye(Xe(T,lt)),onBlur:Ye(Xe($,Ke)),onClick:Le(Xe(me,Je)),onDragEnter:Ve(Xe(Ee,fe)),onDragOver:Ve(Xe(re,xe)),onDragLeave:Ve(Xe(Se,je)),onDrop:Ve(Xe(ge,_e)),role:typeof y=="string"&&y!==""?y:"presentation"},x,R),!i&&!L?{tabIndex:0}:{}),ve)}},[R,at,lt,Ke,Je,fe,xe,je,_e,L,E,i]),st=N.useCallback(function(k){k.stopPropagation()},[]),et=N.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=k.refKey,x=m===void 0?"ref":m,y=k.onChange,P=k.onClick,T=yn(k,Sh),$=mi({accept:j,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Le(Xe(y,_e)),onClick:Le(Xe(P,st)),tabIndex:-1},x,O);return de(de({},$),T)}},[O,n,o,_e,i]);return de(de({},oe),{},{isFocused:v&&!i,getRootProps:ot,getInputProps:et,rootRef:R,inputRef:O,open:Le(De)})}function Rh(e,t){switch(t.type){case"focus":return de(de({},e),{},{isFocused:!0});case"blur":return de(de({},e),{},{isFocused:!1});case"openDialog":return de(de({},hi),{},{isFileDialogActive:!0});case"closeDialog":return de(de({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return de(de({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return de(de({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return de({},hi);default:return e}}function ra(){}const Fh={initial:{x:0,y:0},animate:{x:20,y:-20,opacity:.9}},_h={initial:{opacity:0},animate:{opacity:1}},aa=({onChange:e,id:t,disabled:n=!1})=>{const[i,r]=N.useState([]),l=N.useRef(null),a=d=>{if(n)return;const p=1e3-(i==null?void 0:i.length);if(p<=0)return;const h=d.slice(0,p);r(h),e&&(e(h),setTimeout(()=>{r([])},1e3))};N.useEffect(()=>{(i==null?void 0:i.length)===0&&l.current&&(l.current.value="")},[i]);const{getRootProps:o,isDragActive:u}=Fl({multiple:!0,noClick:!0,onDrop:a,onDropRejected:d=>{console.log(d)},disabled:n}),c=(i==null?void 0:i.length)>3?i.slice(-2):i;return s.jsx("div",{className:Pe("w-full",n&&"opacity-60 cursor-not-allowed"),...o(),children:s.jsxs(we.div,{whileHover:n?void 0:"animate",children:[s.jsx("input",{ref:l,id:t||"file-upload-handle",type:"file",multiple:!0,disabled:n,onChange:d=>a(Array.from(d.target.files||[])),className:"hidden"}),s.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,white,transparent)]",children:s.jsx(Mh,{})}),s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("p",{className:"relative z-20 font-sans font-bold text-neutral-700 dark:text-neutral-300 text-base",children:"Upload file"}),s.jsx("p",{className:"relative z-20 font-sans font-normal text-neutral-400 dark:text-neutral-400 text-base mt-2",children:"Drag or drop your files here or click to upload"}),s.jsxs("div",{className:"relative w-full mt-10 max-w-xl mx-auto",children:[(i==null?void 0:i.length)>0&&s.jsxs(s.Fragment,{children:[(i==null?void 0:i.length)>3&&s.jsx(we.div,{layoutId:"file-upload-ellipsis",children:"..."}),c.map((d,p)=>s.jsxs(we.div,{layoutId:p===0?"file-upload":"file-upload-"+((i==null?void 0:i.length)-(c==null?void 0:c.length)+p),children:[s.jsxs("div",{className:"flex justify-between w-full items-center gap-4",children:[s.jsx(we.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:d.name}),s.jsxs(we.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:[(d.size/(1024*1024)).toFixed(2)," MB"]})]}),s.jsxs("div",{className:"flex text-sm md:flex-row flex-col items-start md:items-center w-full mt-2 justify-between text-neutral-600 dark:text-neutral-400",children:[s.jsx(we.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:d.type}),s.jsxs(we.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:["modified"," ",new Date(d.lastModified).toLocaleDateString()]})]})]},"file"+((i==null?void 0:i.length)-(c==null?void 0:c.length)+p)))]}),!(i!=null&&i.length)&&s.jsx(we.div,{layoutId:"file-upload",variants:Fh,transition:{type:"spring",stiffness:300,damping:20},children:u?s.jsxs(we.p,{initial:{opacity:0},animate:{opacity:1},children:["Drop it",s.jsx(Gt,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-400"})]}):s.jsx(Gt,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-300"})}),!(i!=null&&i.length)&&s.jsx(we.div,{variants:_h})]})]})]})})};function Mh(){return s.jsx("div",{className:"flex bg-gray-100 dark:bg-neutral-900 shrink-0 flex-wrap justify-center items-center gap-x-px gap-y-px  scale-105",children:Array.from({length:11}).map((n,i)=>Array.from({length:41}).map((r,l)=>{const a=i*41+l;return s.jsx("div",{className:`w-10 h-10 flex shrink-0 rounded-[2px] ${a%2===0?"bg-gray-50 dark:bg-neutral-950":"bg-gray-50 dark:bg-neutral-950 shadow-[0px_0px_1px_3px_rgba(255,255,255,1)_inset] dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]"}`},`${l}-${i}`)}))})}const Oh="apiKey",la="systemPrompt",nx=()=>{var Ue,ot,st,et;const[e,t]=N.useState([]),[n,i]=N.useState(!1),[r,l]=N.useState([]),[a,o]=N.useState("all"),[u,c]=N.useState([]),[d,p]=N.useState("images"),[h,f]=N.useState(!1),[b,C]=N.useState(null),[A,w]=N.useState(!0),[I,S]=N.useState("gemini-2.0-flash-exp-image-generation"),[F,L]=N.useState(10),[E,B]=N.useState(""),[W,U]=N.useState(!1),[j,_]=N.useState(3),[D,M]=N.useState([]),[R,O]=N.useState(0),[te,ne]=N.useState(""),oe=N.useId(),[ee,v]=N.useState(!1),J=N.useRef(null),se=N.useRef(null);N.useEffect(()=>{(async()=>{w(!0);try{const m=await Mt(Oh),x=await Mt("selectedModel"),y=await Mt("rpm"),P=await Mt(la),T=await Mt("maxConcurrentRequests");C(m),x&&S(x),y&&y>0&&L(y),T&&T>0&&_(T),P&&(B(P),ne(P))}catch(m){console.error("Error retrieving settings from IndexedDB:",m)}finally{w(!1)}})()},[]),N.useEffect(()=>{_(F);const k=()=>{if((D==null?void 0:D.length)===0){O(0);return}if((D==null?void 0:D.length)<F){O(0);return}const x=Date.now(),P=D[(D==null?void 0:D.length)-F]+6e4;x>=P?(g(),O(0)):O(Math.ceil((P-x)/1e3))},m=setInterval(k,1e3);return k(),()=>clearInterval(m)},[D,F]);const g=()=>{const m=Date.now()-6e4;M(x=>x.filter(y=>y>m))},H=()=>(g(),(D==null?void 0:D.length)<F),ie=()=>{const k=Date.now();M(m=>{const x=[...m,k].sort((y,P)=>P-y);return x.slice(0,Math.min(F,x==null?void 0:x.length))})},K=async k=>{S(k),await en("selectedModel",k)},fe=async()=>{await en(la,te),B(te),Te.success("System prompt saved")},xe=async k=>{if(b){t(m=>m.map(x=>x.id===k.id?{...x,isProcessing:!0,willProcess:!1}:x).sort((x,y)=>(y.timestamp||0)-(x.timestamp||0))),l(m=>[...m,k.id]),Te.info(`Processing ${k.file.name}...`);try{ie();const m=await ao([k.file],b,I,E||void 0);t(x=>x.map(y=>y.id===k.id?{...y,geminiResponse:m,hasError:m.hasError,isProcessing:!1,willProcess:!1,timestamp:Date.now()}:y).sort((y,P)=>(P.timestamp||0)-(y.timestamp||0))),m.hasError?Te.error(`Failed to process ${k.file.name}`):Te.success(`Successfully processed ${k.file.name}`)}catch(m){console.error("Error processing image:",m),t(x=>x.map(y=>y.id===k.id?{...y,geminiResponse:{thinking:"",ocrText:"",hasError:!0},hasError:!0,isProcessing:!1,willProcess:!1,timestamp:Date.now()}:y).sort((y,P)=>(P.timestamp||0)-(y.timestamp||0))),Te.error(`Error processing ${k.file.name}`,{description:"See console for details"})}finally{l(m=>m.filter(x=>x!==k.id))}}},je=async k=>{if(!b){Te.error("API key is not set",{description:"Please set it in the API Key Settings section."});return}g();const m=k.filter(y=>y.type.startsWith("image/"));if((m==null?void 0:m.length)===0){Te.error("No valid image files found");return}const x=m.map(y=>{const P=URL.createObjectURL(y);return{id:`${y.name}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,file:y,url:P,geminiResponse:{thinking:"",ocrText:"",hasError:!1},hasError:!1,isProcessing:!1,willProcess:!0,timestamp:Date.now()}});t(y=>[...y,...x].sort((P,T)=>(T.timestamp||0)-(P.timestamp||0))),Te.success(`Added ${m==null?void 0:m.length} image${(m==null?void 0:m.length)>1?"s":""} for processing`),p("images")},Ce=async(k,m)=>{if(!b)return;let x,y;typeof k=="string"?x=k:(x=k.content,y=k.imageBase64s);const P=`message-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,T=(m==null?void 0:m.map(re=>URL.createObjectURL(re)))||y||[],$={id:P,role:"user",content:k,timestamp:Date.now(),files:m,imageDataUrls:T};c(re=>[...re,$]);const me=`assistant-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,Ee={id:me,role:"assistant",content:"",timestamp:Date.now(),isProcessing:!0};c(re=>[...re,Ee]),f(!0);try{ie();const re=await ro(m||[],x,b,I);c(Se=>Se.map(ge=>ge.id===me?{...ge,content:re.ocrText||"I couldn't process your request.",isProcessing:!1,hasError:re.hasError}:ge))}catch(re){console.error("Error in chat:",re),c(Se=>Se.map(ge=>ge.id===me?{...ge,content:"Sorry, an error occurred while processing your request.",isProcessing:!1,hasError:!0}:ge))}finally{f(!1)}},_e=(k,m)=>{c(x=>x.map(y=>y.id===k?{...y,content:m}:y))},De=async k=>{if(b){if(g(),!H()){t(m=>m.map(x=>x.id===k.id?{...x,willProcess:!0,isProcessing:!1}:x).sort((x,y)=>(y.timestamp||0)-(x.timestamp||0))),console.log(`Queued image ${k.file.name} for retry due to rate limits`);return}await xe(k)}},at=()=>{let k=e;if(a==="completed"&&(k=e.filter(m=>!m.isProcessing&&!m.willProcess&&!m.hasError)),(k==null?void 0:k.length)>0){const m=k.sort((x,y)=>{const P=parseInt(x.file.name.split(".")[0],10),T=parseInt(y.file.name.split(".")[0],10);return P-T}).map(x=>`${x.file.name}:
${x.geminiResponse.ocrText}
`).join(`
`);navigator.clipboard.writeText(m),i(!0),Te.success("All text copied to clipboard"),setTimeout(()=>i(!1),2e3)}else Te.error("No processed images to copy")},lt=k=>{const m=e.find(x=>x.id===k);t(x=>x.filter(y=>y.id!==k)),m&&Te.success(`Removed image: ${m.file.name}`)},Ke=()=>{if((e==null?void 0:e.length)===0){Te.error("No images to remove");return}const k=e==null?void 0:e.length;t([]),Te.success(`Removed all ${k} images`)};N.useEffect(()=>{const k=async()=>{var T;if(!b||!H())return;const x=r==null?void 0:r.length,y=Math.min(j-x,F-(D==null?void 0:D.length),(T=e.filter($=>$.willProcess))==null?void 0:T.length);if(y<=0)return;const P=e.filter($=>$.willProcess&&!$.isProcessing).slice(0,y);(P==null?void 0:P.length)!==0&&await Promise.all(P.map($=>xe($)))},m=setTimeout(()=>{k()},100);return()=>clearTimeout(m)},[r==null?void 0:r.length,e,b,D==null?void 0:D.length,j]);const Je=()=>{switch(a){case"completed":return e.filter(k=>!k.isProcessing&&!k.willProcess&&!k.hasError);case"processing":return e.filter(k=>k.isProcessing);case"queued":return e.filter(k=>k.willProcess);case"error":return e.filter(k=>k.hasError);case"all":default:return e}},Le=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};N.useEffect(()=>{const k=()=>{const m=document.documentElement.scrollHeight-document.documentElement.scrollTop-document.documentElement.clientHeight;v(m>500)};return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const Ye=()=>{se.current&&requestAnimationFrame(()=>{se.current&&(se.current.scrollTop=se.current.scrollHeight)})};N.useEffect(()=>{d==="chat"&&Ye()},[u,d]);const Ve=k=>{p(k),k==="chat"&&setTimeout(Ye,50)};return A?s.jsx(qt,{className:"container mx-auto px-4 py-8 flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):s.jsxs("div",{className:Pe("container mx-auto p-4"),ref:J,children:[s.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between items-start justify-start gap-2 mb-2 bg-transparent w-full",children:[s.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center w-full",children:[s.jsxs("h1",{className:"text-xl xs:text-2xl font-bold overflow-visible inline-flex items-center flex-wrap",children:[s.jsx(Io,{className:"text-2xl xs:text-3xl font-bold",text:"Gemini"}),s.jsx("span",{className:"ml-2 text-base xs:text-xl",children:"AI Chat & OCR"})]}),s.jsxs("div",{className:"mt-2 xs:mt-0 xs:ml-3 px-2 py-1 bg-primary/10 rounded-full text-xs font-medium inline-flex items-center animate-in fade-in slide-in-from-left-4 duration-300",children:[s.jsxs("span",{className:"text-primary",children:[D==null?void 0:D.length,"/",F]}),R>0&&s.jsxs("span",{className:"ml-1 text-amber-600 animate-pulse",children:["(",R,"s)"]})]})]}),s.jsxs(Y,{variant:W?"default":"ghost",size:"sm",className:"flex items-center gap-1 h-8 transition-colors duration-200 mt-2 sm:mt-0 self-end sm:self-auto",onClick:()=>U(!W),children:[s.jsx(Pn,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),s.jsx(Jn,{children:W&&s.jsx(qt,{className:"mb-4 p-4",children:s.jsx(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(fo,{htmlFor:"system-prompt",className:"text-sm font-medium",children:"System Prompt"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("textarea",{id:"system-prompt",value:te,onChange:k=>ne(k.target.value),placeholder:"Enter system prompt for Gemini",className:"flex-1 min-h-[100px] px-3 py-2 border rounded-md text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",rows:4}),s.jsx(Y,{onClick:fe,children:"Save"})]})]})})})})}),s.jsxs(xi,{value:d,onValueChange:Ve,className:"flex-1 flex flex-col",children:[s.jsxs(gi,{className:"grid grid-cols-2 mb-4",children:[s.jsxs(bt,{value:"images",className:Pe("flex items-center gap-1 transition-all duration-200 data-[state=active]:scale-105",d==="images"?"font-medium":""),children:[s.jsx(Gt,{className:"h-3.5 w-3.5"}),"Images"," ",(e==null?void 0:e.length)>0&&s.jsx("span",{className:"bg-primary/15 text-primary px-1.5 py-0.5 rounded-full text-xs ml-1",children:e==null?void 0:e.length})]}),s.jsxs(bt,{value:"chat",className:Pe("flex items-center gap-1 transition-all duration-200 data-[state=active]:scale-105",d==="chat"?"font-medium":""),children:[s.jsx(Co,{className:"h-3.5 w-3.5"}),"Chat"]})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(wt,{value:"chat",className:"h-full",children:b?s.jsx("div",{className:"h-full",ref:se,children:s.jsx(Rm,{messages:u,onSendMessage:Ce,onEditMessage:_e,apiKey:b,selectedModel:I,onModelChange:S,isProcessing:h,handleFileUpload:je})}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full rounded-md border",children:s.jsxs("div",{className:"text-center p-6 max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No API Key Found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please set your Gemini API key in the settings to start using the chat interface."}),s.jsxs(Y,{onClick:()=>U(!0),className:"flex items-center gap-1",children:[s.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Open Settings",s.jsx(Yi,{className:"h-4 w-4 ml-1"})]})]})})}),s.jsx(wt,{value:"images",className:"h-full flex flex-col",children:b?(e==null?void 0:e.length)===0?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6 py-12",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Images Uploaded"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by uploading some images for processing"})]}),s.jsx("div",{className:"w-full max-w-md",children:s.jsxs(Y,{className:"w-full h-24 rounded-xl bg-primary hover:bg-primary/90 flex flex-col gap-2 shadow-lg",onClick:()=>{const k=document.getElementById(`file-upload-${oe}`);k&&k.click()},disabled:(D==null?void 0:D.length)>=F,children:[s.jsx(Xi,{className:"h-8 w-8"}),s.jsx("span",{className:"text-lg font-medium",children:"Upload Images"})]})}),s.jsxs("div",{className:"w-full max-w-md flex flex-wrap gap-3 justify-center",children:[s.jsxs(ht,{value:I,onValueChange:K,children:[s.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:s.jsx(gt,{placeholder:"Model",children:I.includes("flash")?"2.0 Flash":"2.5 Pro"})}),s.jsxs(vt,{className:"z-[1100]",children:[s.jsx(be,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),s.jsx(be,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),s.jsxs(ht,{value:F.toString(),onValueChange:k=>{const m=parseInt(k);L(m),en("rpm",m)},children:[s.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:s.jsxs(gt,{placeholder:"RPM",children:[F," RPM"]})}),s.jsxs(vt,{className:"z-[1100]",children:[s.jsx(be,{value:"2",children:"2 RPM"}),s.jsx(be,{value:"5",children:"5 RPM"}),s.jsx(be,{value:"10",children:"10 RPM"}),s.jsx(be,{value:"15",children:"15 RPM"})]})]})]}),s.jsx("div",{className:"hidden",children:s.jsx(aa,{id:`file-upload-${oe}`,onChange:je,disabled:(D==null?void 0:D.length)>=F})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(qt,{className:"mb-3 animate-in fade-in-0 duration-300",children:[s.jsxs("div",{className:"p-4 flex flex-col sm:flex-row gap-4 items-center justify-between",children:[s.jsxs(Y,{className:"w-full sm:w-auto h-12 rounded-xl bg-primary hover:bg-primary/90 flex items-center gap-2",onClick:()=>{const k=document.getElementById(`file-upload-${oe}`);k&&k.click()},disabled:(D==null?void 0:D.length)>=F,children:[s.jsx(Xi,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Upload More Images"})]}),s.jsxs("div",{className:"w-full sm:w-auto flex flex-wrap justify-end gap-2",children:[s.jsxs(ht,{value:I,onValueChange:K,children:[s.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:s.jsx(gt,{placeholder:"Model",children:I.includes("flash")?"2.0 Flash":"2.5 Pro"})}),s.jsxs(vt,{className:"z-[1100]",children:[s.jsx(be,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),s.jsx(be,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),s.jsxs(ht,{value:F.toString(),onValueChange:k=>{const m=parseInt(k);L(m),en("rpm",m)},children:[s.jsx(xt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:s.jsxs(gt,{placeholder:"RPM",children:[F," RPM"]})}),s.jsxs(vt,{className:"z-[1100]",children:[s.jsx(be,{value:"2",children:"2 RPM"}),s.jsx(be,{value:"5",children:"5 RPM"}),s.jsx(be,{value:"10",children:"10 RPM"}),s.jsx(be,{value:"15",children:"15 RPM"})]})]})]})]}),s.jsx("div",{className:"hidden",children:s.jsx(aa,{id:`file-upload-${oe}`,onChange:je,disabled:(D==null?void 0:D.length)>=F})})]}),s.jsxs("div",{className:"mb-3 p-3 rounded-md border flex flex-wrap gap-2 text-sm",children:[s.jsxs(Y,{variant:a==="all"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("all"),children:[s.jsx(wo,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:"Total:"}),s.jsx("span",{className:"text-primary",children:e==null?void 0:e.length})]}),s.jsxs(Y,{variant:a==="completed"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("completed"),children:[s.jsx("span",{className:"font-medium",children:"Completed:"}),s.jsx("span",{className:"text-green-600",children:(Ue=e.filter(k=>!k.isProcessing&&!k.willProcess&&!k.hasError))==null?void 0:Ue.length})]}),s.jsxs(Y,{variant:a==="processing"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("processing"),children:[s.jsx("span",{className:"font-medium",children:"Processing:"}),s.jsx("span",{className:"text-blue-600",children:(ot=e.filter(k=>k.isProcessing))==null?void 0:ot.length})]}),s.jsxs(Y,{variant:a==="queued"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("queued"),children:[s.jsx("span",{className:"font-medium",children:"Queued:"}),s.jsx("span",{className:"text-amber-600",children:(st=e.filter(k=>k.willProcess))==null?void 0:st.length})]}),s.jsxs(Y,{variant:a==="error"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("error"),children:[s.jsx("span",{className:"font-medium",children:"Error:"}),s.jsx("span",{className:"text-red-600",children:(et=e.filter(k=>k.hasError))==null?void 0:et.length})]})]}),s.jsx("div",{className:"flex-1 mb-2",children:s.jsx(Do,{images:Je(),handleRetry:De,copiedAll:n,copyAllToClipboard:at,handleDelete:lt,handleDeleteAll:Ke})})]}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full rounded-md border",children:s.jsxs("div",{className:"text-center p-6 max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No API Key Found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please set your Gemini API key in the settings to start using the image processing."}),s.jsxs(Y,{onClick:()=>U(!0),className:"flex items-center gap-1",children:[s.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Open Settings",s.jsx(Yi,{className:"h-4 w-4 ml-1"})]})]})})})]})]}),ee&&s.jsx(Y,{className:"fixed bottom-5 right-5 rounded-full h-12 w-12 shadow-md hover:bg-primary/90 z-50 flex items-center justify-center",size:"icon",onClick:Le,"aria-label":"Scroll to bottom",children:s.jsx(io,{className:"h-6 w-6"})})]})};export{nx as default};
