import{j as u,a as _,m as K,r as s,d as W,p as H,q as J,b as Q,s as Z,u as S,A as ee,P as te,e as C,f as G,t as re,v as oe,w as ne,C as se,x as ae}from"./index-ChvRW3WA.js";import{R as ie}from"./index-BmjfARd-.js";const le=K("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:r,...t}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:_(le({variant:r}),e),...t})}function ke({className:e,...r}){return u.jsx("div",{"data-slot":"alert-title",className:_("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...r})}function Ne({className:e,...r}){return u.jsx("div",{"data-slot":"alert-description",className:_("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...r})}var[j,Ie]=W("Tooltip",[H]),A=H(),z="TooltipProvider",ce=700,O="tooltip.open",[ue,k]=j(z),F=e=>{const{__scopeTooltip:r,delayDuration:t=ce,skipDelayDuration:o=300,disableHoverableContent:n=!1,children:i}=e,[c,v]=s.useState(!0),a=s.useRef(!1),p=s.useRef(0);return s.useEffect(()=>{const l=p.current;return()=>window.clearTimeout(l)},[]),u.jsx(ue,{scope:r,isOpenDelayed:c,delayDuration:t,onOpen:s.useCallback(()=>{window.clearTimeout(p.current),v(!1)},[]),onClose:s.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>v(!0),o)},[o]),isPointerInTransitRef:a,onPointerInTransitChange:s.useCallback(l=>{a.current=l},[]),disableHoverableContent:n,children:i})};F.displayName=z;var D="Tooltip",[de,R]=j(D),V=e=>{const{__scopeTooltip:r,children:t,open:o,defaultOpen:n=!1,onOpenChange:i,disableHoverableContent:c,delayDuration:v}=e,a=k(D,e.__scopeTooltip),p=A(r),[l,f]=s.useState(null),h=J(),d=s.useRef(0),x=c??a.disableHoverableContent,m=v??a.delayDuration,g=s.useRef(!1),[y=!1,T]=Q({prop:o,defaultProp:n,onChange:M=>{M?(a.onOpen(),document.dispatchEvent(new CustomEvent(O))):a.onClose(),i==null||i(M)}}),w=s.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),P=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,g.current=!1,T(!0)},[T]),E=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,T(!1)},[T]),I=s.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{g.current=!0,T(!0),d.current=0},m)},[m,T]);return s.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),u.jsx(Z,{...p,children:u.jsx(de,{scope:r,contentId:h,open:y,stateAttribute:w,trigger:l,onTriggerChange:f,onTriggerEnter:s.useCallback(()=>{a.isOpenDelayed?I():P()},[a.isOpenDelayed,I,P]),onTriggerLeave:s.useCallback(()=>{x?E():(window.clearTimeout(d.current),d.current=0)},[E,x]),onOpen:P,onClose:E,disableHoverableContent:x,children:t})})};V.displayName=D;var L="TooltipTrigger",$=s.forwardRef((e,r)=>{const{__scopeTooltip:t,...o}=e,n=R(L,t),i=k(L,t),c=A(t),v=s.useRef(null),a=S(r,v,n.onTriggerChange),p=s.useRef(!1),l=s.useRef(!1),f=s.useCallback(()=>p.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(ee,{asChild:!0,...c,children:u.jsx(te.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...o,ref:a,onPointerMove:C(e.onPointerMove,h=>{h.pointerType!=="touch"&&!l.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),l.current=!0)}),onPointerLeave:C(e.onPointerLeave,()=>{n.onTriggerLeave(),l.current=!1}),onPointerDown:C(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:C(e.onFocus,()=>{p.current||n.onOpen()}),onBlur:C(e.onBlur,n.onClose),onClick:C(e.onClick,n.onClose)})})});$.displayName=L;var N="TooltipPortal",[pe,fe]=j(N,{forceMount:void 0}),B=e=>{const{__scopeTooltip:r,forceMount:t,children:o,container:n}=e,i=R(N,r);return u.jsx(pe,{scope:r,forceMount:t,children:u.jsx(G,{present:t||i.open,children:u.jsx(re,{asChild:!0,container:n,children:o})})})};B.displayName=N;var b="TooltipContent",q=s.forwardRef((e,r)=>{const t=fe(b,e.__scopeTooltip),{forceMount:o=t.forceMount,side:n="top",...i}=e,c=R(b,e.__scopeTooltip);return u.jsx(G,{present:o||c.open,children:c.disableHoverableContent?u.jsx(U,{side:n,...i,ref:r}):u.jsx(ve,{side:n,...i,ref:r})})}),ve=s.forwardRef((e,r)=>{const t=R(b,e.__scopeTooltip),o=k(b,e.__scopeTooltip),n=s.useRef(null),i=S(r,n),[c,v]=s.useState(null),{trigger:a,onClose:p}=t,l=n.current,{onPointerInTransitChange:f}=o,h=s.useCallback(()=>{v(null),f(!1)},[f]),d=s.useCallback((x,m)=>{const g=x.currentTarget,y={x:x.clientX,y:x.clientY},T=ge(y,g.getBoundingClientRect()),w=me(y,T),P=Te(m.getBoundingClientRect()),E=Ce([...w,...P]);v(E),f(!0)},[f]);return s.useEffect(()=>()=>h(),[h]),s.useEffect(()=>{if(a&&l){const x=g=>d(g,l),m=g=>d(g,a);return a.addEventListener("pointerleave",x),l.addEventListener("pointerleave",m),()=>{a.removeEventListener("pointerleave",x),l.removeEventListener("pointerleave",m)}}},[a,l,d,h]),s.useEffect(()=>{if(c){const x=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},T=(a==null?void 0:a.contains(g))||(l==null?void 0:l.contains(g)),w=!ye(y,c);T?h():w&&(h(),p())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[a,l,c,p,h]),u.jsx(U,{...e,ref:i})}),[xe,he]=j(D,{isInside:!1}),U=s.forwardRef((e,r)=>{const{__scopeTooltip:t,children:o,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:c,...v}=e,a=R(b,t),p=A(t),{onClose:l}=a;return s.useEffect(()=>(document.addEventListener(O,l),()=>document.removeEventListener(O,l)),[l]),s.useEffect(()=>{if(a.trigger){const f=h=>{const d=h.target;d!=null&&d.contains(a.trigger)&&l()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[a.trigger,l]),u.jsx(ne,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:f=>f.preventDefault(),onDismiss:l,children:u.jsxs(se,{"data-state":a.stateAttribute,...p,...v,ref:r,style:{...v.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(ae,{children:o}),u.jsx(xe,{scope:t,isInside:!0,children:u.jsx(ie,{id:a.contentId,role:"tooltip",children:n||o})})]})})});q.displayName=b;var Y="TooltipArrow",X=s.forwardRef((e,r)=>{const{__scopeTooltip:t,...o}=e,n=A(t);return he(Y,t).isInside?null:u.jsx(oe,{...n,...o,ref:r})});X.displayName=Y;function ge(e,r){const t=Math.abs(r.top-e.y),o=Math.abs(r.bottom-e.y),n=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(t,o,n,i)){case i:return"left";case n:return"right";case t:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function me(e,r,t=5){const o=[];switch(r){case"top":o.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":o.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":o.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":o.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return o}function Te(e){const{top:r,right:t,bottom:o,left:n}=e;return[{x:n,y:r},{x:t,y:r},{x:t,y:o},{x:n,y:o}]}function ye(e,r){const{x:t,y:o}=e;let n=!1;for(let i=0,c=r.length-1;i<r.length;c=i++){const v=r[i].x,a=r[i].y,p=r[c].x,l=r[c].y;a>o!=l>o&&t<(p-v)*(o-a)/(l-a)+v&&(n=!n)}return n}function Ce(e){const r=e.slice();return r.sort((t,o)=>t.x<o.x?-1:t.x>o.x?1:t.y<o.y?-1:t.y>o.y?1:0),be(r)}function be(e){if(e.length<=1)return e.slice();const r=[];for(let o=0;o<e.length;o++){const n=e[o];for(;r.length>=2;){const i=r[r.length-1],c=r[r.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))r.pop();else break}r.push(n)}r.pop();const t=[];for(let o=e.length-1;o>=0;o--){const n=e[o];for(;t.length>=2;){const i=t[t.length-1],c=t[t.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))t.pop();else break}t.push(n)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var we=F,Pe=V,Ee=$,Re=B,_e=q,je=X;function Ae({delayDuration:e=0,...r}){return u.jsx(we,{"data-slot":"tooltip-provider",delayDuration:e,...r})}function Me({...e}){return u.jsx(Ae,{children:u.jsx(Pe,{"data-slot":"tooltip",...e})})}function He({...e}){return u.jsx(Ee,{"data-slot":"tooltip-trigger",...e})}function Se({className:e,sideOffset:r=0,children:t,...o}){return u.jsx(Re,{children:u.jsxs(_e,{"data-slot":"tooltip-content",sideOffset:r,className:_("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",e),...o,children:[t,u.jsx(je,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}export{Le as A,Ae as T,ke as a,Ne as b,Me as c,He as d,Se as e};
