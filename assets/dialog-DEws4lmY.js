import{r,a6 as C,j as o,a as p}from"./index-Bur2vjGJ.js";import{R as L,P,C as k,a as O,T as R,O as M,D as E}from"./index-lWEFEufw.js";import{X as S}from"./scroll-area-BQRKOwMF.js";function A({onLongPress:e,onClick:t,delay:a=500,disabled:l=!1}){const i=r.useRef(null),g=r.useRef(null),x=r.useCallback(s=>{l||(g.current=s.target,i.current=window.setTimeout(()=>{e(s),i.current=null},a))},[e,a,l]),u=r.useCallback((s,v=!0)=>{i.current&&(clearTimeout(i.current),i.current=null,t&&v&&!l&&t(s))},[t,l]);return{onMouseDown:x,onTouchStart:x,onMouseUp:s=>u(s),onMouseLeave:s=>u(s,!1),onTouchEnd:s=>u(s),onTouchCancel:s=>u(s,!1)}}const I=document.getElementById("long-press-overlay-root")||document.body,G=({rect:e,actions:t,onClose:a,highlightRadius:l=8,renderHighlighted:i})=>{r.useEffect(()=>{const d=f=>{f.key==="Escape"&&a()};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[a]);const g=r.useRef(null),[x,u]=r.useState({top:0,left:0});if(r.useLayoutEffect(()=>{if(!e||!g.current)return;const f=g.current.getBoundingClientRect(),y=f.width,h=f.height,n=8,w=window.innerWidth,b=window.innerHeight;let c=e.bottom+n,m=e.left;if(!(c+h<=b)){const N=e.top-n-h;if(N>=0)c=N-n;else{const j=e.left-n-y;if(j>=0)c=e.top,m=j;else{const D=e.right+n;D+y<=w?(c=e.top,m=D):(c=Math.max(n,Math.min(b-h-n,e.top)),m=Math.max(n,Math.min(w-y-n,e.left)))}}}m=Math.max(n,Math.min(w-y-n,m)),c=Math.max(n,Math.min(b-h-n,c)),u({top:c,left:m})},[e,t==null?void 0:t.length]),!e)return null;const s={position:"fixed",top:x.top,left:x.left,zIndex:10002,minWidth:160,background:"var(--background, #fff)",borderRadius:8,boxShadow:"0 4px 24px rgba(0,0,0,0.12)",padding:8},v={position:"fixed",top:e.top-l,left:e.left-l,width:e.width+l*2,height:e.height+l*2,zIndex:10003,pointerEvents:"none",transition:"all 0.2s"},z={position:"fixed",inset:0,zIndex:10001,backdropFilter:"blur(6px)",background:"rgba(0,0,0,0.08)",transition:"backdrop-filter 0.2s"};return C.createPortal(o.jsxs(o.Fragment,{children:[o.jsx("div",{style:z,onClick:a,"aria-label":"Close overlay"}),i&&o.jsx("div",{style:v,children:i()}),o.jsx("div",{ref:g,style:s,className:"bg-popover text-popover-foreground z-50 min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",children:t.map((d,f)=>o.jsxs("button",{onClick:()=>{d.onClick(),a()},className:`relative flex cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none select-none w-full transition-colors
              ${d.destructive?"text-destructive-foreground hover:bg-destructive/10 dark:hover:bg-destructive/40 hover:text-destructive-foreground":"hover:bg-accent hover:text-accent-foreground"}
            `,tabIndex:0,type:"button",children:[d.icon,d.label]},f))})]}),I)},J=L,F=P,T=r.forwardRef(({className:e,...t},a)=>o.jsx(M,{ref:a,className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));T.displayName=M.displayName;const H=r.forwardRef(({className:e,children:t,...a},l)=>o.jsxs(F,{children:[o.jsx(T,{}),o.jsxs(k,{ref:l,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),style:{transformOrigin:"center",...a.style},...a,children:[t,o.jsxs(O,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(S,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));H.displayName=k.displayName;const W=({className:e,...t})=>o.jsx("div",{className:p("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});W.displayName="DialogHeader";const B=({className:e,...t})=>o.jsx("div",{className:p("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});B.displayName="DialogFooter";const K=r.forwardRef(({className:e,...t},a)=>o.jsx(R,{ref:a,className:p("text-lg font-semibold leading-none tracking-tight",e),...t}));K.displayName=R.displayName;const U=r.forwardRef(({className:e,...t},a)=>o.jsx(E,{ref:a,className:p("text-sm text-muted-foreground",e),...t}));U.displayName=E.displayName;export{J as D,G as L,H as a,W as b,K as c,B as d,F as e,T as f,A as u};
