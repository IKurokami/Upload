import{c as re,r as s,j as t,u as F,S as Bt,d as Fe,a as b,e as Kt,f as Le,R as Ut,b as zt,L as Re,B as te}from"./index-ImkOsJzG.js";import{C as ue,b as pe,c as fe,a as me,e as Ee,d as Se}from"./card-D_-TSsK_.js";import{S as Vt,a as qt}from"./scroll-area-D4OuPx3o.js";import{c as xe,d as $e,e as Ht,b as ae,f as Yt,a as h,P as H,g as Xt,D as Wt,u as Qt,h as Pe,I as Ie}from"./index-DAT3OwXg.js";import{c as Zt,a as Ge,I as Jt,R as eo}from"./index-aAoXt5Xy.js";import{h as to,u as oo,R as no,F as ro,c as Be,a as Ke,W as ao,C as Ue,T as ze,D as so,b as he,P as Ve,O as qe,d as co,X as io}from"./index-Do2wKAdG.js";import{c as He,R as lo,A as uo,C as po,a as fo,E as Te}from"./index-BJPslMbN.js";import{B as mo,U as go}from"./badge-BC3mvHYM.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ho=re("ArrowRight",xo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],wo=re("EllipsisVertical",vo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],bo=re("Search",Mo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_o=re("Trash2",Do);var ge=["Enter"," "],Co=["ArrowDown","PageUp","Home"],Ye=["ArrowUp","PageDown","End"],jo=[...Co,...Ye],yo={ltr:[...ge,"ArrowRight"],rtl:[...ge,"ArrowLeft"]},No={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Z="Menu",[W,Ao,Ro]=Zt(Z),[L,Xe]=xe(Z,[Ro,He,Ge]),se=He(),We=Ge(),[Eo,$]=L(Z),[So,J]=L(Z),Qe=e=>{const{__scopeMenu:o,open:n=!1,children:r,dir:a,onOpenChange:c,modal:l=!0}=e,d=se(o),[g,p]=s.useState(null),u=s.useRef(!1),i=$e(c),m=Ht(a);return s.useEffect(()=>{const M=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",M,{capture:!0}),()=>{document.removeEventListener("keydown",M,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),t.jsx(lo,{...d,children:t.jsx(Eo,{scope:o,open:n,onOpenChange:i,content:g,onContentChange:p,children:t.jsx(So,{scope:o,onClose:s.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:u,dir:m,modal:l,children:r})})})};Qe.displayName=Z;var Po="MenuAnchor",ve=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e,a=se(n);return t.jsx(uo,{...a,...r,ref:o})});ve.displayName=Po;var we="MenuPortal",[Io,Ze]=L(we,{forceMount:void 0}),Je=e=>{const{__scopeMenu:o,forceMount:n,children:r,container:a}=e,c=$(we,o);return t.jsx(Io,{scope:o,forceMount:n,children:t.jsx(ae,{present:n||c.open,children:t.jsx(Yt,{asChild:!0,container:a,children:r})})})};Je.displayName=we;var j="MenuContent",[To,Me]=L(j),et=s.forwardRef((e,o)=>{const n=Ze(j,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,c=$(j,e.__scopeMenu),l=J(j,e.__scopeMenu);return t.jsx(W.Provider,{scope:e.__scopeMenu,children:t.jsx(ae,{present:r||c.open,children:t.jsx(W.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(Oo,{...a,ref:o}):t.jsx(ko,{...a,ref:o})})})})}),Oo=s.forwardRef((e,o)=>{const n=$(j,e.__scopeMenu),r=s.useRef(null),a=F(o,r);return s.useEffect(()=>{const c=r.current;if(c)return to(c)},[]),t.jsx(be,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:h(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ko=s.forwardRef((e,o)=>{const n=$(j,e.__scopeMenu);return t.jsx(be,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),be=s.forwardRef((e,o)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:g,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:m,onDismiss:M,disableOutsideScroll:v,...R}=e,N=$(j,n),I=J(j,n),G=se(n),B=We(n),ee=Ao(n),[ie,x]=s.useState(null),w=s.useRef(null),_=F(o,w,N.onContentChange),T=s.useRef(0),O=s.useRef(""),y=s.useRef(0),k=s.useRef(null),K=s.useRef("right"),U=s.useRef(0),Lt=v?no:s.Fragment,$t=v?{as:Bt,allowPinchZoom:!0}:void 0,Gt=f=>{var V,Ne;const C=O.current+f,A=ee().filter(E=>!E.disabled),P=document.activeElement,le=(V=A.find(E=>E.ref.current===P))==null?void 0:V.textValue,de=A.map(E=>E.textValue),ye=Yo(de,C,le),Y=(Ne=A.find(E=>E.textValue===ye))==null?void 0:Ne.ref.current;(function E(Ae){O.current=Ae,window.clearTimeout(T.current),Ae!==""&&(T.current=window.setTimeout(()=>E(""),1e3))})(C),Y&&setTimeout(()=>Y.focus())};s.useEffect(()=>()=>window.clearTimeout(T.current),[]),oo();const z=s.useCallback(f=>{var A,P;return K.current===((A=k.current)==null?void 0:A.side)&&Wo(f,(P=k.current)==null?void 0:P.area)},[]);return t.jsx(To,{scope:n,searchRef:O,onItemEnter:s.useCallback(f=>{z(f)&&f.preventDefault()},[z]),onItemLeave:s.useCallback(f=>{var C;z(f)||((C=w.current)==null||C.focus(),x(null))},[z]),onTriggerLeave:s.useCallback(f=>{z(f)&&f.preventDefault()},[z]),pointerGraceTimerRef:y,onPointerGraceIntentChange:s.useCallback(f=>{k.current=f},[]),children:t.jsx(Lt,{...$t,children:t.jsx(ro,{asChild:!0,trapped:a,onMountAutoFocus:h(c,f=>{var C;f.preventDefault(),(C=w.current)==null||C.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(Wt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:m,onDismiss:M,children:t.jsx(eo,{asChild:!0,...B,dir:I.dir,orientation:"vertical",loop:r,currentTabStopId:ie,onCurrentTabStopIdChange:x,onEntryFocus:h(g,f=>{I.isUsingKeyboardRef.current||f.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(po,{role:"menu","aria-orientation":"vertical","data-state":xt(N.open),"data-radix-menu-content":"",dir:I.dir,...G,...R,ref:_,style:{outline:"none",...R.style},onKeyDown:h(R.onKeyDown,f=>{const A=f.target.closest("[data-radix-menu-content]")===f.currentTarget,P=f.ctrlKey||f.altKey||f.metaKey,le=f.key.length===1;A&&(f.key==="Tab"&&f.preventDefault(),!P&&le&&Gt(f.key));const de=w.current;if(f.target!==de||!jo.includes(f.key))return;f.preventDefault();const Y=ee().filter(V=>!V.disabled).map(V=>V.ref.current);Ye.includes(f.key)&&Y.reverse(),qo(Y)}),onBlur:h(e.onBlur,f=>{f.currentTarget.contains(f.target)||(window.clearTimeout(T.current),O.current="")}),onPointerMove:h(e.onPointerMove,Q(f=>{const C=f.target,A=U.current!==f.clientX;if(f.currentTarget.contains(C)&&A){const P=f.clientX>U.current?"right":"left";K.current=P,U.current=f.clientX}}))})})})})})})});et.displayName=j;var Fo="MenuGroup",De=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(H.div,{role:"group",...r,ref:o})});De.displayName=Fo;var Lo="MenuLabel",tt=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(H.div,{...r,ref:o})});tt.displayName=Lo;var oe="MenuItem",Oe="menu.itemSelect",ce=s.forwardRef((e,o)=>{const{disabled:n=!1,onSelect:r,...a}=e,c=s.useRef(null),l=J(oe,e.__scopeMenu),d=Me(oe,e.__scopeMenu),g=F(o,c),p=s.useRef(!1),u=()=>{const i=c.current;if(!n&&i){const m=new CustomEvent(Oe,{bubbles:!0,cancelable:!0});i.addEventListener(Oe,M=>r==null?void 0:r(M),{once:!0}),Xt(i,m),m.defaultPrevented?p.current=!1:l.onClose()}};return t.jsx(ot,{...a,ref:g,disabled:n,onClick:h(e.onClick,u),onPointerDown:i=>{var m;(m=e.onPointerDown)==null||m.call(e,i),p.current=!0},onPointerUp:h(e.onPointerUp,i=>{var m;p.current||(m=i.currentTarget)==null||m.click()}),onKeyDown:h(e.onKeyDown,i=>{const m=d.searchRef.current!=="";n||m&&i.key===" "||ge.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});ce.displayName=oe;var ot=s.forwardRef((e,o)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...c}=e,l=Me(oe,n),d=We(n),g=s.useRef(null),p=F(o,g),[u,i]=s.useState(!1),[m,M]=s.useState("");return s.useEffect(()=>{const v=g.current;v&&M((v.textContent??"").trim())},[c.children]),t.jsx(W.ItemSlot,{scope:n,disabled:r,textValue:a??m,children:t.jsx(Jt,{asChild:!0,...d,focusable:!r,children:t.jsx(H.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:p,onPointerMove:h(e.onPointerMove,Q(v=>{r?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:h(e.onPointerLeave,Q(v=>l.onItemLeave(v))),onFocus:h(e.onFocus,()=>i(!0)),onBlur:h(e.onBlur,()=>i(!1))})})})}),$o="MenuCheckboxItem",nt=s.forwardRef((e,o)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return t.jsx(it,{scope:e.__scopeMenu,checked:n,children:t.jsx(ce,{role:"menuitemcheckbox","aria-checked":ne(n)?"mixed":n,...a,ref:o,"data-state":Ce(n),onSelect:h(a.onSelect,()=>r==null?void 0:r(ne(n)?!0:!n),{checkForDefaultPrevented:!1})})})});nt.displayName=$o;var rt="MenuRadioGroup",[Go,Bo]=L(rt,{value:void 0,onValueChange:()=>{}}),at=s.forwardRef((e,o)=>{const{value:n,onValueChange:r,...a}=e,c=$e(r);return t.jsx(Go,{scope:e.__scopeMenu,value:n,onValueChange:c,children:t.jsx(De,{...a,ref:o})})});at.displayName=rt;var st="MenuRadioItem",ct=s.forwardRef((e,o)=>{const{value:n,...r}=e,a=Bo(st,e.__scopeMenu),c=n===a.value;return t.jsx(it,{scope:e.__scopeMenu,checked:c,children:t.jsx(ce,{role:"menuitemradio","aria-checked":c,...r,ref:o,"data-state":Ce(c),onSelect:h(r.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,n)},{checkForDefaultPrevented:!1})})})});ct.displayName=st;var _e="MenuItemIndicator",[it,Ko]=L(_e,{checked:!1}),lt=s.forwardRef((e,o)=>{const{__scopeMenu:n,forceMount:r,...a}=e,c=Ko(_e,n);return t.jsx(ae,{present:r||ne(c.checked)||c.checked===!0,children:t.jsx(H.span,{...a,ref:o,"data-state":Ce(c.checked)})})});lt.displayName=_e;var Uo="MenuSeparator",dt=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(H.div,{role:"separator","aria-orientation":"horizontal",...r,ref:o})});dt.displayName=Uo;var zo="MenuArrow",ut=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e,a=se(n);return t.jsx(fo,{...a,...r,ref:o})});ut.displayName=zo;var Vo="MenuSub",[Ir,pt]=L(Vo),X="MenuSubTrigger",ft=s.forwardRef((e,o)=>{const n=$(X,e.__scopeMenu),r=J(X,e.__scopeMenu),a=pt(X,e.__scopeMenu),c=Me(X,e.__scopeMenu),l=s.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:g}=c,p={__scopeMenu:e.__scopeMenu},u=s.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return s.useEffect(()=>u,[u]),s.useEffect(()=>{const i=d.current;return()=>{window.clearTimeout(i),g(null)}},[d,g]),t.jsx(ve,{asChild:!0,...p,children:t.jsx(ot,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":xt(n.open),...e,ref:Fe(o,a.onTriggerChange),onClick:i=>{var m;(m=e.onClick)==null||m.call(e,i),!(e.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:h(e.onPointerMove,Q(i=>{c.onItemEnter(i),!i.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(c.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:h(e.onPointerLeave,Q(i=>{var M,v;u();const m=(M=n.content)==null?void 0:M.getBoundingClientRect();if(m){const R=(v=n.content)==null?void 0:v.dataset.side,N=R==="right",I=N?-5:5,G=m[N?"left":"right"],B=m[N?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+I,y:i.clientY},{x:G,y:m.top},{x:B,y:m.top},{x:B,y:m.bottom},{x:G,y:m.bottom}],side:R}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:h(e.onKeyDown,i=>{var M;const m=c.searchRef.current!=="";e.disabled||m&&i.key===" "||yo[r.dir].includes(i.key)&&(n.onOpenChange(!0),(M=n.content)==null||M.focus(),i.preventDefault())})})})});ft.displayName=X;var mt="MenuSubContent",gt=s.forwardRef((e,o)=>{const n=Ze(j,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,c=$(j,e.__scopeMenu),l=J(j,e.__scopeMenu),d=pt(mt,e.__scopeMenu),g=s.useRef(null),p=F(o,g);return t.jsx(W.Provider,{scope:e.__scopeMenu,children:t.jsx(ae,{present:r||c.open,children:t.jsx(W.Slot,{scope:e.__scopeMenu,children:t.jsx(be,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var i;l.isUsingKeyboardRef.current&&((i=g.current)==null||i.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:h(e.onFocusOutside,u=>{u.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:h(e.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:h(e.onKeyDown,u=>{var M;const i=u.currentTarget.contains(u.target),m=No[l.dir].includes(u.key);i&&m&&(c.onOpenChange(!1),(M=d.trigger)==null||M.focus(),u.preventDefault())})})})})})});gt.displayName=mt;function xt(e){return e?"open":"closed"}function ne(e){return e==="indeterminate"}function Ce(e){return ne(e)?"indeterminate":e?"checked":"unchecked"}function qo(e){const o=document.activeElement;for(const n of e)if(n===o||(n.focus(),document.activeElement!==o))return}function Ho(e,o){return e.map((n,r)=>e[(o+r)%e.length])}function Yo(e,o,n){const a=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,c=n?e.indexOf(n):-1;let l=Ho(e,Math.max(c,0));a.length===1&&(l=l.filter(p=>p!==n));const g=l.find(p=>p.toLowerCase().startsWith(a.toLowerCase()));return g!==n?g:void 0}function Xo(e,o){const{x:n,y:r}=e;let a=!1;for(let c=0,l=o.length-1;c<o.length;l=c++){const d=o[c].x,g=o[c].y,p=o[l].x,u=o[l].y;g>r!=u>r&&n<(p-d)*(r-g)/(u-g)+d&&(a=!a)}return a}function Wo(e,o){if(!o)return!1;const n={x:e.clientX,y:e.clientY};return Xo(n,o)}function Q(e){return o=>o.pointerType==="mouse"?e(o):void 0}var Qo=Qe,Zo=ve,Jo=Je,en=et,tn=De,on=tt,nn=ce,rn=nt,an=at,sn=ct,cn=lt,ln=dt,dn=ut,un=ft,pn=gt,je="DropdownMenu",[fn,Tr]=xe(je,[Xe]),D=Xe(),[mn,ht]=fn(je),vt=e=>{const{__scopeDropdownMenu:o,children:n,dir:r,open:a,defaultOpen:c,onOpenChange:l,modal:d=!0}=e,g=D(o),p=s.useRef(null),[u=!1,i]=Qt({prop:a,defaultProp:c,onChange:l});return t.jsx(mn,{scope:o,triggerId:Pe(),triggerRef:p,contentId:Pe(),open:u,onOpenChange:i,onOpenToggle:s.useCallback(()=>i(m=>!m),[i]),modal:d,children:t.jsx(Qo,{...g,open:u,onOpenChange:i,dir:r,modal:d,children:n})})};vt.displayName=je;var wt="DropdownMenuTrigger",Mt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,c=ht(wt,n),l=D(n);return t.jsx(Zo,{asChild:!0,...l,children:t.jsx(H.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Fe(o,c.triggerRef),onPointerDown:h(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(c.onOpenToggle(),c.open||d.preventDefault())}),onKeyDown:h(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&c.onOpenToggle(),d.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});Mt.displayName=wt;var gn="DropdownMenuPortal",bt=e=>{const{__scopeDropdownMenu:o,...n}=e,r=D(o);return t.jsx(Jo,{...r,...n})};bt.displayName=gn;var Dt="DropdownMenuContent",_t=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=ht(Dt,n),c=D(n),l=s.useRef(!1);return t.jsx(en,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...r,ref:o,onCloseAutoFocus:h(e.onCloseAutoFocus,d=>{var g;l.current||(g=a.triggerRef.current)==null||g.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:h(e.onInteractOutside,d=>{const g=d.detail.originalEvent,p=g.button===0&&g.ctrlKey===!0,u=g.button===2||p;(!a.modal||u)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_t.displayName=Dt;var xn="DropdownMenuGroup",hn=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(tn,{...a,...r,ref:o})});hn.displayName=xn;var vn="DropdownMenuLabel",wn=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(on,{...a,...r,ref:o})});wn.displayName=vn;var Mn="DropdownMenuItem",Ct=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(nn,{...a,...r,ref:o})});Ct.displayName=Mn;var bn="DropdownMenuCheckboxItem",Dn=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(rn,{...a,...r,ref:o})});Dn.displayName=bn;var _n="DropdownMenuRadioGroup",Cn=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(an,{...a,...r,ref:o})});Cn.displayName=_n;var jn="DropdownMenuRadioItem",yn=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(sn,{...a,...r,ref:o})});yn.displayName=jn;var Nn="DropdownMenuItemIndicator",An=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(cn,{...a,...r,ref:o})});An.displayName=Nn;var Rn="DropdownMenuSeparator",En=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(ln,{...a,...r,ref:o})});En.displayName=Rn;var Sn="DropdownMenuArrow",Pn=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(dn,{...a,...r,ref:o})});Pn.displayName=Sn;var In="DropdownMenuSubTrigger",Tn=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(un,{...a,...r,ref:o})});Tn.displayName=In;var On="DropdownMenuSubContent",kn=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=D(n);return t.jsx(pn,{...a,...r,ref:o,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kn.displayName=On;var Fn=vt,Ln=Mt,$n=bt,Gn=_t,Bn=Ct;function Kn({...e}){return t.jsx(Fn,{"data-slot":"dropdown-menu",...e})}function Un({...e}){return t.jsx(Ln,{"data-slot":"dropdown-menu-trigger",...e})}function zn({className:e,sideOffset:o=4,...n}){return t.jsx($n,{children:t.jsx(Gn,{"data-slot":"dropdown-menu-content",sideOffset:o,className:b("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function ke({className:e,inset:o,variant:n="default",...r}){return t.jsx(Bn,{"data-slot":"dropdown-menu-item","data-inset":o,"data-variant":n,className:b("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}var jt="AlertDialog",[Vn,Or]=xe(jt,[Be]),S=Be(),yt=e=>{const{__scopeAlertDialog:o,...n}=e,r=S(o);return t.jsx(Ke,{...r,...n,modal:!0})};yt.displayName=jt;var qn="AlertDialogTrigger",Hn=s.forwardRef((e,o)=>{const{__scopeAlertDialog:n,...r}=e,a=S(n);return t.jsx(co,{...a,...r,ref:o})});Hn.displayName=qn;var Yn="AlertDialogPortal",Nt=e=>{const{__scopeAlertDialog:o,...n}=e,r=S(o);return t.jsx(Ve,{...r,...n})};Nt.displayName=Yn;var Xn="AlertDialogOverlay",At=s.forwardRef((e,o)=>{const{__scopeAlertDialog:n,...r}=e,a=S(n);return t.jsx(qe,{...a,...r,ref:o})});At.displayName=Xn;var q="AlertDialogContent",[Wn,Qn]=Vn(q),Rt=s.forwardRef((e,o)=>{const{__scopeAlertDialog:n,children:r,...a}=e,c=S(n),l=s.useRef(null),d=F(o,l),g=s.useRef(null);return t.jsx(ao,{contentName:q,titleName:Et,docsSlug:"alert-dialog",children:t.jsx(Wn,{scope:n,cancelRef:g,children:t.jsxs(Ue,{role:"alertdialog",...c,...a,ref:d,onOpenAutoFocus:h(a.onOpenAutoFocus,p=>{var u;p.preventDefault(),(u=g.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[t.jsx(Kt,{children:r}),t.jsx(Jn,{contentRef:l})]})})})});Rt.displayName=q;var Et="AlertDialogTitle",St=s.forwardRef((e,o)=>{const{__scopeAlertDialog:n,...r}=e,a=S(n);return t.jsx(ze,{...a,...r,ref:o})});St.displayName=Et;var Pt="AlertDialogDescription",It=s.forwardRef((e,o)=>{const{__scopeAlertDialog:n,...r}=e,a=S(n);return t.jsx(so,{...a,...r,ref:o})});It.displayName=Pt;var Zn="AlertDialogAction",Tt=s.forwardRef((e,o)=>{const{__scopeAlertDialog:n,...r}=e,a=S(n);return t.jsx(he,{...a,...r,ref:o})});Tt.displayName=Zn;var Ot="AlertDialogCancel",kt=s.forwardRef((e,o)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=Qn(Ot,n),c=S(n),l=F(o,a);return t.jsx(he,{...c,...r,ref:l})});kt.displayName=Ot;var Jn=({contentRef:e})=>{const o=`\`${q}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${q}\` by passing a \`${Pt}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${q}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(o)},[o,e]),null},er=yt,tr=Nt,or=At,nr=Rt,rr=Tt,ar=kt,sr=St,cr=It;function ir({...e}){return t.jsx(er,{"data-slot":"alert-dialog",...e})}function lr({...e}){return t.jsx(tr,{"data-slot":"alert-dialog-portal",...e})}function dr({className:e,...o}){return t.jsx(or,{"data-slot":"alert-dialog-overlay",className:b("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...o})}function ur({className:e,...o}){return t.jsxs(lr,{children:[t.jsx(dr,{}),t.jsx(nr,{"data-slot":"alert-dialog-content",className:b("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o})]})}function pr({className:e,...o}){return t.jsx("div",{"data-slot":"alert-dialog-header",className:b("flex flex-col gap-2 text-center sm:text-left",e),...o})}function fr({className:e,...o}){return t.jsx("div",{"data-slot":"alert-dialog-footer",className:b("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...o})}function mr({className:e,...o}){return t.jsx(sr,{"data-slot":"alert-dialog-title",className:b("text-lg font-semibold",e),...o})}function gr({className:e,...o}){return t.jsx(cr,{"data-slot":"alert-dialog-description",className:b("text-muted-foreground text-sm",e),...o})}function xr({className:e,...o}){return t.jsx(rr,{className:b(Le(),e),...o})}function hr({className:e,...o}){return t.jsx(ar,{className:b(Le({variant:"outline"}),e),...o})}function vr({...e}){return t.jsx(Ke,{"data-slot":"dialog",...e})}function wr({...e}){return t.jsx(Ve,{"data-slot":"dialog-portal",...e})}function Mr({className:e,...o}){return t.jsx(qe,{"data-slot":"dialog-overlay",className:b("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...o})}function br({className:e,children:o,...n}){return t.jsxs(wr,{"data-slot":"dialog-portal",children:[t.jsx(Mr,{}),t.jsxs(Ue,{"data-slot":"dialog-content",className:b("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[o,t.jsxs(he,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(io,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Dr({className:e,...o}){return t.jsx("div",{"data-slot":"dialog-header",className:b("flex flex-col gap-2 text-center sm:text-left",e),...o})}function _r({className:e,...o}){return t.jsx("div",{"data-slot":"dialog-footer",className:b("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...o})}function Cr({className:e,...o}){return t.jsx(ze,{"data-slot":"dialog-title",className:b("text-lg leading-none font-semibold",e),...o})}const Ft=Ut.forwardRef(({children:e,className:o,...n},r)=>t.jsxs("button",{ref:r,className:b("group relative w-auto cursor-pointer overflow-hidden rounded-full border bg-background p-2 px-6 text-center font-semibold",o),...n,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-primary transition-all duration-300 group-hover:scale-[100.8]"}),t.jsx("span",{className:"inline-block transition-all duration-300 group-hover:translate-x-12 group-hover:opacity-0",children:e})]}),t.jsxs("div",{className:"absolute top-0 z-10 flex h-full w-full translate-x-12 items-center justify-center gap-2 text-primary-foreground opacity-0 transition-all duration-300 group-hover:-translate-x-5 group-hover:opacity-100",children:[t.jsx("span",{children:e}),t.jsx(ho,{})]})]}));Ft.displayName="InteractiveHoverButton";const kr=()=>{const[e,o]=s.useState([]),[n,r]=s.useState(!0),[a,c]=s.useState(null),[l,d]=s.useState(!1),[g,p]=s.useState(!1),[u,i]=s.useState(""),[m,M]=s.useState(""),[v,R]=s.useState([]),N=async()=>{r(!0);const x=indexedDB.open("htmlEditorDB",1);x.onsuccess=w=>{const y=w.target.result.transaction(["htmlFiles"],"readonly").objectStore("htmlFiles").getAll();y.onsuccess=()=>{o(y.result),r(!1)},y.onerror=()=>{console.error("Error loading albums from IndexedDB"),r(!1),alert("Failed to load albums. Please check console for details.")}},x.onerror=w=>{console.error("IndexedDB error:",w.target.error),r(!1),alert("Failed to access albums database. Please check console for details.")}};s.useEffect(()=>{N()},[]),s.useEffect(()=>{const x=e.filter(w=>w.albumName.toLowerCase().includes(m.toLowerCase()));R(x)},[m,e]);const I=x=>{const w=e.find(_=>_.id===x);w&&(i(w.albumName),c(x),p(!0))},G=x=>{c(x),d(!0)},B=()=>{if(a===null)return;const x=indexedDB.open("htmlEditorDB",1);x.onsuccess=w=>{const y=w.target.result.transaction(["htmlFiles"],"readwrite").objectStore("htmlFiles").delete(a);y.onsuccess=()=>{console.log(`Album ${a} deleted successfully.`),N(),d(!1)},y.onerror=()=>{console.error("Error deleting album from IndexedDB"),alert("Failed to delete album. Please check console for details."),d(!1)}},x.onerror=w=>{console.error("IndexedDB error:",w.target.error),alert("Failed to access albums database. Please check console for details."),d(!1)}},ee=()=>{if(a===null||!u.trim())return;if(e.some(_=>_.albumName.toLowerCase()===u.toLowerCase()&&_.id!==a)){alert("Album name already exists. Please choose a different name.");return}const w=indexedDB.open("htmlEditorDB",1);w.onsuccess=_=>{const y=_.target.result.transaction(["htmlFiles"],"readwrite").objectStore("htmlFiles"),k=y.get(a);k.onsuccess=()=>{const K=k.result;if(K){K.albumName=u;const U=y.put(K);U.onsuccess=()=>{console.log(`Album ${a} renamed to ${u} successfully.`),N(),p(!1)},U.onerror=()=>{console.error("Error renaming album in IndexedDB"),alert("Failed to rename album. Please check console for details."),p(!1)}}else console.error("Album not found in IndexedDB for renaming."),alert("Album not found for renaming."),p(!1)},k.onerror=()=>{console.error("Error getting album from IndexedDB for renaming"),alert("Failed to access album data for renaming. Please check console for details."),p(!1)}},w.onerror=_=>{console.error("IndexedDB error:",_.target.error),alert("Failed to access albums database. Please check console for details."),p(!1)}},ie=x=>{M(x.target.value)};return n?t.jsx("div",{className:"container mx-auto p-4 max-w-4xl",children:t.jsxs(ue,{children:[t.jsx(pe,{children:t.jsxs(fe,{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Te,{size:24}),"Albums"]})}),t.jsxs(me,{className:"p-4 flex justify-center items-center",children:[t.jsx(zt,{className:"h-6 w-6 animate-spin mr-2"})," Loading albums..."]})]})}):t.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[t.jsxs(ue,{children:[t.jsxs(pe,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(fe,{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Te,{size:24}),"Albums"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ie,{type:"text",placeholder:"Search albums...",value:m,onChange:ie,className:"pr-10"}),t.jsx(bo,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500"})]})]}),t.jsx(Ee,{children:"View and manage your saved albums."})]}),t.jsx(me,{className:"p-4",children:t.jsx(Vt,{className:"w-full h-[500px] rounded-md",children:t.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:v.length>0?v.map(x=>t.jsx("div",{className:"relative group",children:t.jsxs(ue,{children:[t.jsx(pe,{className:"flex flex-row items-center justify-between pb-2",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx(fe,{className:"text-lg",children:x.albumName}),t.jsxs(Ee,{children:["Created at:"," ",new Date(x.createdAt).toLocaleDateString()]})]})}),t.jsx(me,{className:"pt-2",children:t.jsxs("p",{className:"text-sm flex items-center",children:[t.jsx(mo,{variant:"secondary",className:"mr-1",children:x.imageUrls.length})," images"]})}),t.jsxs(Se,{className:"pt-2 flex justify-between items-center",children:[t.jsx(Re,{to:`/albums/${x.id}`,className:"flex-1 mr-2",children:t.jsx(Ft,{className:"w-full",children:"View Album"})}),t.jsxs(Kn,{children:[t.jsx(Un,{asChild:!0,children:t.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:t.jsx(wo,{className:"h-4 w-4"})})}),t.jsxs(zn,{align:"end",children:[t.jsxs(ke,{onClick:()=>I(x.id),children:[t.jsx(qt,{className:"mr-2 h-4 w-4"}),"Rename"]}),t.jsxs(ke,{onClick:()=>G(x.id),className:"text-red-600",children:[t.jsx(_o,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})},x.id)):t.jsx("div",{className:"col-span-full text-center py-8",children:"No matching albums found."})})})}),t.jsx(Se,{className:"p-4 border-t",children:t.jsx(Re,{to:"/upload",children:t.jsxs(te,{variant:"outline",children:[t.jsx(go,{size:16,className:"mr-2"}),"Back to Uploader"]})})})]}),t.jsx(vr,{open:g,onOpenChange:p,children:t.jsxs(br,{children:[t.jsx(Dr,{children:t.jsx(Cr,{children:"Rename Album"})}),t.jsx("div",{className:"py-4",children:t.jsx(Ie,{value:u,onChange:x=>i(x.target.value),placeholder:"Enter new album name"})}),t.jsxs(_r,{children:[t.jsx(te,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),t.jsx(te,{onClick:ee,children:"Save"})]})]})}),t.jsx(ir,{open:l,onOpenChange:d,children:t.jsxs(ur,{children:[t.jsxs(pr,{children:[t.jsx(mr,{children:"Are you sure?"}),t.jsx(gr,{children:"This action cannot be undone. This will permanently delete the album and all its data."})]}),t.jsxs(fr,{children:[t.jsx(hr,{children:"Cancel"}),t.jsx(xr,{onClick:B,children:"Delete"})]})]})})]})};export{kr as default};
