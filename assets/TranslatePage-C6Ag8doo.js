import{c as M,an as xs,r,R as ps,j as e,B as i,a as R,aa as hs,L as us,ao as Fe,ac as ae,t as m,ab as I}from"./index-CHI3cDuY.js";import{C as le}from"./card-DfmPHGdW.js";import{a as $,T as Z}from"./index-BDRppopm.js";import{I as u}from"./input-BqULOogj.js";import{S as re,a as ne,b as ie,c as oe,d as ce,f as fs}from"./select-7Da9A0QY.js";import{T as gs,a as ws,b as Ue,c as Ve}from"./index-CIbI2p6e.js";import{A as js,X as De}from"./x-B1IoeWaS.js";import{T as me}from"./trash-2-BfgOtW68.js";import{F as _e}from"./file-down-z5JxVzUP.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],de=M("ArrowUp",Ns);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vs=M("CircleCheck",bs);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],ys=M("Clipboard",Ts);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],ks=M("Eraser",Cs);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],ze=M("FilePlus",Ss);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Le=M("Lightbulb",As);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xe=M("Plus",Es),Ms=n=>!n||typeof n!="object"?(console.warn("Invalid mapping entry:",n),null):{term:String(n.term||""),transcription:String(n.transcription||""),type:String(n.type||""),gender:String(n.gender||""),notes:String(n.notes||"")},Bs=n=>!n||typeof n!="object"?(console.warn("Invalid relationship entry:",n),null):{characterA:String(n.characterA||""),characterB:String(n.characterB||""),relationship:String(n.relationship||""),addressTermsAToB:String(n.addressTermsAToB||""),addressTermsBToA:String(n.addressTermsBToA||""),notes:String(n.notes||"")},qe=(n,C,K,P)=>{if(!Array.isArray(C))return console.error("Invalid entries format:",C),{newTable:n,updatedCount:0};const S=[...n];let F=0;return C.forEach(H=>{const p=K(H);if(p){const d=P(S,p);d>=0?S[d]=p:S.push(p),F++}}),{newTable:S,updatedCount:F}},Ls=()=>{var $e,Pe;const n=xs(),[C,K]=r.useState(""),[P,S]=r.useState(""),[F,H]=r.useState(!1),[p,d]=r.useState(null),[pe,he]=r.useState(!1),[,ue]=r.useState(!0),[fe,ge]=r.useState("gemini-2.0-flash-exp-image-generation"),Ge=["gemini-2.0-flash-exp-image-generation","gemini-2.0-flash-thinking-exp-01-21","gemini-2.5-pro-exp-03-25"],[Ke,He]=r.useState(null),[x,A]=r.useState([]),[h,U]=r.useState(""),[V,we]=r.useState(""),[D,J]=r.useState(!1),[f,O]=r.useState(""),[_,z]=r.useState(""),[je,Q]=r.useState(""),[Oe,Y]=r.useState(!1),[Ne,Ye]=r.useState("mapping"),[g,b]=r.useState([]),[w,v]=r.useState([]),[be,L]=r.useState(""),[ve,q]=r.useState(""),[y,W]=r.useState(!1),[Te,ye]=r.useState([]),[Ce,ke]=r.useState([]),[Se,ee]=r.useState(!1),X=ps.useRef(null),se=r.useRef(null);r.useEffect(()=>{(async()=>{try{const t=await ae("apiKey"),a=await ae("translateModel"),l=await ae("translationCollections");if(t&&He(t),a&&ge(a),l&&l.length>0)A(l),U(l[0].id),b(l[0].mappingTable),v(l[0].relationshipsTable);else{const c={id:Date.now().toString(),name:"Default Collection",mappingTable:[],relationshipsTable:[]};A([c]),U(c.id)}}catch(t){console.error("Error loading settings:",t)}})()},[]),r.useEffect(()=>{h&&!f&&O(h)},[h,f]);const We=async s=>{ge(s),await I("translateModel",s)},Xe=(s,t)=>{try{const a=s.trim().split(`
`);if(a.length<3)return[];const l=a.slice(2);return t?l.map(c=>{const o=c.split("|").filter((N,T,k)=>T!==0&&T!==k.length-1||N.trim()!=="").map(N=>N.trim());if(o.length<5)for(console.warn("Row has fewer than expected columns:",c);o.length<5;)o.push("");return{term:o[0]||"",transcription:o[1]||"",type:o[2]||"",gender:o[3]||"",notes:o[4]||""}}):l.map(c=>{const o=c.split("|").filter((N,T,k)=>T!==0&&T!==k.length-1||N.trim()!=="").map(N=>N.trim());if(o.length<6)for(console.warn("Row has fewer than expected columns:",c);o.length<6;)o.push("");return{characterA:o[0]||"",characterB:o[1]||"",relationship:o[2]||"",addressTermsAToB:o[3]||"",addressTermsBToA:o[4]||"",notes:o[5]||""}})}catch(a){return console.error("Error parsing markdown table:",a),[]}},E=(s,t)=>{if(s.length===0)return"";let a="";return t?(a=`| Term / Name | Transcription | Type (Person/Place/Other) | Gender (if person) | Notes |
`,a+=`|:----------- |:------------- |:------------------------- |:------------------ |:------ |
`,s.forEach(l=>{a+=`| ${l.term} | ${l.transcription} | ${l.type} | ${l.gender} | ${l.notes} |
`})):(a=`| Character A | Character B | Relationship | Address Terms (A→B) | Address Terms (B→A) | Notes |
`,a+=`|:----------- |:----------- |:------------ |:------------------- |:------------------- |:----- |
`,s.forEach(l=>{a+=`| ${l.characterA} | ${l.characterB} | ${l.relationship} | ${l.addressTermsAToB} | ${l.addressTermsBToA} | ${l.notes} |
`})),a},Ae=(s,t)=>{try{if(!s.trim()){m.error("Please enter a markdown table to import"),d("Please enter a markdown table to import");return}if(!s.includes("|")){m.error("Invalid table format. Table must contain pipe characters (|)"),d("Import failed: Invalid table format. Table must contain pipe characters (|)");return}const a=s.trim().split(`
`);if(a.length<3){m.error("Table must contain at least 3 lines (header, separator, and data row)"),d("Import failed: Table must contain at least 3 lines (header, separator, and data row)");return}const l=a[1];if(!l.includes("|")||!l.includes("-")){m.error("Second line must be a separator with pipes (|) and dashes (-)"),d("Import failed: Second line must be a separator with pipes (|) and dashes (-)");return}const c=Xe(s,t);if(c.length===0){m.error("No valid data rows found in the table"),d("Import failed: No valid data rows found in the table");return}d(null),t?(ye(g),b(c)):(ke(w),v(c)),j(t,c),ee(!0),setTimeout(()=>{ee(!1)},6e4),m.success(`${t?"Mapping":"Relationships"} table imported successfully`)}catch(a){console.error("Error importing markdown table:",a),m.error(`Import failed: ${a instanceof Error?a.message:"Unknown error"}`),d(`Import failed: ${a instanceof Error?a.message:"Unknown error"}`)}},Ee=s=>{s?(b(Te),j(!0,Te),ye([])):(v(Ce),j(!1,Ce),ke([])),ee(!1),m.success(`${s?"Mapping":"Relationships"} table reverted to previous state`)},j=(s,t)=>{if(!h)return;const a=x.map(l=>l.id===h?{...l,mappingTable:s?t:l.mappingTable,relationshipsTable:s?l.relationshipsTable:t}:l);A(a),I("translationCollections",a)},Me=s=>{const t=E(s?g:w,s);s?L(t):q(t),W(!0)},Be=s=>{if(s===h)return;te();const t=x.find(a=>a.id===s);t&&(U(s),b(t.mappingTable),v(t.relationshipsTable))},te=()=>{if(!h)return;const s=x.map(t=>t.id===h?{...t,mappingTable:g,relationshipsTable:w}:t);A(s),I("translationCollections",s)},Ze=()=>{if(!V.trim()){m.error("Please enter a name for the new collection"),d("Please enter a name for the new collection");return}te();const s={id:Date.now().toString(),name:V,mappingTable:[],relationshipsTable:[]},t=[...x,s];A(t),U(s.id),b([]),v([]),we(""),I("translationCollections",t),m.success(`Collection "${V}" created`)},Je=s=>{if(x.length<=1){m.error("You must have at least one collection"),d("You must have at least one collection");return}const t=x.find(l=>l.id===s),a=x.filter(l=>l.id!==s);A(a),s===h&&(U(a[0].id),b(a[0].mappingTable),v(a[0].relationshipsTable)),I("translationCollections",a),t&&m.success(`Collection "${t.name}" deleted`)},Re=()=>{W(!y),y||(Ne==="mapping"?L(E(g,!0)):q(E(w,!1)))},Qe=async()=>{if(!C.trim()){m.error("Please enter text to translate"),d("Please enter text to translate");return}te(),H(!0),d(null),m.promise(async()=>{try{const s=E(g,!0),t=E(w,!1),a=await fs(C,s,t,Ke||"default-key",fe,{onMappingTableUpdate:l=>{console.log("Received entries mapping table:",l);try{const{newTable:c,updatedCount:o}=qe(g,l,Ms,(N,T)=>N.findIndex(k=>k.term===T.term));o>0&&(b(c),j(!0,c),m.success(`Updated mapping table with ${o} entries`))}catch(c){console.error("Error updating mapping table:",c),m.error("Failed to update mapping table")}},onRelationshipsTableUpdate:l=>{console.log("Received entries relationships table:",l);try{const{newTable:c,updatedCount:o}=qe(w,l,Bs,(N,T)=>N.findIndex(k=>k.characterA===T.characterA&&k.characterB===T.characterB));o>0&&(v(c),j(!1,c),m.success(`Updated relationships table with ${o} entries`))}catch(c){console.error("Error updating relationships table:",c),m.error("Failed to update relationships table")}}});if(a.hasError)throw d(a.thinking||"Translation failed. Please try again."),new Error(a.thinking||"Translation failed");return S(a.ocrText||""),a.ocrText}catch(s){throw console.error("Translation error:",s),d("An error occurred during translation. Please try again."),s}finally{H(!1)}},{loading:"Translating text...",success:"Translation completed successfully",error:s=>`Translation failed: ${s instanceof Error?s.message:"Unknown error"}`})},es=()=>{navigator.clipboard.writeText(P),he(!0),m.success("Copied to clipboard"),setTimeout(()=>he(!1),2e3)},ss=()=>{const s={term:"",transcription:"",type:"",gender:"",notes:""},t=[...g,s];b(t),j(!0,t)},G=(s,t,a)=>{const l=[...g];l[s]={...l[s],[t]:a},b(l),j(!0,l)},ts=s=>{const t=g.filter((a,l)=>l!==s);b(t),j(!0,t)},as=()=>{const s={characterA:"",characterB:"",relationship:"",addressTermsAToB:"",addressTermsBToA:"",notes:""},t=[...w,s];v(t),j(!1,t)},B=(s,t,a)=>{const l=[...w];l[s]={...l[s],[t]:a},v(l),j(!1,l)},ls=s=>{const t=w.filter((a,l)=>l!==s);v(t),j(!1,t)};r.useEffect(()=>{const s=()=>{window.scrollY>200?ue(!0):ue(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const rs=()=>{if(console.log("Scrolling to top attempt"),X.current){X.current.scrollIntoView({behavior:"smooth"}),console.log("Used scrollIntoView");return}try{window.scroll({top:0,left:0,behavior:"smooth"}),console.log("Used window.scroll")}catch{window.scrollTo(0,0),console.log("Used fallback scrollTo")}},ns=()=>{K(""),S(""),d(null),m.info("Text cleared")},is=()=>{if(!f||!_.trim())return;const s=x.map(t=>t.id===f?{...t,name:_.trim()}:t);A(s),I("translationCollections",s),m.success(`Collection renamed to "${_}"`),Ie()},os=s=>{const t=!D;if(J(t),t){const a=x.find(l=>l.id===s);a&&(O(s),z(a.name))}};r.useEffect(()=>{D&&se.current&&setTimeout(()=>{var s;(s=se.current)==null||s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},[D]);const Ie=()=>{J(!1),O(""),z(""),Q(""),Y(!1),setTimeout(()=>{var s;(s=X.current)==null||s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},cs=s=>{Q(s),Y(!0)},ms=()=>{je&&(Je(je),Y(!1),Q(""),J(!1))},ds=s=>{Be(s),Ie()};return r.useEffect(()=>{if(f){const s=x.find(t=>t.id===f);s&&z(s.name)}},[f,x]),e.jsxs("div",{className:"container mx-auto p-4 flex flex-col gap-6 pb-10 relative",children:[e.jsx("div",{ref:X,className:"absolute top-0"}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Text Translator"}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(i,{variant:"outline",onClick:ns,"aria-label":"Clear all text",children:[e.jsx(ks,{className:"h-5 w-5 mr-2"}),"Clear"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-[600px]",children:[e.jsx(le,{className:R("p-6",n&&"arcrylic-blur"),children:e.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsx($,{htmlFor:"inputText",className:"text-lg font-medium",children:"Input Text"}),e.jsxs(re,{value:fe,onValueChange:We,children:[e.jsx(ne,{className:"w-full sm:w-[300px]",children:e.jsx(ie,{placeholder:"Select model"})}),e.jsx(oe,{children:Ge.map(s=>e.jsx(ce,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsx($,{htmlFor:"collectionSelect",className:"text-sm font-medium",children:"Translation Collection"}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto items-center",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs(re,{value:h,onValueChange:Be,children:[e.jsx(ne,{id:"collectionSelect",className:"w-full",children:e.jsx(ie,{placeholder:"Select collection"})}),e.jsx(oe,{children:x.map(s=>e.jsx(ce,{value:s.id,children:s.name},s.id))})]})}),e.jsx(i,{variant:D?"default":"outline",size:"icon",onClick:()=>os(h),title:"Toggle Collection Settings",children:e.jsx(hs,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"flex-grow flex flex-col",children:e.jsx(Z,{id:"inputText",placeholder:"Enter text to translate...",className:"min-h-[300px] flex-grow text-base leading-relaxed",value:C,onChange:s=>K(s.target.value)})}),e.jsx(i,{onClick:Qe,disabled:F||!C.trim(),className:"w-full",children:F?e.jsxs(e.Fragment,{children:["Translating..."," ",e.jsx(us,{className:"ml-2 h-4 w-4 animate-spin"})]}):e.jsxs(e.Fragment,{children:["Translate ",e.jsx(js,{className:"ml-2 h-4 w-4"})]})})]})}),e.jsx(le,{className:R("p-6",n&&"arcrylic-blur"),children:e.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx($,{htmlFor:"translatedText",className:"text-lg font-medium",children:"Translated Text"}),e.jsxs(i,{variant:"ghost",size:"sm",onClick:es,disabled:!P,"aria-label":"Copy to clipboard",children:[pe?e.jsx(vs,{className:"h-4 w-4 mr-2"}):e.jsx(ys,{className:"h-4 w-4 mr-2"}),pe?"Copied!":"Copy"]})]}),e.jsx("div",{className:"flex-grow flex flex-col",children:e.jsx(Z,{id:"translatedText",className:"min-h-[300px] flex-grow text-base leading-relaxed",value:P,readOnly:!0,placeholder:"Translation will appear here..."})}),p&&!p.includes("import")&&e.jsx("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm border border-destructive/20",children:p})]})})]}),e.jsxs(le,{className:R("p-6",n&&"arcrylic-blur"),children:[e.jsx("div",{ref:se,className:R("overflow-hidden transition-all duration-300 ease-in-out",D?"h-[400px] sm:h-[320px] opacity-100 mb-6 pb-6 border-b border-gray-200 dark:border-gray-700":"h-0 opacity-0 mb-0 pb-0 border-b-0"),tabIndex:-1,children:e.jsxs("div",{className:"h-full",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Collection Management"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"collectionManagement",className:"block text-sm font-medium mb-2",children:"Collection"}),e.jsxs(re,{value:f,onValueChange:s=>{O(s);const t=x.find(a=>a.id===s);t&&z(t.name)},children:[e.jsx(ne,{id:"collectionManagement",className:"w-full",children:e.jsx(ie,{placeholder:"Select collection"})}),e.jsx(oe,{children:x.map(s=>e.jsxs(ce,{value:s.id,children:[s.name,s.id===h?" (Current)":""]},s.id))})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx($,{className:"text-sm font-medium mb-2",children:"New Collection"}),e.jsxs("div",{className:"flex gap-2 h-10",children:[e.jsx(u,{placeholder:"New collection name",value:V,onChange:s=>we(s.target.value),className:"flex-1"}),e.jsxs(i,{variant:"outline",onClick:Ze,disabled:!V.trim(),children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Add"]})]})]})]}),f&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"text-lg font-medium mb-3",children:(($e=x.find(s=>s.id===f))==null?void 0:$e.name)||"Selected Collection"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"renameCollection",className:"text-sm font-medium mb-2",children:"Rename"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{id:"renameCollection",value:_,onChange:s=>z(s.target.value),placeholder:"New name",className:"flex-1"}),e.jsx(i,{variant:"outline",onClick:is,disabled:!_.trim(),children:"Save"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:[e.jsx(i,{variant:"default",className:"w-full",onClick:()=>ds(f),children:"Use This Collection"}),e.jsxs(i,{variant:"destructive",className:"w-full",onClick:()=>cs(f),disabled:x.length<=1,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Delete Collection"]})]})]})]}),Oe&&e.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-destructive/10 text-destructive",children:[e.jsx("p",{className:"font-medium mb-2",children:"Are you sure you want to delete this collection?"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),e.jsx(i,{variant:"destructive",onClick:ms,children:"Delete Collection"})]})]})]})}),e.jsxs(gs,{defaultValue:Ne,onValueChange:s=>{Ye(s),y&&(s==="mapping"?L(E(g,!0)):q(E(w,!1)))},className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold",children:["Translation Mapping Tables",h&&e.jsxs("span",{className:"text-base sm:text-lg font-medium ml-2 text-muted-foreground",children:["-"," ",((Pe=x.find(s=>s.id===h))==null?void 0:Pe.name)||""]})]}),e.jsxs(ws,{className:"w-full sm:w-auto mt-2 sm:mt-0",children:[e.jsx(Ue,{value:"mapping",className:"text-xs sm:text-sm px-2 sm:px-4 flex-1 sm:flex-initial",children:"Mapping Table"}),e.jsx(Ue,{value:"relationships",className:"text-xs sm:text-sm px-2 sm:px-4 flex-1 sm:flex-initial",children:"Relationships Table"})]})]}),e.jsx(Ve,{value:"mapping",className:"mt-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2 sm:gap-4",children:[e.jsxs(i,{onClick:ss,variant:"default",className:"text-xs sm:text-sm h-8 sm:h-10 px-2 sm:px-4 w-full md:w-auto",children:[e.jsx(xe,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Add New Entry"]}),e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-end",children:[e.jsx(i,{variant:y?"default":"outline",onClick:Re,className:"text-xs sm:text-sm h-8 sm:h-10 px-2 sm:px-4",children:y?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Close"]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Import/Export"]})}),e.jsxs(i,{variant:"ghost",onClick:()=>{L(`| Term / Name | Transcription | Type (Person/Place/Other) | Gender (if person) | Notes |
|:----------- |:------------- |:------------------------- |:------------------ |:------ |
| 事情是这样的 | Chuyện là thế này | Phrase | | Opening phrase |
| 最近 | Gần đây | Time | | |
| 师兄 | Sư huynh | Title/Relationship | Male | Elder martial brother |
| 其实 | Thực ra | Adverb | | |`),W(!0)},className:"text-xs sm:text-sm h-8 sm:h-10 px-2 sm:px-4",children:[e.jsx(Le,{className:"h-4 w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Sample"})]})]})]}),e.jsx("div",{className:R("overflow-hidden transition-all duration-300 ease-in-out",y?"h-[280px] sm:h-[320px] opacity-100":"h-0 opacity-0"),children:e.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-4 rounded-md border bg-muted/20 max-w-[100vw]",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium",children:"Import/Export Markdown"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-1 sm:gap-2 mt-1 sm:mt-0 w-full sm:w-auto",children:[Se&&e.jsxs(i,{variant:"destructive",size:"sm",onClick:()=>Ee(!0),className:"text-xs sm:text-sm px-2 py-1 flex-1 sm:flex-initial",title:"Revert to previous state (available for 1 minute)",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"inline",children:"Undo Import"})]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>Me(!0),title:"Update markdown from current table",className:"text-xs sm:text-sm px-2 py-1 flex-1 sm:flex-initial",children:[e.jsx(_e,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"inline",children:"Update"})]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>Ae(be,!0),className:"text-xs sm:text-sm px-2 py-1 flex-1 sm:flex-initial",children:[e.jsx(Fe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"inline",children:"Import"})]})]})]}),e.jsx(Z,{placeholder:"Paste markdown table here...",className:"h-36 sm:h-48 w-full text-xs sm:text-sm font-mono",value:be,onChange:s=>L(s.target.value),style:{maxWidth:"100%"}}),p&&p.includes("import")&&e.jsx("div",{className:"text-red-500 text-sm",children:p})]})}),e.jsx("div",{className:"overflow-x-auto rounded-md border max-w-full -mx-0",children:e.jsxs("table",{className:"w-full border-collapse min-w-max table-fixed sm:table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Term / Name"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Transcription"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Type"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Gender"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Notes"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:g.map((s,t)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.term,onChange:a=>G(t,"term",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.transcription,onChange:a=>G(t,"transcription",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.type,onChange:a=>G(t,"type",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.gender,onChange:a=>G(t,"gender",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.notes,onChange:a=>G(t,"notes",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4",children:e.jsxs(i,{variant:"destructive",size:"sm",onClick:()=>ts(t),className:"w-full text-xs sm:text-sm h-7 sm:h-9 px-1 sm:px-3",children:[e.jsx(me,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Remove"})]})})]},t))})]})})]})}),e.jsx(Ve,{value:"relationships",className:"mt-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2 sm:gap-4",children:[e.jsxs(i,{onClick:as,variant:"default",className:"text-xs sm:text-sm h-8 sm:h-10 px-2 sm:px-4 w-full md:w-auto",children:[e.jsx(xe,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Add New Entry"]}),e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-end",children:[e.jsx(i,{variant:y?"default":"outline",onClick:Re,className:"text-xs sm:text-sm h-8 sm:h-10 px-2 sm:px-4",children:y?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Close"]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Import/Export"]})}),e.jsxs(i,{variant:"ghost",onClick:()=>{q(`| Character A | Character B | Relationship | Address Terms (A→B) | Address Terms (B→A) | Notes |
|:----------- |:----------- |:------------ |:------------------- |:------------------- |:----- |
| Vưu Thiên Thu | Triệu Không Minh | Adoptive Younger Sister -> Elder Brother | Huynh trưởng, Sư huynh | Ngươi | Formal/Respectful |
| Lâm Linh Dao | Vưu Thiên Thu | Female Lead 2 -> Female Lead 1 | Dao tỷ tỷ, Muội | Thiên Thu | Relationship strained |`),W(!0)},className:"text-xs sm:text-sm h-8 sm:h-10 px-2 sm:px-4",children:[e.jsx(Le,{className:"h-4 w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Sample"})]})]})]}),e.jsx("div",{className:R("overflow-hidden transition-all duration-300 ease-in-out",y?"h-[280px] sm:h-[320px] opacity-100":"h-0 opacity-0"),children:e.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-4 rounded-md border bg-muted/20 max-w-[100vw]",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium",children:"Import/Export Markdown"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-1 sm:gap-2 mt-1 sm:mt-0 w-full sm:w-auto",children:[Se&&e.jsxs(i,{variant:"destructive",size:"sm",onClick:()=>Ee(!1),className:"text-xs sm:text-sm px-2 py-1 flex-1 sm:flex-initial",title:"Revert to previous state (available for 1 minute)",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"inline",children:"Undo Import"})]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>Me(!1),title:"Update markdown from current table",className:"text-xs sm:text-sm px-2 py-1 flex-1 sm:flex-initial",children:[e.jsx(_e,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"inline",children:"Update"})]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>Ae(ve,!1),className:"text-xs sm:text-sm px-2 py-1 flex-1 sm:flex-initial",children:[e.jsx(Fe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"inline",children:"Import"})]})]})]}),e.jsx(Z,{placeholder:"Paste markdown table here...",className:"h-36 sm:h-48 w-full text-xs sm:text-sm font-mono",value:ve,onChange:s=>q(s.target.value),style:{maxWidth:"100%"}}),p&&p.includes("import")&&e.jsx("div",{className:"text-red-500 text-sm",children:p})]})}),e.jsx("div",{className:"overflow-x-auto rounded-md border max-w-full -mx-0",children:e.jsxs("table",{className:"w-full border-collapse min-w-max table-fixed sm:table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Character A"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Character B"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Relationship"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Address (A→B)"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Address (B→A)"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Notes"}),e.jsx("th",{className:"text-left py-1 sm:py-2 px-1 sm:px-2 md:px-4 text-xs sm:text-sm whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:w.map((s,t)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.characterA,onChange:a=>B(t,"characterA",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.characterB,onChange:a=>B(t,"characterB",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.relationship,onChange:a=>B(t,"relationship",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.addressTermsAToB,onChange:a=>B(t,"addressTermsAToB",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.addressTermsBToA,onChange:a=>B(t,"addressTermsBToA",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4 min-w-[100px]",children:e.jsx(u,{value:s.notes,onChange:a=>B(t,"notes",a.target.value),className:"w-full text-xs sm:text-sm px-1 py-0.5 sm:px-3 sm:py-1.5 h-7 sm:h-9"})}),e.jsx("td",{className:"py-1 sm:py-2 px-1 sm:px-2 md:px-4",children:e.jsxs(i,{variant:"destructive",size:"sm",onClick:()=>ls(t),className:"w-full text-xs sm:text-sm h-7 sm:h-9 px-1 sm:px-3",children:[e.jsx(me,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Remove"})]})})]},t))})]})})]})})]})]}),e.jsx(i,{variant:"default",size:"lg",className:"fixed bottom-6 right-6 rounded-full shadow-lg hover:shadow-xl z-[9999] w-12 h-12 p-0",onClick:()=>{console.log("Button clicked"),rs()},"aria-label":"Scroll to top",children:e.jsx(de,{className:"h-6 w-6"})})]})};export{Ls as default};
