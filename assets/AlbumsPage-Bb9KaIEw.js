import{c as ee,R as Kt,j as t,a as M,r as s,u as T,S as Bt,d as Pe,b as Ie,B as Q,e as Ut,f as Te,L as zt}from"./index-DknBPv9f.js";import{C as le,b as de,c as ue,e as Oe,a as pe,d as ke}from"./card-zqmV2Fib.js";import{c as me,e as Le,f as Fe,g as Vt,R as Ht,A as Yt,b as te,h as Xt,a as x,P as B,i as Wt,D as qt,C as Qt,j as Zt,u as Jt,k as Ae,I as $e}from"./index-CSVfn_tC.js";import{S as en}from"./scroll-area-Bu9FoqFW.js";import{c as tn,a as Ge,I as nn,R as on,o as rn,r as an,d as sn}from"./db-CDpbkRq5.js";import{B as cn,U as ln}from"./badge-BE4afU4e.js";import{h as dn,u as un,R as pn,F as fn,c as Ke,a as Be,W as mn,C as Ue,T as ze,D as gn,b as ge,P as Ve,O as He,d as xn,X as hn}from"./index-CocIWURy.js";import{S as vn}from"./square-pen-DvJDNbL4.js";import{E as Re}from"./eye-iRhxXn51.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mn=ee("ArrowRight",wn);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Cn=ee("EllipsisVertical",Dn);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],bn=ee("Search",_n);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],jn=ee("Trash2",yn),Ye=Kt.forwardRef(({children:e,className:n,...o},r)=>t.jsxs("button",{ref:r,className:M("group relative w-auto cursor-pointer overflow-hidden rounded-full border bg-background p-2 px-6 text-center font-semibold",n),...o,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-primary transition-all duration-300 group-hover:scale-[100.8]"}),t.jsx("span",{className:"inline-block transition-all duration-300 group-hover:translate-x-12 group-hover:opacity-0",children:e})]}),t.jsxs("div",{className:"absolute top-0 z-10 flex h-full w-full translate-x-12 items-center justify-center gap-2 text-primary-foreground opacity-0 transition-all duration-300 group-hover:-translate-x-5 group-hover:opacity-100",children:[t.jsx("span",{children:e}),t.jsx(Mn,{})]})]}));Ye.displayName="InteractiveHoverButton";var fe=["Enter"," "],Nn=["ArrowDown","PageUp","Home"],Xe=["ArrowUp","PageDown","End"],An=[...Nn,...Xe],Rn={ltr:[...fe,"ArrowRight"],rtl:[...fe,"ArrowLeft"]},Sn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Y="Menu",[V,En,Pn]=tn(Y),[O,We]=me(Y,[Pn,Le,Ge]),ne=Le(),qe=Ge(),[In,k]=O(Y),[Tn,X]=O(Y),Qe=e=>{const{__scopeMenu:n,open:o=!1,children:r,dir:a,onOpenChange:c,modal:l=!0}=e,d=ne(n),[f,g]=s.useState(null),u=s.useRef(!1),i=Fe(c),m=Vt(a);return s.useEffect(()=>{const w=()=>{u.current=!0,document.addEventListener("pointerdown",h,{capture:!0,once:!0}),document.addEventListener("pointermove",h,{capture:!0,once:!0})},h=()=>u.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",h,{capture:!0}),document.removeEventListener("pointermove",h,{capture:!0})}},[]),t.jsx(Ht,{...d,children:t.jsx(In,{scope:n,open:o,onOpenChange:i,content:f,onContentChange:g,children:t.jsx(Tn,{scope:n,onClose:s.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:u,dir:m,modal:l,children:r})})})};Qe.displayName=Y;var On="MenuAnchor",xe=s.forwardRef((e,n)=>{const{__scopeMenu:o,...r}=e,a=ne(o);return t.jsx(Yt,{...a,...r,ref:n})});xe.displayName=On;var he="MenuPortal",[kn,Ze]=O(he,{forceMount:void 0}),Je=e=>{const{__scopeMenu:n,forceMount:o,children:r,container:a}=e,c=k(he,n);return t.jsx(kn,{scope:n,forceMount:o,children:t.jsx(te,{present:o||c.open,children:t.jsx(Xt,{asChild:!0,container:a,children:r})})})};Je.displayName=he;var b="MenuContent",[Ln,ve]=O(b),et=s.forwardRef((e,n)=>{const o=Ze(b,e.__scopeMenu),{forceMount:r=o.forceMount,...a}=e,c=k(b,e.__scopeMenu),l=X(b,e.__scopeMenu);return t.jsx(V.Provider,{scope:e.__scopeMenu,children:t.jsx(te,{present:r||c.open,children:t.jsx(V.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(Fn,{...a,ref:n}):t.jsx($n,{...a,ref:n})})})})}),Fn=s.forwardRef((e,n)=>{const o=k(b,e.__scopeMenu),r=s.useRef(null),a=T(n,r);return s.useEffect(()=>{const c=r.current;if(c)return dn(c)},[]),t.jsx(we,{...e,ref:a,trapFocus:o.open,disableOutsidePointerEvents:o.open,disableOutsideScroll:!0,onFocusOutside:x(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>o.onOpenChange(!1)})}),$n=s.forwardRef((e,n)=>{const o=k(b,e.__scopeMenu);return t.jsx(we,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>o.onOpenChange(!1)})}),we=s.forwardRef((e,n)=>{const{__scopeMenu:o,loop:r=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:g,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:m,onDismiss:w,disableOutsideScroll:h,...j}=e,S=k(b,o),I=X(b,o),N=ne(o),L=qe(o),W=En(o),[re,v]=s.useState(null),D=s.useRef(null),q=T(n,D,S.onContentChange),E=s.useRef(0),F=s.useRef(""),Lt=s.useRef(0),ae=s.useRef(null),be=s.useRef("right"),se=s.useRef(0),Ft=h?pn:s.Fragment,$t=h?{as:Bt,allowPinchZoom:!0}:void 0,Gt=p=>{var G,je;const _=F.current+p,y=W().filter(A=>!A.disabled),P=document.activeElement,ce=(G=y.find(A=>A.ref.current===P))==null?void 0:G.textValue,ie=y.map(A=>A.textValue),ye=Qn(ie,_,ce),U=(je=y.find(A=>A.textValue===ye))==null?void 0:je.ref.current;(function A(Ne){F.current=Ne,window.clearTimeout(E.current),Ne!==""&&(E.current=window.setTimeout(()=>A(""),1e3))})(_),U&&setTimeout(()=>U.focus())};s.useEffect(()=>()=>window.clearTimeout(E.current),[]),un();const $=s.useCallback(p=>{var y,P;return be.current===((y=ae.current)==null?void 0:y.side)&&Jn(p,(P=ae.current)==null?void 0:P.area)},[]);return t.jsx(Ln,{scope:o,searchRef:F,onItemEnter:s.useCallback(p=>{$(p)&&p.preventDefault()},[$]),onItemLeave:s.useCallback(p=>{var _;$(p)||((_=D.current)==null||_.focus(),v(null))},[$]),onTriggerLeave:s.useCallback(p=>{$(p)&&p.preventDefault()},[$]),pointerGraceTimerRef:Lt,onPointerGraceIntentChange:s.useCallback(p=>{ae.current=p},[]),children:t.jsx(Ft,{...$t,children:t.jsx(fn,{asChild:!0,trapped:a,onMountAutoFocus:x(c,p=>{var _;p.preventDefault(),(_=D.current)==null||_.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(qt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:g,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:m,onDismiss:w,children:t.jsx(on,{asChild:!0,...L,dir:I.dir,orientation:"vertical",loop:r,currentTabStopId:re,onCurrentTabStopIdChange:v,onEntryFocus:x(f,p=>{I.isUsingKeyboardRef.current||p.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Qt,{role:"menu","aria-orientation":"vertical","data-state":xt(S.open),"data-radix-menu-content":"",dir:I.dir,...N,...j,ref:q,style:{outline:"none",...j.style},onKeyDown:x(j.onKeyDown,p=>{const y=p.target.closest("[data-radix-menu-content]")===p.currentTarget,P=p.ctrlKey||p.altKey||p.metaKey,ce=p.key.length===1;y&&(p.key==="Tab"&&p.preventDefault(),!P&&ce&&Gt(p.key));const ie=D.current;if(p.target!==ie||!An.includes(p.key))return;p.preventDefault();const U=W().filter(G=>!G.disabled).map(G=>G.ref.current);Xe.includes(p.key)&&U.reverse(),Wn(U)}),onBlur:x(e.onBlur,p=>{p.currentTarget.contains(p.target)||(window.clearTimeout(E.current),F.current="")}),onPointerMove:x(e.onPointerMove,H(p=>{const _=p.target,y=se.current!==p.clientX;if(p.currentTarget.contains(_)&&y){const P=p.clientX>se.current?"right":"left";be.current=P,se.current=p.clientX}}))})})})})})})});et.displayName=b;var Gn="MenuGroup",Me=s.forwardRef((e,n)=>{const{__scopeMenu:o,...r}=e;return t.jsx(B.div,{role:"group",...r,ref:n})});Me.displayName=Gn;var Kn="MenuLabel",tt=s.forwardRef((e,n)=>{const{__scopeMenu:o,...r}=e;return t.jsx(B.div,{...r,ref:n})});tt.displayName=Kn;var Z="MenuItem",Se="menu.itemSelect",oe=s.forwardRef((e,n)=>{const{disabled:o=!1,onSelect:r,...a}=e,c=s.useRef(null),l=X(Z,e.__scopeMenu),d=ve(Z,e.__scopeMenu),f=T(n,c),g=s.useRef(!1),u=()=>{const i=c.current;if(!o&&i){const m=new CustomEvent(Se,{bubbles:!0,cancelable:!0});i.addEventListener(Se,w=>r==null?void 0:r(w),{once:!0}),Wt(i,m),m.defaultPrevented?g.current=!1:l.onClose()}};return t.jsx(nt,{...a,ref:f,disabled:o,onClick:x(e.onClick,u),onPointerDown:i=>{var m;(m=e.onPointerDown)==null||m.call(e,i),g.current=!0},onPointerUp:x(e.onPointerUp,i=>{var m;g.current||(m=i.currentTarget)==null||m.click()}),onKeyDown:x(e.onKeyDown,i=>{const m=d.searchRef.current!=="";o||m&&i.key===" "||fe.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});oe.displayName=Z;var nt=s.forwardRef((e,n)=>{const{__scopeMenu:o,disabled:r=!1,textValue:a,...c}=e,l=ve(Z,o),d=qe(o),f=s.useRef(null),g=T(n,f),[u,i]=s.useState(!1),[m,w]=s.useState("");return s.useEffect(()=>{const h=f.current;h&&w((h.textContent??"").trim())},[c.children]),t.jsx(V.ItemSlot,{scope:o,disabled:r,textValue:a??m,children:t.jsx(nn,{asChild:!0,...d,focusable:!r,children:t.jsx(B.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:g,onPointerMove:x(e.onPointerMove,H(h=>{r?l.onItemLeave(h):(l.onItemEnter(h),h.defaultPrevented||h.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:x(e.onPointerLeave,H(h=>l.onItemLeave(h))),onFocus:x(e.onFocus,()=>i(!0)),onBlur:x(e.onBlur,()=>i(!1))})})})}),Bn="MenuCheckboxItem",ot=s.forwardRef((e,n)=>{const{checked:o=!1,onCheckedChange:r,...a}=e;return t.jsx(it,{scope:e.__scopeMenu,checked:o,children:t.jsx(oe,{role:"menuitemcheckbox","aria-checked":J(o)?"mixed":o,...a,ref:n,"data-state":Ce(o),onSelect:x(a.onSelect,()=>r==null?void 0:r(J(o)?!0:!o),{checkForDefaultPrevented:!1})})})});ot.displayName=Bn;var rt="MenuRadioGroup",[Un,zn]=O(rt,{value:void 0,onValueChange:()=>{}}),at=s.forwardRef((e,n)=>{const{value:o,onValueChange:r,...a}=e,c=Fe(r);return t.jsx(Un,{scope:e.__scopeMenu,value:o,onValueChange:c,children:t.jsx(Me,{...a,ref:n})})});at.displayName=rt;var st="MenuRadioItem",ct=s.forwardRef((e,n)=>{const{value:o,...r}=e,a=zn(st,e.__scopeMenu),c=o===a.value;return t.jsx(it,{scope:e.__scopeMenu,checked:c,children:t.jsx(oe,{role:"menuitemradio","aria-checked":c,...r,ref:n,"data-state":Ce(c),onSelect:x(r.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,o)},{checkForDefaultPrevented:!1})})})});ct.displayName=st;var De="MenuItemIndicator",[it,Vn]=O(De,{checked:!1}),lt=s.forwardRef((e,n)=>{const{__scopeMenu:o,forceMount:r,...a}=e,c=Vn(De,o);return t.jsx(te,{present:r||J(c.checked)||c.checked===!0,children:t.jsx(B.span,{...a,ref:n,"data-state":Ce(c.checked)})})});lt.displayName=De;var Hn="MenuSeparator",dt=s.forwardRef((e,n)=>{const{__scopeMenu:o,...r}=e;return t.jsx(B.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});dt.displayName=Hn;var Yn="MenuArrow",ut=s.forwardRef((e,n)=>{const{__scopeMenu:o,...r}=e,a=ne(o);return t.jsx(Zt,{...a,...r,ref:n})});ut.displayName=Yn;var Xn="MenuSub",[Gr,pt]=O(Xn),z="MenuSubTrigger",ft=s.forwardRef((e,n)=>{const o=k(z,e.__scopeMenu),r=X(z,e.__scopeMenu),a=pt(z,e.__scopeMenu),c=ve(z,e.__scopeMenu),l=s.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=c,g={__scopeMenu:e.__scopeMenu},u=s.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return s.useEffect(()=>u,[u]),s.useEffect(()=>{const i=d.current;return()=>{window.clearTimeout(i),f(null)}},[d,f]),t.jsx(xe,{asChild:!0,...g,children:t.jsx(nt,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":a.contentId,"data-state":xt(o.open),...e,ref:Pe(n,a.onTriggerChange),onClick:i=>{var m;(m=e.onClick)==null||m.call(e,i),!(e.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),o.open||o.onOpenChange(!0))},onPointerMove:x(e.onPointerMove,H(i=>{c.onItemEnter(i),!i.defaultPrevented&&!e.disabled&&!o.open&&!l.current&&(c.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{o.onOpenChange(!0),u()},100))})),onPointerLeave:x(e.onPointerLeave,H(i=>{var w,h;u();const m=(w=o.content)==null?void 0:w.getBoundingClientRect();if(m){const j=(h=o.content)==null?void 0:h.dataset.side,S=j==="right",I=S?-5:5,N=m[S?"left":"right"],L=m[S?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+I,y:i.clientY},{x:N,y:m.top},{x:L,y:m.top},{x:L,y:m.bottom},{x:N,y:m.bottom}],side:j}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:x(e.onKeyDown,i=>{var w;const m=c.searchRef.current!=="";e.disabled||m&&i.key===" "||Rn[r.dir].includes(i.key)&&(o.onOpenChange(!0),(w=o.content)==null||w.focus(),i.preventDefault())})})})});ft.displayName=z;var mt="MenuSubContent",gt=s.forwardRef((e,n)=>{const o=Ze(b,e.__scopeMenu),{forceMount:r=o.forceMount,...a}=e,c=k(b,e.__scopeMenu),l=X(b,e.__scopeMenu),d=pt(mt,e.__scopeMenu),f=s.useRef(null),g=T(n,f);return t.jsx(V.Provider,{scope:e.__scopeMenu,children:t.jsx(te,{present:r||c.open,children:t.jsx(V.Slot,{scope:e.__scopeMenu,children:t.jsx(we,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:g,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var i;l.isUsingKeyboardRef.current&&((i=f.current)==null||i.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:x(e.onFocusOutside,u=>{u.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:x(e.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:x(e.onKeyDown,u=>{var w;const i=u.currentTarget.contains(u.target),m=Sn[l.dir].includes(u.key);i&&m&&(c.onOpenChange(!1),(w=d.trigger)==null||w.focus(),u.preventDefault())})})})})})});gt.displayName=mt;function xt(e){return e?"open":"closed"}function J(e){return e==="indeterminate"}function Ce(e){return J(e)?"indeterminate":e?"checked":"unchecked"}function Wn(e){const n=document.activeElement;for(const o of e)if(o===n||(o.focus(),document.activeElement!==n))return}function qn(e,n){return e.map((o,r)=>e[(n+r)%e.length])}function Qn(e,n,o){const a=n.length>1&&Array.from(n).every(g=>g===n[0])?n[0]:n,c=o?e.indexOf(o):-1;let l=qn(e,Math.max(c,0));a.length===1&&(l=l.filter(g=>g!==o));const f=l.find(g=>g.toLowerCase().startsWith(a.toLowerCase()));return f!==o?f:void 0}function Zn(e,n){const{x:o,y:r}=e;let a=!1;for(let c=0,l=n.length-1;c<n.length;l=c++){const d=n[c].x,f=n[c].y,g=n[l].x,u=n[l].y;f>r!=u>r&&o<(g-d)*(r-f)/(u-f)+d&&(a=!a)}return a}function Jn(e,n){if(!n)return!1;const o={x:e.clientX,y:e.clientY};return Zn(o,n)}function H(e){return n=>n.pointerType==="mouse"?e(n):void 0}var eo=Qe,to=xe,no=Je,oo=et,ro=Me,ao=tt,so=oe,co=ot,io=at,lo=ct,uo=lt,po=dt,fo=ut,mo=ft,go=gt,_e="DropdownMenu",[xo,Kr]=me(_e,[We]),C=We(),[ho,ht]=xo(_e),vt=e=>{const{__scopeDropdownMenu:n,children:o,dir:r,open:a,defaultOpen:c,onOpenChange:l,modal:d=!0}=e,f=C(n),g=s.useRef(null),[u=!1,i]=Jt({prop:a,defaultProp:c,onChange:l});return t.jsx(ho,{scope:n,triggerId:Ae(),triggerRef:g,contentId:Ae(),open:u,onOpenChange:i,onOpenToggle:s.useCallback(()=>i(m=>!m),[i]),modal:d,children:t.jsx(eo,{...f,open:u,onOpenChange:i,dir:r,modal:d,children:o})})};vt.displayName=_e;var wt="DropdownMenuTrigger",Mt=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,disabled:r=!1,...a}=e,c=ht(wt,o),l=C(o);return t.jsx(to,{asChild:!0,...l,children:t.jsx(B.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Pe(n,c.triggerRef),onPointerDown:x(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(c.onOpenToggle(),c.open||d.preventDefault())}),onKeyDown:x(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&c.onOpenToggle(),d.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});Mt.displayName=wt;var vo="DropdownMenuPortal",Dt=e=>{const{__scopeDropdownMenu:n,...o}=e,r=C(n);return t.jsx(no,{...r,...o})};Dt.displayName=vo;var Ct="DropdownMenuContent",_t=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=ht(Ct,o),c=C(o),l=s.useRef(!1);return t.jsx(oo,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...r,ref:n,onCloseAutoFocus:x(e.onCloseAutoFocus,d=>{var f;l.current||(f=a.triggerRef.current)==null||f.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:x(e.onInteractOutside,d=>{const f=d.detail.originalEvent,g=f.button===0&&f.ctrlKey===!0,u=f.button===2||g;(!a.modal||u)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_t.displayName=Ct;var wo="DropdownMenuGroup",Mo=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(ro,{...a,...r,ref:n})});Mo.displayName=wo;var Do="DropdownMenuLabel",Co=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(ao,{...a,...r,ref:n})});Co.displayName=Do;var _o="DropdownMenuItem",bt=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(so,{...a,...r,ref:n})});bt.displayName=_o;var bo="DropdownMenuCheckboxItem",yo=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(co,{...a,...r,ref:n})});yo.displayName=bo;var jo="DropdownMenuRadioGroup",No=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(io,{...a,...r,ref:n})});No.displayName=jo;var Ao="DropdownMenuRadioItem",Ro=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(lo,{...a,...r,ref:n})});Ro.displayName=Ao;var So="DropdownMenuItemIndicator",Eo=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(uo,{...a,...r,ref:n})});Eo.displayName=So;var Po="DropdownMenuSeparator",Io=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(po,{...a,...r,ref:n})});Io.displayName=Po;var To="DropdownMenuArrow",Oo=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(fo,{...a,...r,ref:n})});Oo.displayName=To;var ko="DropdownMenuSubTrigger",Lo=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(mo,{...a,...r,ref:n})});Lo.displayName=ko;var Fo="DropdownMenuSubContent",$o=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...r}=e,a=C(o);return t.jsx(go,{...a,...r,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$o.displayName=Fo;var Go=vt,Ko=Mt,Bo=Dt,Uo=_t,zo=bt;function Vo({...e}){return t.jsx(Go,{"data-slot":"dropdown-menu",...e})}function Ho({...e}){return t.jsx(Ko,{"data-slot":"dropdown-menu-trigger",...e})}function Yo({className:e,sideOffset:n=4,...o}){return t.jsx(Bo,{children:t.jsx(Uo,{"data-slot":"dropdown-menu-content",sideOffset:n,className:M("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...o})})}function Ee({className:e,inset:n,variant:o="default",...r}){return t.jsx(zo,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":o,className:M("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}const Xo=({album:e,onRename:n,onDelete:o})=>t.jsx("div",{className:"relative group h-full",children:t.jsxs(le,{className:"flex flex-col h-full",children:[t.jsx(de,{className:"flex flex-row items-center justify-between pb-2",children:t.jsxs("div",{className:"flex flex-col w-full overflow-hidden",children:[t.jsx(ue,{className:"text-lg truncate w-full",title:e.albumName,children:e.albumName}),t.jsxs(Oe,{children:["Created at: ",new Date(e.createdAt).toLocaleDateString()]})]})}),t.jsx(pe,{className:"pt-2 flex-grow",children:t.jsxs("p",{className:"text-sm flex items-center",children:[t.jsx(cn,{variant:"secondary",className:"mr-1",children:e.imageUrls.length})," ","images"]})}),t.jsxs(ke,{className:"pt-2 flex justify-between items-center mt-auto",children:[t.jsx(Ie,{to:`/albums/${e.id}`,className:"flex-1 mr-2",children:t.jsx(Ye,{className:"w-full",children:"View Album"})}),t.jsxs(Vo,{children:[t.jsx(Ho,{asChild:!0,children:t.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:t.jsx(Cn,{className:"h-4 w-4"})})}),t.jsxs(Yo,{align:"end",children:[t.jsxs(Ee,{onClick:()=>n(e.id),children:[t.jsx(vn,{className:"mr-2 h-4 w-4"}),"Rename"]}),t.jsxs(Ee,{onClick:()=>o(e.id),className:"text-red-600",children:[t.jsx(jn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})});var yt="AlertDialog",[Wo,Br]=me(yt,[Ke]),R=Ke(),jt=e=>{const{__scopeAlertDialog:n,...o}=e,r=R(n);return t.jsx(Be,{...r,...o,modal:!0})};jt.displayName=yt;var qo="AlertDialogTrigger",Qo=s.forwardRef((e,n)=>{const{__scopeAlertDialog:o,...r}=e,a=R(o);return t.jsx(xn,{...a,...r,ref:n})});Qo.displayName=qo;var Zo="AlertDialogPortal",Nt=e=>{const{__scopeAlertDialog:n,...o}=e,r=R(n);return t.jsx(Ve,{...r,...o})};Nt.displayName=Zo;var Jo="AlertDialogOverlay",At=s.forwardRef((e,n)=>{const{__scopeAlertDialog:o,...r}=e,a=R(o);return t.jsx(He,{...a,...r,ref:n})});At.displayName=Jo;var K="AlertDialogContent",[er,tr]=Wo(K),Rt=s.forwardRef((e,n)=>{const{__scopeAlertDialog:o,children:r,...a}=e,c=R(o),l=s.useRef(null),d=T(n,l),f=s.useRef(null);return t.jsx(mn,{contentName:K,titleName:St,docsSlug:"alert-dialog",children:t.jsx(er,{scope:o,cancelRef:f,children:t.jsxs(Ue,{role:"alertdialog",...c,...a,ref:d,onOpenAutoFocus:x(a.onOpenAutoFocus,g=>{var u;g.preventDefault(),(u=f.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[t.jsx(Ut,{children:r}),t.jsx(or,{contentRef:l})]})})})});Rt.displayName=K;var St="AlertDialogTitle",Et=s.forwardRef((e,n)=>{const{__scopeAlertDialog:o,...r}=e,a=R(o);return t.jsx(ze,{...a,...r,ref:n})});Et.displayName=St;var Pt="AlertDialogDescription",It=s.forwardRef((e,n)=>{const{__scopeAlertDialog:o,...r}=e,a=R(o);return t.jsx(gn,{...a,...r,ref:n})});It.displayName=Pt;var nr="AlertDialogAction",Tt=s.forwardRef((e,n)=>{const{__scopeAlertDialog:o,...r}=e,a=R(o);return t.jsx(ge,{...a,...r,ref:n})});Tt.displayName=nr;var Ot="AlertDialogCancel",kt=s.forwardRef((e,n)=>{const{__scopeAlertDialog:o,...r}=e,{cancelRef:a}=tr(Ot,o),c=R(o),l=T(n,a);return t.jsx(ge,{...c,...r,ref:l})});kt.displayName=Ot;var or=({contentRef:e})=>{const n=`\`${K}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${K}\` by passing a \`${Pt}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${K}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(n)},[n,e]),null},rr=jt,ar=Nt,sr=At,cr=Rt,ir=Tt,lr=kt,dr=Et,ur=It;function pr({...e}){return t.jsx(rr,{"data-slot":"alert-dialog",...e})}function fr({...e}){return t.jsx(ar,{"data-slot":"alert-dialog-portal",...e})}function mr({className:e,...n}){return t.jsx(sr,{"data-slot":"alert-dialog-overlay",className:M("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...n})}function gr({className:e,...n}){return t.jsxs(fr,{children:[t.jsx(mr,{}),t.jsx(cr,{"data-slot":"alert-dialog-content",className:M("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n})]})}function xr({className:e,...n}){return t.jsx("div",{"data-slot":"alert-dialog-header",className:M("flex flex-col gap-2 text-center sm:text-left",e),...n})}function hr({className:e,...n}){return t.jsx("div",{"data-slot":"alert-dialog-footer",className:M("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...n})}function vr({className:e,...n}){return t.jsx(dr,{"data-slot":"alert-dialog-title",className:M("text-lg font-semibold",e),...n})}function wr({className:e,...n}){return t.jsx(ur,{"data-slot":"alert-dialog-description",className:M("text-muted-foreground text-sm",e),...n})}function Mr({className:e,...n}){return t.jsx(ir,{className:M(Te(),e),...n})}function Dr({className:e,...n}){return t.jsx(lr,{className:M(Te({variant:"outline"}),e),...n})}const Cr=({isOpen:e,onClose:n,onDelete:o})=>t.jsx(pr,{open:e,onOpenChange:n,children:t.jsxs(gr,{children:[t.jsxs(xr,{children:[t.jsx(vr,{children:"Are you sure?"}),t.jsx(wr,{children:"This action cannot be undone. This will permanently delete the album and all its data."})]}),t.jsxs(hr,{children:[t.jsx(Dr,{children:"Cancel"}),t.jsx(Mr,{onClick:o,children:"Delete"})]})]})});function _r({...e}){return t.jsx(Be,{"data-slot":"dialog",...e})}function br({...e}){return t.jsx(Ve,{"data-slot":"dialog-portal",...e})}function yr({className:e,...n}){return t.jsx(He,{"data-slot":"dialog-overlay",className:M("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...n})}function jr({className:e,children:n,...o}){return t.jsxs(br,{"data-slot":"dialog-portal",children:[t.jsx(yr,{}),t.jsxs(Ue,{"data-slot":"dialog-content",className:M("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[n,t.jsxs(ge,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(hn,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Nr({className:e,...n}){return t.jsx("div",{"data-slot":"dialog-header",className:M("flex flex-col gap-2 text-center sm:text-left",e),...n})}function Ar({className:e,...n}){return t.jsx("div",{"data-slot":"dialog-footer",className:M("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...n})}function Rr({className:e,...n}){return t.jsx(ze,{"data-slot":"dialog-title",className:M("text-lg leading-none font-semibold",e),...n})}const Sr=({isOpen:e,onClose:n,albumName:o,onRename:r,setAlbumName:a})=>t.jsx(_r,{open:e,onOpenChange:n,children:t.jsxs(jr,{children:[t.jsx(Nr,{children:t.jsx(Rr,{children:"Rename Album"})}),t.jsx("div",{className:"py-4",children:t.jsx($e,{value:o,onChange:c=>a(c.target.value),placeholder:"Enter new album name"})}),t.jsxs(Ar,{children:[t.jsx(Q,{variant:"outline",onClick:n,children:"Cancel"}),t.jsx(Q,{onClick:r,children:"Save"})]})]})}),Ur=()=>{const[e,n]=s.useState([]),[o,r]=s.useState(!0),[a,c]=s.useState(null),[l,d]=s.useState(!1),[f,g]=s.useState(""),[u,i]=s.useState(""),[m,w]=s.useState([]),h=async()=>{r(!0);try{const E=(await rn()).transaction(["htmlFiles"],"readonly").objectStore("htmlFiles").getAll();E.onsuccess=()=>{const F=E.result||[];n(F),r(!1)},E.onerror=()=>{console.error("Error loading albums from IndexedDB"),r(!1),alert("Failed to load albums.  Check the console for details.")}}catch(v){console.error("IndexedDB error:",v),alert("Failed to access albums database.  Check the console for details."),r(!1)}};s.useEffect(()=>{h()},[]),s.useEffect(()=>{const v=e.filter(D=>D.albumName.toLowerCase().includes(u.toLowerCase()));w(v)},[u,e]);const j=v=>{const D=e.find(q=>q.id===v);D&&(g(D.albumName),c(v),d(!0))},S=v=>{c(v),N(!0)},[I,N]=s.useState(!1),L=async()=>{if(a!==null)try{await sn(a),await h(),N(!1)}catch(v){console.error("Error deleting album:",v),alert("Failed to delete album. Please check the console for details."),N(!1)}},W=async()=>{if(a===null||!f.trim())return;if(e.some(D=>D.albumName.toLowerCase()===f.toLowerCase()&&D.id!==a)){alert("Album name already exists. Please choose a different name.");return}try{await an(a,f),await h(),d(!1)}catch(D){console.error("Error renaming album:",D),alert("Failed to rename album. Please check the console for details."),d(!1)}},re=v=>{i(v.target.value)};return o?t.jsx("div",{className:"container mx-auto p-4 max-w-4xl",children:t.jsxs(le,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Re,{size:24}),"Albums"]})}),t.jsxs(pe,{className:"p-4 flex justify-center items-center",children:[t.jsx(zt,{className:"h-6 w-6 animate-spin mr-2"})," Loading albums..."]})]})}):t.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[t.jsxs(le,{children:[t.jsxs(de,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ue,{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Re,{size:24}),"Albums"]}),t.jsxs("div",{className:"relative",children:[t.jsx($e,{type:"text",placeholder:"Search albums...",value:u,onChange:re,className:"pr-10"}),t.jsx(bn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500"})]})]}),t.jsx(Oe,{children:"View and manage your saved albums."})]}),t.jsx(pe,{className:"p-4",children:t.jsx(en,{className:"w-full h-[500px] rounded-md",children:t.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 grid-flow-row auto-rows-fr",children:m.length>0?m.map(v=>t.jsx(Xo,{album:v,onRename:j,onDelete:S},v.id)):t.jsx("div",{className:"col-span-full text-center py-8",children:"No matching albums found."})})})}),t.jsx(ke,{className:"p-4 border-t",children:t.jsx(Ie,{to:"/upload",children:t.jsxs(Q,{variant:"outline",children:[t.jsx(ln,{size:16,className:"mr-2"}),"Back to Uploader"]})})})]}),t.jsx(Sr,{isOpen:l,onClose:()=>d(!1),albumName:f,onRename:W,setAlbumName:g}),t.jsx(Cr,{isOpen:I,onClose:()=>N(!1),onDelete:L})]})};export{Ur as default};
