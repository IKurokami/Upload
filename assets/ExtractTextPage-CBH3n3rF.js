import{c as Ze,r as S,j as u,a as De,A as Dl,E as we,F as Vn,B as ie,C as na,t as Ae,G as mn,H as ia,I as Tl,d as zl,J as Rl,K as Fl,P as _l,e as Pt,M as Ml,N as Ol,O as Ll,Q as Bl,S as $l,T as Ul,U as ql,V as Hl,W as Vl,X as Wl,Y as Gl,Z as Kl,_ as Yl,R as Lt,L as bn,$ as xt,a0 as wn,a1 as Gt,a2 as At}from"./index-ur9zFp39.js";import{C as Xl,a as Ql,S as pt,b as dt,c as mt,d as ft,e as be,G as Ai,f as Zl,r as Jl,g as eo}from"./select-_x17fsm3.js";import{S as rn}from"./scroll-area-Bym5PYyh.js";import{T as si,a as ci,b as kt,c as jt}from"./index-COhfIs9f.js";import{X as Bt,D as Di,a as Ti,A as zi}from"./dialog-CJXk8rYc.js";import{C as ra}from"./copy-DwM9w9Qc.js";import{L as to,u as no}from"./LongPressOverlay-CEXiwTSP.js";import{A as Ri,a as Fi,b as _i,c as Mi,d as Oi,e as Li,f as Bi,g as $i}from"./alert-dialog-DNFCCqew.js";import{T as Wn}from"./trash-2-CaWUH657.js";import{E as io}from"./eye-ATs_9VP5.js";import{T as Kt,a as ro}from"./index-Bx5Vo5ny.js";import{C as Ft}from"./card-Dvjo2Szc.js";import{S as Ui}from"./save-bKdivOzv.js";import{S as qi}from"./square-pen-CmIVmI_e.js";import{U as Hi}from"./upload-DH37QyE6.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],lo=Ze("ArrowUpDown",ao);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],so=Ze("Filter",oo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],an=Ze("Image",co);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],po=Ze("Maximize2",uo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],fo=Ze("MessageSquare",mo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Vi=Ze("Paperclip",ho);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ct=Ze("RefreshCw",xo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wi=Ze("Send",go);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kn=Ze("ZoomIn",vo);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],bo=Ze("ZoomOut",yo),wo=({id:e,x:t,y:n,color:i,delay:r,scale:l})=>u.jsx(Dl.svg,{className:"pointer-events-none absolute z-20",initial:{opacity:0,left:t,top:n},animate:{opacity:[0,1,0],scale:[0,l,0],rotate:[75,120,150]},transition:{duration:.8,repeat:1/0,delay:r},width:"21",height:"21",viewBox:"0 0 21 21",children:u.jsx("path",{d:"M9.82531 0.843845C10.0553 0.215178 10.9446 0.215178 11.1746 0.843845L11.8618 2.72026C12.4006 4.19229 12.3916 6.39157 13.5 7.5C14.6084 8.60843 16.8077 8.59935 18.2797 9.13822L20.1561 9.82534C20.7858 10.0553 20.7858 10.9447 20.1561 11.1747L18.2797 11.8618C16.8077 12.4007 14.6084 12.3916 13.5 13.5C12.3916 14.6084 12.4006 16.8077 11.8618 18.2798L11.1746 20.1562C10.9446 20.7858 10.0553 20.7858 9.82531 20.1562L9.13819 18.2798C8.59932 16.8077 8.60843 14.6084 7.5 13.5C6.39157 12.3916 4.19225 12.4007 2.72023 11.8618L0.843814 11.1747C0.215148 10.9447 0.215148 10.0553 0.843814 9.82534L2.72023 9.13822C4.19225 8.59935 6.39157 8.60843 7.5 7.5C8.60843 6.39157 8.59932 4.19229 9.13819 2.72026L9.82531 0.843845Z",fill:i})},e),ko=({text:e,colors:t={first:"#9E7AFF",second:"#FE8BBB"},className:n,sparklesCount:i=7,...r})=>{const[l,a]=S.useState([]);return S.useEffect(()=>{const o=()=>{const p=`${Math.random()*100}%`,f=`${Math.random()*100}%`,m=Math.random()>.5?t.first:t.second,v=Math.random()*2,k=Math.random()*1+.3,N=Math.random()*10+1;return{id:`${p}-${f}-${Date.now()}`,x:p,y:f,color:m,delay:v,scale:k,lifespan:N}},s=()=>{const p=Array.from({length:i},o);a(p)},c=()=>{a(p=>p.map(f=>f.lifespan<=0?o():{...f,lifespan:f.lifespan-.1}))};s();const d=setInterval(c,50);return()=>clearInterval(d)},[t.first,t.second,i]),u.jsx("div",{className:De("text-6xl font-bold",n),...r,style:{"--sparkles-first-color":`${t.first}`,"--sparkles-second-color":`${t.second}`},children:u.jsxs("span",{className:"relative inline-block py-2",children:[l.map(o=>u.jsx(wo,{...o},o.id)),u.jsx("strong",{children:e})]})})},Gi=({text:e,className:t})=>u.jsxs("div",{className:De("relative overflow-hidden",t),children:[u.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e}),u.jsx(we.div,{style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent)",backgroundSize:"200% 100%"},animate:{backgroundPosition:["200% 0","-200% 0"]},transition:{duration:1.5,ease:"linear",repeat:1/0}})]}),jo=({active:e,setActive:t,handleRetry:n,copied:i,copyToClipboard:r,positionData:l})=>{const a=S.useRef(null),o=S.useId(),s=()=>t(null);return S.useEffect(()=>{const c=d=>{a.current&&!a.current.contains(d.target)&&t(null)};return e?(document.addEventListener("mousedown",c),document.body.style.overflow="hidden"):document.body.style.overflow="auto",()=>{document.removeEventListener("mousedown",c),document.body.style.overflow="auto"}},[e,t]),S.useEffect(()=>{const c=d=>{d.key==="Escape"&&t(null)};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t]),S.useEffect(()=>{e&&l&&a.current&&(a.current.style.position="fixed",a.current.style.top=`${l.top}px`,a.current.style.left=`${l.left}px`,a.current.style.width=`${l.width}px`,a.current.style.height=`${l.height}px`,a.current.style.borderRadius="0.5rem",a.current.style.zIndex="50",a.current.style.opacity="1",a.current.style.transformOrigin="top left",a.current.getBoundingClientRect(),a.current.style.transition="all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)",a.current.style.top="50%",a.current.style.left="50%",a.current.style.transform="translate(-50%, -50%)",a.current.style.width="100%",a.current.style.maxWidth="64rem",a.current.style.maxHeight="90vh",a.current.style.borderRadius="0.75rem")},[e,l]),e?u.jsxs(u.Fragment,{children:[u.jsx(Vn,{children:e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:s,children:u.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%"}})})}),u.jsx(Vn,{children:e&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-0 md:p-4 h-screen w-screen",children:u.jsx("div",{ref:a,className:"bg-white dark:bg-neutral-900 rounded-xl overflow-hidden flex flex-col w-full h-screen max-w-full max-h-full md:max-w-4xl md:max-h-[90vh]",children:u.jsxs(we.div,{layoutId:`card-${e.id}-${o}`,initial:{opacity:l?1:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%"},children:[u.jsxs("div",{className:"flex justify-between items-center p-2 md:p-4 border-b",children:[u.jsx("div",{className:"font-semibold truncate",children:u.jsx(we.div,{layoutId:`title-${e.id}-${o}`,children:e.file.name})}),u.jsx(ie,{variant:"ghost",size:"icon",onClick:s,children:u.jsx(Bt,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 flex-1 overflow-hidden h-full min-h-0",children:[u.jsxs("div",{className:"relative flex-1 min-h-0 h-[35vh] md:h-[70vh] overflow-auto",children:[u.jsx("div",{className:`w-full h-auto object-contain ${e.isProcessing||e.willProcess?"blur-xs":""}`,children:u.jsx(we.div,{layoutId:`image-${e.id}-${o}`,style:{width:"100%",height:"100%",position:"relative"},children:u.jsx("img",{src:e.url,alt:`Uploaded image ${e.file.name}`,style:{width:"100%",height:"auto",objectFit:"contain"}})})}),e.isProcessing&&u.jsx("div",{className:"absolute inset-0 backdrop-blur-xs flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded",children:[u.jsx("div",{className:"animate-spin",children:u.jsx(Ct,{className:"h-4 w-4 text-white"})}),u.jsx(Gi,{text:"Processing..."})]})}),e.willProcess&&!e.isProcessing&&u.jsx("div",{className:"absolute inset-0 backdrop-blur-xs flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded",children:[u.jsx(Xl,{className:"h-4 w-4"}),u.jsx(Gi,{text:"In queue..."})]})})]}),u.jsxs("div",{className:"relative flex-1 min-h-0 h-[35vh] md:h-[70vh] overflow-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h4",{className:"font-medium text-base md:text-lg",children:"Gemini OCR Result"}),u.jsxs("div",{className:"flex gap-2",children:[!e.isProcessing&&!e.willProcess&&e.hasError&&u.jsxs(ie,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>n(e),children:[u.jsx(Ct,{className:"h-4 w-4"}),u.jsx("span",{children:"Retry"})]}),u.jsx(ie,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:r,disabled:e.isProcessing||e.willProcess,children:i?u.jsxs(u.Fragment,{children:[u.jsx(na,{className:"h-4 w-4"}),u.jsx("span",{children:"Copied"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ra,{className:"h-4 w-4"}),u.jsx("span",{children:"Copy"})]})})]})]}),u.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:u.jsxs(si,{defaultValue:"ocr",className:"flex flex-col min-h-0 flex-1",children:[u.jsxs(ci,{className:"mb-2",children:[u.jsx(kt,{value:"ocr",children:"Answer"}),u.jsx(kt,{value:"thinking",children:"Image"})]}),u.jsxs("div",{className:"flex-1 min-h-0",children:[u.jsx(jt,{value:"ocr",className:"flex flex-col h-full min-h-0",children:u.jsx(rn,{className:"flex-1 min-h-0 border rounded-md p-2 md:p-3 overflow-y-auto overflow-x-hidden whitespace-pre-wrap break-words break-all text-sm md:text-base font-mono",children:e.isProcessing?"Processing...":e.willProcess?"Waiting in queue...":e.geminiResponse.ocrText})}),u.jsx(jt,{value:"thinking",className:"flex flex-col h-full min-h-0",children:u.jsx(rn,{className:"flex-1 min-h-0 border rounded-md p-2 md:p-3 overflow-y-auto overflow-x-hidden whitespace-pre-wrap break-words break-all text-sm md:text-base font-mono",children:e.isProcessing?"Processing...":e.willProcess?"Waiting in queue...":e.geminiResponse.thinking})})]})]})})]})]})]})})})})]}):null},Co=({images:e,handleRetry:t,copiedAll:n,copyAllToClipboard:i,handleDelete:r,handleDeleteAll:l=()=>{}})=>{const[a,o]=S.useState(null),[s,c]=S.useState(!1),[d,p]=S.useState(null),[f,m]=S.useState("name"),[v,k]=S.useState(!1),[N,b]=S.useState(null),[E,I]=S.useState(null),[_,B]=S.useState(!1),[C,U]=S.useState(!1),[X,K]=S.useState(null),w=S.useRef([]),F=S.useId(),R=(x,Y)=>{const J=Y.currentTarget.getBoundingClientRect(),ke=window.innerHeight*.8;p({top:J.top,left:J.left,width:J.width,height:ke}),o(x)},O=()=>{a&&a.geminiResponse.ocrText?(navigator.clipboard.writeText(a.geminiResponse.ocrText),c(!0),Ae.success(`Copied text from ${a.file.name}`),setTimeout(()=>c(!1),2e3)):Ae.error("No text available to copy")},T=()=>{o(null),p(null)},L=(x,Y)=>{const ue=w.current[Y];ue&&(b(ue.getBoundingClientRect()),I(x),k(!0))},oe=x=>{const Y=[{label:"View",icon:u.jsx(io,{className:"w-4 h-4"}),onClick:()=>{o(x),k(!1)}}];return x.hasError&&Y.push({label:"Retry",icon:u.jsx(Ct,{className:"w-4 h-4"}),onClick:()=>t(x)}),Y.push({label:"Remove",icon:u.jsx(Bt,{className:"w-4 h-4"}),onClick:()=>le(x.id),destructive:!0}),Y},ce=(x,Y)=>x.localeCompare(Y,void 0,{numeric:!0,sensitivity:"base"}),me=S.useMemo(()=>{const x=[...e];switch(f){case"name":return x.sort((Y,ue)=>ce(Y.file.name,ue.file.name));case"timestamp":return x.sort((Y,ue)=>Y.timestamp?ue.timestamp?ue.timestamp-Y.timestamp:-1:1);case"status":return x.sort((Y,ue)=>{const J=ve=>!ve.isProcessing&&!ve.willProcess&&!ve.hasError?1:ve.isProcessing?2:ve.willProcess?3:ve.hasError?4:5;return J(Y)-J(ue)});default:return x}},[e,f]),le=x=>{K(x),B(!0)},g=()=>{U(!0)},ae=()=>{X&&(r(X),K(null)),B(!1)},xe=()=>{l(),U(!1)};return e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-10rem)] text-muted-foreground",children:[u.jsx(Ql,{className:"h-10 w-10 mb-2 text-muted-foreground/50"}),u.jsx("p",{children:"No images uploaded yet"}),u.jsx("p",{className:"text-xs mt-1 text-muted-foreground/70",children:"Use the upload button to add images for text extraction"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col bg-background rounded-md border",children:[u.jsxs("div",{className:"p-3 border-b flex flex-col xs:flex-row xs:justify-between xs:items-center gap-2",children:[u.jsxs("h2",{className:"text-base font-medium mb-2 xs:mb-0",children:["Processed Images (",e.length,")"]}),u.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center gap-2 w-full xs:w-auto",children:[u.jsxs(pt,{value:f,onValueChange:x=>m(x),children:[u.jsx(dt,{className:"h-8 w-full xs:w-[140px]",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(lo,{className:"h-3.5 w-3.5"}),u.jsx(mt,{placeholder:"Sort by"})]})}),u.jsxs(ft,{children:[u.jsx(be,{value:"default",children:"Default"}),u.jsx(be,{value:"name",children:"Filename"}),u.jsx(be,{value:"timestamp",children:"Time added"}),u.jsx(be,{value:"status",children:"Status"})]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 w-full xs:w-auto",children:[u.jsx(ie,{variant:"outline",size:"sm",onClick:i,disabled:!e.some(x=>!x.isProcessing&&!x.hasError),className:De("flex items-center gap-1 h-7 text-xs transition-all duration-200 px-2 flex-1 xs:flex-initial",n&&"bg-primary text-primary-foreground"),children:n?u.jsxs(u.Fragment,{children:[u.jsx(na,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden xs:inline",children:"Copied"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ra,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden xs:inline",children:"Copy All"})]})}),u.jsxs(ie,{variant:"outline",size:"sm",onClick:g,className:"flex items-center gap-1 h-7 text-xs text-destructive hover:bg-destructive hover:text-destructive-foreground transition-colors px-2 flex-1 xs:flex-initial",children:[u.jsx(Wn,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden xs:inline",children:"Remove All"})]})]})]})]}),u.jsx(rn,{className:"flex-1",children:u.jsx("div",{className:"p-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:me.map((x,Y)=>u.jsx(So,{image:x,index:Y,id:F,handleImageClick:R,handleRetry:t,handleDelete:le,handleLongPress:L,cardRefs:w},x.id))})})]}),u.jsx(Ri,{open:_,onOpenChange:B,children:u.jsxs(Fi,{children:[u.jsxs(_i,{children:[u.jsx(Mi,{children:"Confirm Deletion"}),u.jsx(Oi,{children:"Are you sure you want to delete this image? This action cannot be undone."})]}),u.jsxs(Li,{children:[u.jsx(Bi,{children:"Cancel"}),u.jsx($i,{onClick:ae,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),u.jsx(Ri,{open:C,onOpenChange:U,children:u.jsxs(Fi,{children:[u.jsxs(_i,{children:[u.jsx(Mi,{children:"Delete All Images"}),u.jsxs(Oi,{children:["Are you sure you want to delete all ",e.length," images? This action cannot be undone."]})]}),u.jsxs(Li,{children:[u.jsx(Bi,{children:"Cancel"}),u.jsx($i,{onClick:xe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete All"})]})]})}),v&&E&&u.jsx(to,{rect:N,actions:oe(E),onClose:()=>k(!1),renderHighlighted:()=>u.jsxs("div",{style:{width:N==null?void 0:N.width,height:N==null?void 0:N.height,borderRadius:12,boxShadow:"0 0 0 4px rgba(0, 0, 0, 0.25)",border:"2px solid rgba(110, 152, 219, 0.41)6",background:"#fff",overflow:"hidden",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("img",{src:E.url,alt:E.file.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:12}}),u.jsx("span",{style:{position:"absolute",top:4,left:4,fontSize:12,color:"#fff",background:"rgba(0,0,0,0.5)",padding:"2px 6px",borderRadius:4,zIndex:1},children:E.file.name.length>15?`${E.file.name.substring(0,15)}...`:E.file.name})]})}),u.jsx(jo,{active:a,setActive:T,handleRetry:t,copied:s,copyToClipboard:O,positionData:d,id:(a==null?void 0:a.id)||""})]})};function So({image:e,index:t,id:n,handleImageClick:i,handleRetry:r,handleDelete:l,handleLongPress:a,cardRefs:o}){const s=no({onLongPress:()=>a(e,t),delay:500});return u.jsx("div",{className:"relative group rounded-lg overflow-hidden border shadow-sm hover:shadow-md transition-all duration-300 animate-in fade-in-0 zoom-in-95 cursor-pointer",style:{animationDelay:`${t*30}ms`,touchAction:"manipulation"},onClick:c=>i(e,c),ref:c=>{o.current[t]=c},...s,children:u.jsxs(we.div,{layoutId:`card-${e.id}-${n}`,style:{width:"100%",height:"100%"},children:[u.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[u.jsx("div",{className:"w-full h-full",children:u.jsx(we.div,{layoutId:`image-${e.id}-${n}`,style:{width:"100%",height:"100%"},children:u.jsx("img",{src:e.url,alt:e.file.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),u.jsxs("div",{className:"p-2 bg-background border-t",children:[u.jsx("div",{className:"text-sm font-medium truncate mb-1",children:u.jsx(we.div,{layoutId:`title-${e.id}-${n}`,children:e.file.name})}),e.isProcessing?u.jsxs("div",{className:"flex items-center text-xs text-amber-500",children:[u.jsx("div",{className:"animate-spin mr-1 h-3 w-3 border-2 border-amber-500 border-t-transparent rounded-full"}),"Processing..."]}):e.willProcess?u.jsx("div",{className:"text-xs text-muted-foreground",children:"Queued for processing"}):e.hasError?u.jsx("div",{className:"text-xs text-destructive mb-1",children:"Error processing image"}):u.jsx("div",{className:"text-xs text-muted-foreground mb-1 overflow-x-auto break-words",style:{maxHeight:"4.5em",WebkitLineClamp:3,display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.geminiResponse.ocrText?e.geminiResponse.ocrText:"No text extracted"}),u.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.hasError?u.jsxs(ie,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:c=>{c.stopPropagation(),r(e)},children:[u.jsx(Ct,{className:"h-3 w-3 mr-1"}),"Retry"]}):u.jsx("span",{className:"text-[10px] text-muted-foreground/70",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():""}),u.jsxs(ie,{variant:"ghost",size:"sm",className:"h-7 text-xs text-destructive hover:text-destructive ml-auto",onClick:c=>{c.stopPropagation(),l(e.id)},children:[u.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]}),u.jsxs("div",{className:"absolute top-2 right-2",children:[e.isProcessing&&u.jsx("div",{className:"bg-amber-500 text-white text-xs px-2 py-0.5 rounded-full animate-pulse",children:"Processing"}),e.willProcess&&u.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Queued"}),e.hasError&&u.jsx("div",{className:"bg-destructive text-destructive-foreground text-xs px-2 py-0.5 rounded-full",children:"Error"}),!e.isProcessing&&!e.willProcess&&!e.hasError&&u.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Complete"})]})]})})}function Eo(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Io=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,No=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Po={};function Ki(e,t){return(Po.jsx?No:Io).test(e)}const Ao=/[ \t\n\f\r]/g;function Do(e){return typeof e=="object"?e.type==="text"?Yi(e.value):!1:Yi(e)}function Yi(e){return e.replace(Ao,"")===""}class Ht{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Ht.prototype.normal={};Ht.prototype.property={};Ht.prototype.space=void 0;function aa(e,t){const n={},i={};for(const r of e)Object.assign(n,r.property),Object.assign(i,r.normal);return new Ht(n,i,t)}function Gn(e){return e.toLowerCase()}class Me{constructor(t,n){this.attribute=n,this.property=t}}Me.prototype.attribute="";Me.prototype.booleanish=!1;Me.prototype.boolean=!1;Me.prototype.commaOrSpaceSeparated=!1;Me.prototype.commaSeparated=!1;Me.prototype.defined=!1;Me.prototype.mustUseProperty=!1;Me.prototype.number=!1;Me.prototype.overloadedBoolean=!1;Me.prototype.property="";Me.prototype.spaceSeparated=!1;Me.prototype.space=void 0;let To=0;const Z=gt(),ye=gt(),la=gt(),D=gt(),he=gt(),wt=gt(),$e=gt();function gt(){return 2**++To}const Kn=Object.freeze(Object.defineProperty({__proto__:null,boolean:Z,booleanish:ye,commaOrSpaceSeparated:$e,commaSeparated:wt,number:D,overloadedBoolean:la,spaceSeparated:he},Symbol.toStringTag,{value:"Module"})),jn=Object.keys(Kn);class ui extends Me{constructor(t,n,i,r){let l=-1;if(super(t,n),Xi(this,"space",r),typeof i=="number")for(;++l<jn.length;){const a=jn[l];Xi(this,jn[l],(i&Kn[a])===Kn[a])}}}ui.prototype.defined=!0;function Xi(e,t,n){n&&(e[t]=n)}function It(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const l=new ui(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[Gn(i)]=i,n[Gn(l.attribute)]=i}return new Ht(t,n,e.space)}const oa=It({properties:{ariaActiveDescendant:null,ariaAtomic:ye,ariaAutoComplete:null,ariaBusy:ye,ariaChecked:ye,ariaColCount:D,ariaColIndex:D,ariaColSpan:D,ariaControls:he,ariaCurrent:null,ariaDescribedBy:he,ariaDetails:null,ariaDisabled:ye,ariaDropEffect:he,ariaErrorMessage:null,ariaExpanded:ye,ariaFlowTo:he,ariaGrabbed:ye,ariaHasPopup:null,ariaHidden:ye,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:he,ariaLevel:D,ariaLive:null,ariaModal:ye,ariaMultiLine:ye,ariaMultiSelectable:ye,ariaOrientation:null,ariaOwns:he,ariaPlaceholder:null,ariaPosInSet:D,ariaPressed:ye,ariaReadOnly:ye,ariaRelevant:null,ariaRequired:ye,ariaRoleDescription:he,ariaRowCount:D,ariaRowIndex:D,ariaRowSpan:D,ariaSelected:ye,ariaSetSize:D,ariaSort:null,ariaValueMax:D,ariaValueMin:D,ariaValueNow:D,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function sa(e,t){return t in e?e[t]:t}function ca(e,t){return sa(e,t.toLowerCase())}const zo=It({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wt,acceptCharset:he,accessKey:he,action:null,allow:null,allowFullScreen:Z,allowPaymentRequest:Z,allowUserMedia:Z,alt:null,as:null,async:Z,autoCapitalize:null,autoComplete:he,autoFocus:Z,autoPlay:Z,blocking:he,capture:null,charSet:null,checked:Z,cite:null,className:he,cols:D,colSpan:null,content:null,contentEditable:ye,controls:Z,controlsList:he,coords:D|wt,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Z,defer:Z,dir:null,dirName:null,disabled:Z,download:la,draggable:ye,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Z,formTarget:null,headers:he,height:D,hidden:Z,high:D,href:null,hrefLang:null,htmlFor:he,httpEquiv:he,id:null,imageSizes:null,imageSrcSet:null,inert:Z,inputMode:null,integrity:null,is:null,isMap:Z,itemId:null,itemProp:he,itemRef:he,itemScope:Z,itemType:he,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Z,low:D,manifest:null,max:null,maxLength:D,media:null,method:null,min:null,minLength:D,multiple:Z,muted:Z,name:null,nonce:null,noModule:Z,noValidate:Z,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Z,optimum:D,pattern:null,ping:he,placeholder:null,playsInline:Z,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Z,referrerPolicy:null,rel:he,required:Z,reversed:Z,rows:D,rowSpan:D,sandbox:he,scope:null,scoped:Z,seamless:Z,selected:Z,shadowRootClonable:Z,shadowRootDelegatesFocus:Z,shadowRootMode:null,shape:null,size:D,sizes:null,slot:null,span:D,spellCheck:ye,src:null,srcDoc:null,srcLang:null,srcSet:null,start:D,step:null,style:null,tabIndex:D,target:null,title:null,translate:null,type:null,typeMustMatch:Z,useMap:null,value:ye,width:D,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:he,axis:null,background:null,bgColor:null,border:D,borderColor:null,bottomMargin:D,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Z,declare:Z,event:null,face:null,frame:null,frameBorder:null,hSpace:D,leftMargin:D,link:null,longDesc:null,lowSrc:null,marginHeight:D,marginWidth:D,noResize:Z,noHref:Z,noShade:Z,noWrap:Z,object:null,profile:null,prompt:null,rev:null,rightMargin:D,rules:null,scheme:null,scrolling:ye,standby:null,summary:null,text:null,topMargin:D,valueType:null,version:null,vAlign:null,vLink:null,vSpace:D,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Z,disableRemotePlayback:Z,prefix:null,property:null,results:D,security:null,unselectable:null},space:"html",transform:ca}),Ro=It({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$e,accentHeight:D,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:D,amplitude:D,arabicForm:null,ascent:D,attributeName:null,attributeType:null,azimuth:D,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:D,by:null,calcMode:null,capHeight:D,className:he,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:D,diffuseConstant:D,direction:null,display:null,dur:null,divisor:D,dominantBaseline:null,download:Z,dx:null,dy:null,edgeMode:null,editable:null,elevation:D,enableBackground:null,end:null,event:null,exponent:D,externalResourcesRequired:null,fill:null,fillOpacity:D,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wt,g2:wt,glyphName:wt,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:D,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:D,horizOriginX:D,horizOriginY:D,id:null,ideographic:D,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:D,k:D,k1:D,k2:D,k3:D,k4:D,kernelMatrix:$e,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:D,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:D,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:D,overlineThickness:D,paintOrder:null,panose1:null,path:null,pathLength:D,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:he,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:D,pointsAtY:D,pointsAtZ:D,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$e,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$e,rev:$e,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$e,requiredFeatures:$e,requiredFonts:$e,requiredFormats:$e,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:D,specularExponent:D,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:D,strikethroughThickness:D,string:null,stroke:null,strokeDashArray:$e,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:D,strokeOpacity:D,strokeWidth:null,style:null,surfaceScale:D,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$e,tabIndex:D,tableValues:null,target:null,targetX:D,targetY:D,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$e,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:D,underlineThickness:D,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:D,values:null,vAlphabetic:D,vMathematical:D,vectorEffect:null,vHanging:D,vIdeographic:D,version:null,vertAdvY:D,vertOriginX:D,vertOriginY:D,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:D,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sa}),ua=It({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),pa=It({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ca}),da=It({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Fo={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_o=/[A-Z]/g,Qi=/-[a-z]/g,Mo=/^data[-\w.:]+$/i;function Oo(e,t){const n=Gn(t);let i=t,r=Me;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Mo.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Qi,Bo);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Qi.test(l)){let a=l.replace(_o,Lo);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}r=ui}return new r(i,t)}function Lo(e){return"-"+e.toLowerCase()}function Bo(e){return e.charAt(1).toUpperCase()}const $o=aa([oa,zo,ua,pa,da],"html"),pi=aa([oa,Ro,ua,pa,da],"svg");function Uo(e){return e.join(" ").trim()}var vt={},Cn,Zi;function qo(){if(Zi)return Cn;Zi=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,s=`
`,c="/",d="*",p="",f="comment",m="declaration";Cn=function(k,N){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];N=N||{};var b=1,E=1;function I(O){var T=O.match(t);T&&(b+=T.length);var L=O.lastIndexOf(s);E=~L?O.length-L:E+O.length}function _(){var O={line:b,column:E};return function(T){return T.position=new B(O),X(),T}}function B(O){this.start=O,this.end={line:b,column:E},this.source=N.source}B.prototype.content=k;function C(O){var T=new Error(N.source+":"+b+":"+E+": "+O);if(T.reason=O,T.filename=N.source,T.line=b,T.column=E,T.source=k,!N.silent)throw T}function U(O){var T=O.exec(k);if(T){var L=T[0];return I(L),k=k.slice(L.length),T}}function X(){U(n)}function K(O){var T;for(O=O||[];T=w();)T!==!1&&O.push(T);return O}function w(){var O=_();if(!(c!=k.charAt(0)||d!=k.charAt(1))){for(var T=2;p!=k.charAt(T)&&(d!=k.charAt(T)||c!=k.charAt(T+1));)++T;if(T+=2,p===k.charAt(T-1))return C("End of comment missing");var L=k.slice(2,T-2);return E+=2,I(L),k=k.slice(T),E+=2,O({type:f,comment:L})}}function F(){var O=_(),T=U(i);if(T){if(w(),!U(r))return C("property missing ':'");var L=U(l),oe=O({type:m,property:v(T[0].replace(e,p)),value:L?v(L[0].replace(e,p)):p});return U(a),oe}}function R(){var O=[];K(O);for(var T;T=F();)T!==!1&&(O.push(T),K(O));return O}return X(),R()};function v(k){return k?k.replace(o,p):p}return Cn}var Ji;function Ho(){if(Ji)return vt;Ji=1;var e=vt&&vt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=n;var t=e(qo());function n(i,r){var l=null;if(!i||typeof i!="string")return l;var a=(0,t.default)(i),o=typeof r=="function";return a.forEach(function(s){if(s.type==="declaration"){var c=s.property,d=s.value;o?r(c,d,s):d&&(l=l||{},l[c]=d)}}),l}return vt}var Dt={},er;function Vo(){if(er)return Dt;er=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,l=function(c){return!c||n.test(c)||e.test(c)},a=function(c,d){return d.toUpperCase()},o=function(c,d){return"".concat(d,"-")},s=function(c,d){return d===void 0&&(d={}),l(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(r,o):c=c.replace(i,o),c.replace(t,a))};return Dt.camelCase=s,Dt}var Tt,tr;function Wo(){if(tr)return Tt;tr=1;var e=Tt&&Tt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=e(Ho()),n=Vo();function i(r,l){var a={};return!r||typeof r!="string"||(0,t.default)(r,function(o,s){o&&s&&(a[(0,n.camelCase)(o,l)]=s)}),a}return i.default=i,Tt=i,Tt}var Go=Wo();const Ko=mn(Go),ma=fa("end"),di=fa("start");function fa(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Yo(e){const t=di(e),n=ma(e);if(t&&n)return{start:t,end:n}}function _t(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?nr(e.position):"start"in e||"end"in e?nr(e):"line"in e||"column"in e?Yn(e):""}function Yn(e){return ir(e&&e.line)+":"+ir(e&&e.column)}function nr(e){return Yn(e&&e.start)+"-"+Yn(e&&e.end)}function ir(e){return e&&typeof e=="number"?e:1}class Ie extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",l={},a=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?r=t:!l.cause&&t&&(a=!0,r=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof i=="string"){const s=i.indexOf(":");s===-1?l.ruleId=i:(l.source=i.slice(0,s),l.ruleId=i.slice(s+1))}if(!l.place&&l.ancestors&&l.ancestors){const s=l.ancestors[l.ancestors.length-1];s&&(l.place=s.position)}const o=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=o?o.line:void 0,this.name=_t(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=a&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ie.prototype.file="";Ie.prototype.name="";Ie.prototype.reason="";Ie.prototype.message="";Ie.prototype.stack="";Ie.prototype.column=void 0;Ie.prototype.line=void 0;Ie.prototype.ancestors=void 0;Ie.prototype.cause=void 0;Ie.prototype.fatal=void 0;Ie.prototype.place=void 0;Ie.prototype.ruleId=void 0;Ie.prototype.source=void 0;const mi={}.hasOwnProperty,Xo=new Map,Qo=/[A-Z]/g,Zo=new Set(["table","tbody","thead","tfoot","tr"]),Jo=new Set(["td","th"]),ha="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function es(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=ss(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=os(n,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?pi:$o,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=xa(r,e,void 0);return l&&typeof l!="string"?l:r.create(e,r.Fragment,{children:l||void 0},void 0)}function xa(e,t,n){if(t.type==="element")return ts(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ns(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return rs(e,t,n);if(t.type==="mdxjsEsm")return is(e,t);if(t.type==="root")return as(e,t,n);if(t.type==="text")return ls(e,t)}function ts(e,t,n){const i=e.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=pi,e.schema=r),e.ancestors.push(t);const l=va(e,t.tagName,!1),a=cs(e,t);let o=hi(e,t);return Zo.has(t.tagName)&&(o=o.filter(function(s){return typeof s=="string"?!Do(s):!0})),ga(e,a,l,t),fi(a,o),e.ancestors.pop(),e.schema=i,e.create(t,l,a,n)}function ns(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}$t(e,t.position)}function is(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);$t(e,t.position)}function rs(e,t,n){const i=e.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=pi,e.schema=r),e.ancestors.push(t);const l=t.name===null?e.Fragment:va(e,t.name,!0),a=us(e,t),o=hi(e,t);return ga(e,a,l,t),fi(a,o),e.ancestors.pop(),e.schema=i,e.create(t,l,a,n)}function as(e,t,n){const i={};return fi(i,hi(e,t)),e.create(t,e.Fragment,i,n)}function ls(e,t){return t.value}function ga(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function fi(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function os(e,t,n){return i;function i(r,l,a,o){const c=Array.isArray(a.children)?n:t;return o?c(l,a,o):c(l,a)}}function ss(e,t){return n;function n(i,r,l,a){const o=Array.isArray(l.children),s=di(i);return t(r,l,a,o,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}function cs(e,t){const n={};let i,r;for(r in t.properties)if(r!=="children"&&mi.call(t.properties,r)){const l=ps(e,r,t.properties[r]);if(l){const[a,o]=l;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&Jo.has(t.tagName)?i=o:n[a]=o}}if(i){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function us(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const l=i.data.estree.body[0];l.type;const a=l.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else $t(e,t.position);else{const r=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const o=i.value.data.estree.body[0];o.type,l=e.evaluater.evaluateExpression(o.expression)}else $t(e,t.position);else l=i.value===null?!0:i.value;n[r]=l}return n}function hi(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:Xo;for(;++i<t.children.length;){const l=t.children[i];let a;if(e.passKeys){const s=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(s){const c=r.get(s)||0;a=s+"-"+c,r.set(s,c+1)}}const o=xa(e,l,a);o!==void 0&&n.push(o)}return n}function ps(e,t,n){const i=Oo(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Eo(n):Uo(n)),i.property==="style"){let r=typeof n=="object"?n:ds(e,String(n));return e.stylePropertyNameCase==="css"&&(r=ms(r)),["style",r]}return[e.elementAttributeNameCase==="react"&&i.space?Fo[i.property]||i.property:i.attribute,n]}}function ds(e,t){try{return Ko(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,r=new Ie("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=ha+"#cannot-parse-style-attribute",r}}function va(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let l=-1,a;for(;++l<r.length;){const o=Ki(r[l])?{type:"Identifier",name:r[l]}:{type:"Literal",value:r[l]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(l&&o.type==="Literal"),optional:!1}:o}i=a}else i=Ki(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return mi.call(e.components,r)?e.components[r]:r}if(e.evaluater)return e.evaluater.evaluateExpression(i);$t(e)}function $t(e,t){const n=new Ie("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ha+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ms(e){const t={};let n;for(n in e)mi.call(e,n)&&(t[fs(n)]=e[n]);return t}function fs(e){let t=e.replace(Qo,hs);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function hs(e){return"-"+e.toLowerCase()}const Sn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xs={};function xi(e,t){const n=xs,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ya(e,i,r)}function ya(e,t,n){if(gs(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rr(e.children,t,n)}return Array.isArray(e)?rr(e,t,n):""}function rr(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=ya(e[r],t,n);return i.join("")}function gs(e){return!!(e&&typeof e=="object")}const ar=document.createElement("i");function gi(e){const t="&"+e+";";ar.innerHTML=t;const n=ar.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ue(e,t,n,i){const r=e.length;let l=0,a;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);l<i.length;)a=i.slice(l,l+1e4),a.unshift(t,0),e.splice(...a),l+=1e4,t+=1e4}function qe(e,t){return e.length>0?(Ue(e,e.length,0,t),e):t}const lr={}.hasOwnProperty;function ba(e){const t={};let n=-1;for(;++n<e.length;)vs(t,e[n]);return t}function vs(e,t){let n;for(n in t){const r=(lr.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let a;if(l)for(a in l){lr.call(r,a)||(r[a]=[]);const o=l[a];ys(r[a],Array.isArray(o)?o:o?[o]:[])}}}function ys(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Ue(e,0,0,i)}function wa(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ge(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Te=at(/[A-Za-z]/),Ee=at(/[\dA-Za-z]/),bs=at(/[#-'*+\--9=?A-Z^-~]/);function ln(e){return e!==null&&(e<32||e===127)}const Xn=at(/\d/),ws=at(/[\dA-Fa-f]/),ks=at(/[!-/:-@[-`{-~]/);function W(e){return e!==null&&e<-2}function de(e){return e!==null&&(e<0||e===32)}function ee(e){return e===-2||e===-1||e===32}const fn=at(new RegExp("\\p{P}|\\p{S}","u")),ht=at(/\s/);function at(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Nt(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const l=e.charCodeAt(n);let a="";if(l===37&&Ee(e.charCodeAt(n+1))&&Ee(e.charCodeAt(n+2)))r=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(a=String.fromCharCode(l));else if(l>55295&&l<57344){const o=e.charCodeAt(n+1);l<56320&&o>56319&&o<57344?(a=String.fromCharCode(l,o),r=1):a="�"}else a=String.fromCharCode(l);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+r+1,a=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}function re(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(s){return ee(s)?(e.enter(n),o(s)):t(s)}function o(s){return ee(s)&&l++<r?(e.consume(s),o):(e.exit(n),t(s))}}const js={tokenize:Cs};function Cs(e){const t=e.attempt(this.parser.constructs.contentInitial,i,r);let n;return t;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),re(e,t,"linePrefix")}function r(o){return e.enter("paragraph"),l(o)}function l(o){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return W(o)?(e.consume(o),e.exit("chunkText"),l):(e.consume(o),a)}}const Ss={tokenize:Es},or={tokenize:Is};function Es(e){const t=this,n=[];let i=0,r,l,a;return o;function o(I){if(i<n.length){const _=n[i];return t.containerState=_[1],e.attempt(_[0].continuation,s,c)(I)}return c(I)}function s(I){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&E();const _=t.events.length;let B=_,C;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){C=t.events[B][1].end;break}b(i);let U=_;for(;U<t.events.length;)t.events[U][1].end={...C},U++;return Ue(t.events,B+1,0,t.events.slice(_)),t.events.length=U,c(I)}return o(I)}function c(I){if(i===n.length){if(!r)return f(I);if(r.currentConstruct&&r.currentConstruct.concrete)return v(I);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(or,d,p)(I)}function d(I){return r&&E(),b(i),f(I)}function p(I){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,v(I)}function f(I){return t.containerState={},e.attempt(or,m,v)(I)}function m(I){return i++,n.push([t.currentConstruct,t.containerState]),f(I)}function v(I){if(I===null){r&&E(),b(0),e.consume(I);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:l}),k(I)}function k(I){if(I===null){N(e.exit("chunkFlow"),!0),b(0),e.consume(I);return}return W(I)?(e.consume(I),N(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(I),k)}function N(I,_){const B=t.sliceStream(I);if(_&&B.push(null),I.previous=l,l&&(l.next=I),l=I,r.defineSkip(I.start),r.write(B),t.parser.lazy[I.start.line]){let C=r.events.length;for(;C--;)if(r.events[C][1].start.offset<a&&(!r.events[C][1].end||r.events[C][1].end.offset>a))return;const U=t.events.length;let X=U,K,w;for(;X--;)if(t.events[X][0]==="exit"&&t.events[X][1].type==="chunkFlow"){if(K){w=t.events[X][1].end;break}K=!0}for(b(i),C=U;C<t.events.length;)t.events[C][1].end={...w},C++;Ue(t.events,X+1,0,t.events.slice(U)),t.events.length=C}}function b(I){let _=n.length;for(;_-- >I;){const B=n[_];t.containerState=B[1],B[0].exit.call(t,e)}n.length=I}function E(){r.write([null]),l=void 0,r=void 0,t.containerState._closeFlow=void 0}}function Is(e,t,n){return re(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function St(e){if(e===null||de(e)||ht(e))return 1;if(fn(e))return 2}function hn(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const l=e[r].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const Qn={name:"attention",resolveAll:Ns,tokenize:Ps};function Ns(e,t){let n=-1,i,r,l,a,o,s,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[i][1].end},f={...e[n][1].start};sr(p,-s),sr(f,s),a={type:s>1?"strongSequence":"emphasisSequence",start:p,end:{...e[i][1].end}},o={type:s>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},l={type:s>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},r={type:s>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[i][1].end={...a.start},e[n][1].start={...o.end},c=[],e[i][1].end.offset-e[i][1].start.offset&&(c=qe(c,[["enter",e[i][1],t],["exit",e[i][1],t]])),c=qe(c,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",l,t]]),c=qe(c,hn(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),c=qe(c,[["exit",l,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=qe(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ue(e,i-1,n-i+3,c),n=i+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Ps(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=St(i);let l;return a;function a(s){return l=s,e.enter("attentionSequence"),o(s)}function o(s){if(s===l)return e.consume(s),o;const c=e.exit("attentionSequence"),d=St(s),p=!d||d===2&&r||n.includes(s),f=!r||r===2&&d||n.includes(i);return c._open=!!(l===42?p:p&&(r||!f)),c._close=!!(l===42?f:f&&(d||!p)),t(s)}}function sr(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const As={name:"autolink",tokenize:Ds};function Ds(e,t,n){let i=0;return r;function r(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(m){return Te(m)?(e.consume(m),a):m===64?n(m):c(m)}function a(m){return m===43||m===45||m===46||Ee(m)?(i=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),i=0,s):(m===43||m===45||m===46||Ee(m))&&i++<32?(e.consume(m),o):(i=0,c(m))}function s(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||ln(m)?n(m):(e.consume(m),s)}function c(m){return m===64?(e.consume(m),d):bs(m)?(e.consume(m),c):n(m)}function d(m){return Ee(m)?p(m):n(m)}function p(m){return m===46?(e.consume(m),i=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||Ee(m))&&i++<63){const v=m===45?f:p;return e.consume(m),v}return n(m)}}const Vt={partial:!0,tokenize:Ts};function Ts(e,t,n){return i;function i(l){return ee(l)?re(e,r,"linePrefix")(l):r(l)}function r(l){return l===null||W(l)?t(l):n(l)}}const ka={continuation:{tokenize:Rs},exit:Fs,name:"blockQuote",tokenize:zs};function zs(e,t,n){const i=this;return r;function r(a){if(a===62){const o=i.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),l}return n(a)}function l(a){return ee(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Rs(e,t,n){const i=this;return r;function r(a){return ee(a)?re(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):l(a)}function l(a){return e.attempt(ka,t,n)(a)}}function Fs(e){e.exit("blockQuote")}const ja={name:"characterEscape",tokenize:_s};function _s(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),r}function r(l){return ks(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Ca={name:"characterReference",tokenize:Ms};function Ms(e,t,n){const i=this;let r=0,l,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),s}function s(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),l=31,a=Ee,d(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,a=ws,d):(e.enter("characterReferenceValue"),l=7,a=Xn,d(p))}function d(p){if(p===59&&r){const f=e.exit("characterReferenceValue");return a===Ee&&!gi(i.sliceSerialize(f))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&r++<l?(e.consume(p),d):n(p)}}const cr={partial:!0,tokenize:Ls},ur={concrete:!0,name:"codeFenced",tokenize:Os};function Os(e,t,n){const i=this,r={partial:!0,tokenize:B};let l=0,a=0,o;return s;function s(C){return c(C)}function c(C){const U=i.events[i.events.length-1];return l=U&&U[1].type==="linePrefix"?U[2].sliceSerialize(U[1],!0).length:0,o=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(C)}function d(C){return C===o?(a++,e.consume(C),d):a<3?n(C):(e.exit("codeFencedFenceSequence"),ee(C)?re(e,p,"whitespace")(C):p(C))}function p(C){return C===null||W(C)?(e.exit("codeFencedFence"),i.interrupt?t(C):e.check(cr,k,_)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(C))}function f(C){return C===null||W(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(C)):ee(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),re(e,m,"whitespace")(C)):C===96&&C===o?n(C):(e.consume(C),f)}function m(C){return C===null||W(C)?p(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===null||W(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(C)):C===96&&C===o?n(C):(e.consume(C),v)}function k(C){return e.attempt(r,_,N)(C)}function N(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),b}function b(C){return l>0&&ee(C)?re(e,E,"linePrefix",l+1)(C):E(C)}function E(C){return C===null||W(C)?e.check(cr,k,_)(C):(e.enter("codeFlowValue"),I(C))}function I(C){return C===null||W(C)?(e.exit("codeFlowValue"),E(C)):(e.consume(C),I)}function _(C){return e.exit("codeFenced"),t(C)}function B(C,U,X){let K=0;return w;function w(L){return C.enter("lineEnding"),C.consume(L),C.exit("lineEnding"),F}function F(L){return C.enter("codeFencedFence"),ee(L)?re(C,R,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):R(L)}function R(L){return L===o?(C.enter("codeFencedFenceSequence"),O(L)):X(L)}function O(L){return L===o?(K++,C.consume(L),O):K>=a?(C.exit("codeFencedFenceSequence"),ee(L)?re(C,T,"whitespace")(L):T(L)):X(L)}function T(L){return L===null||W(L)?(C.exit("codeFencedFence"),U(L)):X(L)}}}function Ls(e,t,n){const i=this;return r;function r(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l)}function l(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}const En={name:"codeIndented",tokenize:$s},Bs={partial:!0,tokenize:Us};function $s(e,t,n){const i=this;return r;function r(c){return e.enter("codeIndented"),re(e,l,"linePrefix",5)(c)}function l(c){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?s(c):W(c)?e.attempt(Bs,a,s)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||W(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),o)}function s(c){return e.exit("codeIndented"),t(c)}}function Us(e,t,n){const i=this;return r;function r(a){return i.parser.lazy[i.now().line]?n(a):W(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r):re(e,l,"linePrefix",5)(a)}function l(a){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):W(a)?r(a):n(a)}}const qs={name:"codeText",previous:Vs,resolve:Hs,tokenize:Ws};function Hs(e){let t=e.length-4,n=3,i,r;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)r===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(r=i):(i===t||e[i][1].type==="lineEnding")&&(e[r][1].type="codeTextData",i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return e}function Vs(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ws(e,t,n){let i=0,r,l;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),i++,o):(e.exit("codeTextSequence"),s(p))}function s(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),s):p===96?(l=e.enter("codeTextSequence"),r=0,d(p)):W(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),s):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||W(p)?(e.exit("codeTextData"),s(p)):(e.consume(p),c)}function d(p){return p===96?(e.consume(p),r++,d):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(l.type="codeTextData",c(p))}}class Gs{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const r=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&zt(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),zt(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),zt(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);zt(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);zt(this.left,n.reverse())}}}function zt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Sa(e){const t={};let n=-1,i,r,l,a,o,s,c;const d=new Gs(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(i=d.get(n),n&&i[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(s=i[1]._tokenizer.events,l=0,l<s.length&&s[l][1].type==="lineEndingBlank"&&(l+=2),l<s.length&&s[l][1].type==="content"))for(;++l<s.length&&s[l][1].type!=="content";)s[l][1].type==="chunkText"&&(s[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,Ks(d,n)),n=t[n],c=!0);else if(i[1]._container){for(l=n,r=void 0;l--;)if(a=d.get(l),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=l);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},o=d.slice(r,n),o.unshift(i),d.splice(r,n-r+1,o))}}return Ue(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Ks(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const l=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,s=[],c={};let d,p,f=-1,m=n,v=0,k=0;const N=[k];for(;m;){for(;e.get(++r)[1]!==m;);l.push(r),m._tokenizer||(d=i.sliceStream(m),m.next||d.push(null),p&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(k=f+1,N.push(k),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):N.pop(),f=N.length;f--;){const b=o.slice(N[f],N[f+1]),E=l.pop();s.push([E,E+b.length-1]),e.splice(E,2,b)}for(s.reverse(),f=-1;++f<s.length;)c[v+s[f][0]]=v+s[f][1],v+=s[f][1]-s[f][0]-1;return c}const Ys={resolve:Qs,tokenize:Zs},Xs={partial:!0,tokenize:Js};function Qs(e){return Sa(e),e}function Zs(e,t){let n;return i;function i(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?l(o):W(o)?e.check(Xs,a,l)(o):(e.consume(o),r)}function l(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function Js(e,t,n){const i=this;return r;function r(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),re(e,l,"linePrefix")}function l(a){if(a===null||W(a))return n(a);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,n,t)(a)}}function Ea(e,t,n,i,r,l,a,o,s){const c=s||Number.POSITIVE_INFINITY;let d=0;return p;function p(b){return b===60?(e.enter(i),e.enter(r),e.enter(l),e.consume(b),e.exit(l),f):b===null||b===32||b===41||ln(b)?n(b):(e.enter(i),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),k(b))}function f(b){return b===62?(e.enter(l),e.consume(b),e.exit(l),e.exit(r),e.exit(i),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(e.exit("chunkString"),e.exit(o),f(b)):b===null||b===60||W(b)?n(b):(e.consume(b),b===92?v:m)}function v(b){return b===60||b===62||b===92?(e.consume(b),m):m(b)}function k(b){return!d&&(b===null||b===41||de(b))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(i),t(b)):d<c&&b===40?(e.consume(b),d++,k):b===41?(e.consume(b),d--,k):b===null||b===32||b===40||ln(b)?n(b):(e.consume(b),b===92?N:k)}function N(b){return b===40||b===41||b===92?(e.consume(b),k):k(b)}}function Ia(e,t,n,i,r,l){const a=this;let o=0,s;return c;function c(m){return e.enter(i),e.enter(r),e.consume(m),e.exit(r),e.enter(l),d}function d(m){return o>999||m===null||m===91||m===93&&!s||m===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(e.exit(l),e.enter(r),e.consume(m),e.exit(r),e.exit(i),t):W(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||W(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),s||(s=!ee(m)),m===92?f:p)}function f(m){return m===91||m===92||m===93?(e.consume(m),o++,p):p(m)}}function Na(e,t,n,i,r,l){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(i),e.enter(r),e.consume(f),e.exit(r),a=f===40?41:f,s):n(f)}function s(f){return f===a?(e.enter(r),e.consume(f),e.exit(r),e.exit(i),t):(e.enter(l),c(f))}function c(f){return f===a?(e.exit(l),s(a)):f===null?n(f):W(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),re(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===a||f===null||W(f)?(e.exit("chunkString"),c(f)):(e.consume(f),f===92?p:d)}function p(f){return f===a||f===92?(e.consume(f),d):d(f)}}function Mt(e,t){let n;return i;function i(r){return W(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):ee(r)?re(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}const ec={name:"definition",tokenize:nc},tc={partial:!0,tokenize:ic};function nc(e,t,n){const i=this;let r;return l;function l(m){return e.enter("definition"),a(m)}function a(m){return Ia.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return r=Ge(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),s):n(m)}function s(m){return de(m)?Mt(e,c)(m):c(m)}function c(m){return Ea(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(tc,p,p)(m)}function p(m){return ee(m)?re(e,f,"whitespace")(m):f(m)}function f(m){return m===null||W(m)?(e.exit("definition"),i.parser.defined.push(r),t(m)):n(m)}}function ic(e,t,n){return i;function i(o){return de(o)?Mt(e,r)(o):n(o)}function r(o){return Na(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function l(o){return ee(o)?re(e,a,"whitespace")(o):a(o)}function a(o){return o===null||W(o)?t(o):n(o)}}const rc={name:"hardBreakEscape",tokenize:ac};function ac(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.consume(l),r}function r(l){return W(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const lc={name:"headingAtx",resolve:oc,tokenize:sc};function oc(e,t){let n=e.length-2,i=3,r,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Ue(e,i,n-i+1,[["enter",r,t],["enter",l,t],["exit",l,t],["exit",r,t]])),e}function sc(e,t,n){let i=0;return r;function r(d){return e.enter("atxHeading"),l(d)}function l(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&i++<6?(e.consume(d),a):d===null||de(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),s(d)):d===null||W(d)?(e.exit("atxHeading"),t(d)):ee(d)?re(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function s(d){return d===35?(e.consume(d),s):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||de(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const cc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pr=["pre","script","style","textarea"],uc={concrete:!0,name:"htmlFlow",resolveTo:mc,tokenize:fc},pc={partial:!0,tokenize:xc},dc={partial:!0,tokenize:hc};function mc(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function fc(e,t,n){const i=this;let r,l,a,o,s;return c;function c(x){return d(x)}function d(x){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(x),p}function p(x){return x===33?(e.consume(x),f):x===47?(e.consume(x),l=!0,k):x===63?(e.consume(x),r=3,i.interrupt?t:g):Te(x)?(e.consume(x),a=String.fromCharCode(x),N):n(x)}function f(x){return x===45?(e.consume(x),r=2,m):x===91?(e.consume(x),r=5,o=0,v):Te(x)?(e.consume(x),r=4,i.interrupt?t:g):n(x)}function m(x){return x===45?(e.consume(x),i.interrupt?t:g):n(x)}function v(x){const Y="CDATA[";return x===Y.charCodeAt(o++)?(e.consume(x),o===Y.length?i.interrupt?t:R:v):n(x)}function k(x){return Te(x)?(e.consume(x),a=String.fromCharCode(x),N):n(x)}function N(x){if(x===null||x===47||x===62||de(x)){const Y=x===47,ue=a.toLowerCase();return!Y&&!l&&pr.includes(ue)?(r=1,i.interrupt?t(x):R(x)):cc.includes(a.toLowerCase())?(r=6,Y?(e.consume(x),b):i.interrupt?t(x):R(x)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(x):l?E(x):I(x))}return x===45||Ee(x)?(e.consume(x),a+=String.fromCharCode(x),N):n(x)}function b(x){return x===62?(e.consume(x),i.interrupt?t:R):n(x)}function E(x){return ee(x)?(e.consume(x),E):w(x)}function I(x){return x===47?(e.consume(x),w):x===58||x===95||Te(x)?(e.consume(x),_):ee(x)?(e.consume(x),I):w(x)}function _(x){return x===45||x===46||x===58||x===95||Ee(x)?(e.consume(x),_):B(x)}function B(x){return x===61?(e.consume(x),C):ee(x)?(e.consume(x),B):I(x)}function C(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),s=x,U):ee(x)?(e.consume(x),C):X(x)}function U(x){return x===s?(e.consume(x),s=null,K):x===null||W(x)?n(x):(e.consume(x),U)}function X(x){return x===null||x===34||x===39||x===47||x===60||x===61||x===62||x===96||de(x)?B(x):(e.consume(x),X)}function K(x){return x===47||x===62||ee(x)?I(x):n(x)}function w(x){return x===62?(e.consume(x),F):n(x)}function F(x){return x===null||W(x)?R(x):ee(x)?(e.consume(x),F):n(x)}function R(x){return x===45&&r===2?(e.consume(x),oe):x===60&&r===1?(e.consume(x),ce):x===62&&r===4?(e.consume(x),ae):x===63&&r===3?(e.consume(x),g):x===93&&r===5?(e.consume(x),le):W(x)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(pc,xe,O)(x)):x===null||W(x)?(e.exit("htmlFlowData"),O(x)):(e.consume(x),R)}function O(x){return e.check(dc,T,xe)(x)}function T(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),L}function L(x){return x===null||W(x)?O(x):(e.enter("htmlFlowData"),R(x))}function oe(x){return x===45?(e.consume(x),g):R(x)}function ce(x){return x===47?(e.consume(x),a="",me):R(x)}function me(x){if(x===62){const Y=a.toLowerCase();return pr.includes(Y)?(e.consume(x),ae):R(x)}return Te(x)&&a.length<8?(e.consume(x),a+=String.fromCharCode(x),me):R(x)}function le(x){return x===93?(e.consume(x),g):R(x)}function g(x){return x===62?(e.consume(x),ae):x===45&&r===2?(e.consume(x),g):R(x)}function ae(x){return x===null||W(x)?(e.exit("htmlFlowData"),xe(x)):(e.consume(x),ae)}function xe(x){return e.exit("htmlFlow"),t(x)}}function hc(e,t,n){const i=this;return r;function r(a){return W(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),l):n(a)}function l(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}function xc(e,t,n){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Vt,t,n)}}const gc={name:"htmlText",tokenize:vc};function vc(e,t,n){const i=this;let r,l,a;return o;function o(g){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(g),s}function s(g){return g===33?(e.consume(g),c):g===47?(e.consume(g),B):g===63?(e.consume(g),I):Te(g)?(e.consume(g),X):n(g)}function c(g){return g===45?(e.consume(g),d):g===91?(e.consume(g),l=0,v):Te(g)?(e.consume(g),E):n(g)}function d(g){return g===45?(e.consume(g),m):n(g)}function p(g){return g===null?n(g):g===45?(e.consume(g),f):W(g)?(a=p,ce(g)):(e.consume(g),p)}function f(g){return g===45?(e.consume(g),m):p(g)}function m(g){return g===62?oe(g):g===45?f(g):p(g)}function v(g){const ae="CDATA[";return g===ae.charCodeAt(l++)?(e.consume(g),l===ae.length?k:v):n(g)}function k(g){return g===null?n(g):g===93?(e.consume(g),N):W(g)?(a=k,ce(g)):(e.consume(g),k)}function N(g){return g===93?(e.consume(g),b):k(g)}function b(g){return g===62?oe(g):g===93?(e.consume(g),b):k(g)}function E(g){return g===null||g===62?oe(g):W(g)?(a=E,ce(g)):(e.consume(g),E)}function I(g){return g===null?n(g):g===63?(e.consume(g),_):W(g)?(a=I,ce(g)):(e.consume(g),I)}function _(g){return g===62?oe(g):I(g)}function B(g){return Te(g)?(e.consume(g),C):n(g)}function C(g){return g===45||Ee(g)?(e.consume(g),C):U(g)}function U(g){return W(g)?(a=U,ce(g)):ee(g)?(e.consume(g),U):oe(g)}function X(g){return g===45||Ee(g)?(e.consume(g),X):g===47||g===62||de(g)?K(g):n(g)}function K(g){return g===47?(e.consume(g),oe):g===58||g===95||Te(g)?(e.consume(g),w):W(g)?(a=K,ce(g)):ee(g)?(e.consume(g),K):oe(g)}function w(g){return g===45||g===46||g===58||g===95||Ee(g)?(e.consume(g),w):F(g)}function F(g){return g===61?(e.consume(g),R):W(g)?(a=F,ce(g)):ee(g)?(e.consume(g),F):K(g)}function R(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(e.consume(g),r=g,O):W(g)?(a=R,ce(g)):ee(g)?(e.consume(g),R):(e.consume(g),T)}function O(g){return g===r?(e.consume(g),r=void 0,L):g===null?n(g):W(g)?(a=O,ce(g)):(e.consume(g),O)}function T(g){return g===null||g===34||g===39||g===60||g===61||g===96?n(g):g===47||g===62||de(g)?K(g):(e.consume(g),T)}function L(g){return g===47||g===62||de(g)?K(g):n(g)}function oe(g){return g===62?(e.consume(g),e.exit("htmlTextData"),e.exit("htmlText"),t):n(g)}function ce(g){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),me}function me(g){return ee(g)?re(e,le,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):le(g)}function le(g){return e.enter("htmlTextData"),a(g)}}const vi={name:"labelEnd",resolveAll:kc,resolveTo:jc,tokenize:Cc},yc={tokenize:Sc},bc={tokenize:Ec},wc={tokenize:Ic};function kc(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return e.length!==n.length&&Ue(e,0,e.length,n),e}function jc(e,t){let n=e.length,i=0,r,l,a,o;for(;n--;)if(r=e[n][1],l){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(l=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(a=n);const s={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[l][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[l+i+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",s,t],["enter",c,t]],o=qe(o,e.slice(l+1,l+i+3)),o=qe(o,[["enter",d,t]]),o=qe(o,hn(t.parser.constructs.insideSpan.null,e.slice(l+i+4,a-3),t)),o=qe(o,[["exit",d,t],e[a-2],e[a-1],["exit",c,t]]),o=qe(o,e.slice(a+1)),o=qe(o,[["exit",s,t]]),Ue(e,l,e.length,o),e}function Cc(e,t,n){const i=this;let r=i.events.length,l,a;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){l=i.events[r][1];break}return o;function o(f){return l?l._inactive?p(f):(a=i.parser.defined.includes(Ge(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),s):n(f)}function s(f){return f===40?e.attempt(yc,d,a?d:p)(f):f===91?e.attempt(bc,d,a?c:p)(f):a?d(f):p(f)}function c(f){return e.attempt(wc,d,p)(f)}function d(f){return t(f)}function p(f){return l._balanced=!0,n(f)}}function Sc(e,t,n){return i;function i(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),r}function r(p){return de(p)?Mt(e,l)(p):l(p)}function l(p){return p===41?d(p):Ea(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return de(p)?Mt(e,s)(p):d(p)}function o(p){return n(p)}function s(p){return p===34||p===39||p===40?Na(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function c(p){return de(p)?Mt(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function Ec(e,t,n){const i=this;return r;function r(o){return Ia.call(i,e,l,a,"reference","referenceMarker","referenceString")(o)}function l(o){return i.parser.defined.includes(Ge(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function Ic(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),r}function r(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const Nc={name:"labelStartImage",resolveAll:vi.resolveAll,tokenize:Pc};function Pc(e,t,n){const i=this;return r;function r(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),l}function l(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):t(o)}}const Ac={name:"labelStartLink",resolveAll:vi.resolveAll,tokenize:Dc};function Dc(e,t,n){const i=this;return r;function r(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),l}function l(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const In={name:"lineEnding",tokenize:Tc};function Tc(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),re(e,t,"linePrefix")}}const nn={name:"thematicBreak",tokenize:zc};function zc(e,t,n){let i=0,r;return l;function l(c){return e.enter("thematicBreak"),a(c)}function a(c){return r=c,o(c)}function o(c){return c===r?(e.enter("thematicBreakSequence"),s(c)):i>=3&&(c===null||W(c))?(e.exit("thematicBreak"),t(c)):n(c)}function s(c){return c===r?(e.consume(c),i++,s):(e.exit("thematicBreakSequence"),ee(c)?re(e,o,"whitespace")(c):o(c))}}const _e={continuation:{tokenize:Mc},exit:Lc,name:"list",tokenize:_c},Rc={partial:!0,tokenize:Bc},Fc={partial:!0,tokenize:Oc};function _c(e,t,n){const i=this,r=i.events[i.events.length-1];let l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return o;function o(m){const v=i.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!i.containerState.marker||m===i.containerState.marker:Xn(m)){if(i.containerState.type||(i.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(nn,n,c)(m):c(m);if(!i.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(m)}return n(m)}function s(m){return Xn(m)&&++a<10?(e.consume(m),s):(!i.interrupt||a<2)&&(i.containerState.marker?m===i.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||m,e.check(Vt,i.interrupt?n:d,e.attempt(Rc,f,p))}function d(m){return i.containerState.initialBlankLine=!0,l++,f(m)}function p(m){return ee(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Mc(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Vt,r,l);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,re(e,t,"listItemIndent",i.containerState.size+1)(o)}function l(o){return i.containerState.furtherBlankLines||!ee(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Fc,t,a)(o))}function a(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,re(e,e.attempt(_e,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Oc(e,t,n){const i=this;return re(e,r,"listItemIndent",i.containerState.size+1);function r(l){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(l):n(l)}}function Lc(e){e.exit(this.containerState.type)}function Bc(e,t,n){const i=this;return re(e,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(l){const a=i.events[i.events.length-1];return!ee(l)&&a&&a[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const dr={name:"setextUnderline",resolveTo:$c,tokenize:Uc};function $c(e,t){let n=e.length,i,r,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(r=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",l?(e.splice(r,0,["enter",a,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end={...e[l][1].end}):e[i][1]=a,e.push(["exit",a,t]),e}function Uc(e,t,n){const i=this;let r;return l;function l(c){let d=i.events.length,p;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){p=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(e.enter("setextHeadingLine"),r=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===r?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),ee(c)?re(e,s,"lineSuffix")(c):s(c))}function s(c){return c===null||W(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const qc={tokenize:Hc};function Hc(e){const t=this,n=e.attempt(Vt,i,e.attempt(this.parser.constructs.flowInitial,r,re(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Ys,r)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Vc={resolveAll:Aa()},Wc=Pa("string"),Gc=Pa("text");function Pa(e){return{resolveAll:Aa(e==="text"?Kc:void 0),tokenize:t};function t(n){const i=this,r=this.parser.constructs[e],l=n.attempt(r,a,o);return a;function a(d){return c(d)?l(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),s}function s(d){return c(d)?(n.exit("data"),l(d)):(n.consume(d),s)}function c(d){if(d===null)return!0;const p=r[d];let f=-1;if(p)for(;++f<p.length;){const m=p[f];if(!m.previous||m.previous.call(i,i.previous))return!0}return!1}}}function Aa(e){return t;function t(n,i){let r=-1,l;for(;++r<=n.length;)l===void 0?n[r]&&n[r][1].type==="data"&&(l=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==l+2&&(n[l][1].end=n[r-1][1].end,n.splice(l+2,r-l-2),r=l+2),l=void 0);return e?e(n,i):n}}function Kc(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],r=t.sliceStream(i);let l=r.length,a=-1,o=0,s;for(;l--;){const c=r[l];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)s=!0,o++;else if(c!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||s||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?a:i.start._bufferIndex+a,_index:i.start._index+l,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Yc={42:_e,43:_e,45:_e,48:_e,49:_e,50:_e,51:_e,52:_e,53:_e,54:_e,55:_e,56:_e,57:_e,62:ka},Xc={91:ec},Qc={[-2]:En,[-1]:En,32:En},Zc={35:lc,42:nn,45:[dr,nn],60:uc,61:dr,95:nn,96:ur,126:ur},Jc={38:Ca,92:ja},eu={[-5]:In,[-4]:In,[-3]:In,33:Nc,38:Ca,42:Qn,60:[As,gc],91:Ac,92:[rc,ja],93:vi,95:Qn,96:qs},tu={null:[Qn,Vc]},nu={null:[42,95]},iu={null:[]},ru=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:nu,contentInitial:Xc,disable:iu,document:Yc,flow:Zc,flowInitial:Qc,insideSpan:tu,string:Jc,text:eu},Symbol.toStringTag,{value:"Module"}));function au(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},l=[];let a=[],o=[];const s={attempt:U(B),check:U(C),consume:E,enter:I,exit:_,interrupt:U(C,{interrupt:!0})},c={code:null,containerState:{},defineSkip:k,events:[],now:v,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:p};let d=t.tokenize.call(c,s);return t.resolveAll&&l.push(t),c;function p(F){return a=qe(a,F),N(),a[a.length-1]!==null?[]:(X(t,0),c.events=hn(l,c.events,c),c.events)}function f(F,R){return ou(m(F),R)}function m(F){return lu(a,F)}function v(){const{_bufferIndex:F,_index:R,line:O,column:T,offset:L}=i;return{_bufferIndex:F,_index:R,line:O,column:T,offset:L}}function k(F){r[F.line]=F.column,w()}function N(){let F;for(;i._index<a.length;){const R=a[i._index];if(typeof R=="string")for(F=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===F&&i._bufferIndex<R.length;)b(R.charCodeAt(i._bufferIndex));else b(R)}}function b(F){d=d(F)}function E(F){W(F)?(i.line++,i.column=1,i.offset+=F===-3?2:1,w()):F!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=F}function I(F,R){const O=R||{};return O.type=F,O.start=v(),c.events.push(["enter",O,c]),o.push(O),O}function _(F){const R=o.pop();return R.end=v(),c.events.push(["exit",R,c]),R}function B(F,R){X(F,R.from)}function C(F,R){R.restore()}function U(F,R){return O;function O(T,L,oe){let ce,me,le,g;return Array.isArray(T)?xe(T):"tokenize"in T?xe([T]):ae(T);function ae(J){return ve;function ve(ke){const je=ke!==null&&J[ke],Ce=ke!==null&&J.null,Re=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return xe(Re)(ke)}}function xe(J){return ce=J,me=0,J.length===0?oe:x(J[me])}function x(J){return ve;function ve(ke){return g=K(),le=J,J.partial||(c.currentConstruct=J),J.name&&c.parser.constructs.disable.null.includes(J.name)?ue():J.tokenize.call(R?Object.assign(Object.create(c),R):c,s,Y,ue)(ke)}}function Y(J){return F(le,g),L}function ue(J){return g.restore(),++me<ce.length?x(ce[me]):oe}}}function X(F,R){F.resolveAll&&!l.includes(F)&&l.push(F),F.resolve&&Ue(c.events,R,c.events.length-R,F.resolve(c.events.slice(R),c)),F.resolveTo&&(c.events=F.resolveTo(c.events,c))}function K(){const F=v(),R=c.previous,O=c.currentConstruct,T=c.events.length,L=Array.from(o);return{from:T,restore:oe};function oe(){i=F,c.previous=R,c.currentConstruct=O,c.events.length=T,o=L,w()}}function w(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function lu(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,l=t.end._bufferIndex;let a;if(n===r)a=[e[n].slice(i,l)];else{if(a=e.slice(n,r),i>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(i):a.shift()}l>0&&a.push(e[r].slice(0,l))}return a}function ou(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const l=e[n];let a;if(typeof l=="string")a=l;else switch(l){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&r)continue;a=" ";break}default:a=String.fromCharCode(l)}r=l===-2,i.push(a)}return i.join("")}function su(e){const i={constructs:ba([ru,...(e||{}).extensions||[]]),content:r(js),defined:[],document:r(Ss),flow:r(qc),lazy:{},string:r(Wc),text:r(Gc)};return i;function r(l){return a;function a(o){return au(i,l,o)}}}function cu(e){for(;!Sa(e););return e}const mr=/[\0\t\n\r]/g;function uu(){let e=1,t="",n=!0,i;return r;function r(l,a,o){const s=[];let c,d,p,f,m;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(a||void 0).decode(l)),p=0,t="",n&&(l.charCodeAt(0)===65279&&p++,n=void 0);p<l.length;){if(mr.lastIndex=p,c=mr.exec(l),f=c&&c.index!==void 0?c.index:l.length,m=l.charCodeAt(f),!c){t=l.slice(p);break}if(m===10&&p===f&&i)s.push(-3),i=void 0;else switch(i&&(s.push(-5),i=void 0),p<f&&(s.push(l.slice(p,f)),e+=f-p),m){case 0:{s.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,s.push(-2);e++<d;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:i=!0,e=1}p=f+1}return o&&(i&&s.push(-5),t&&s.push(t),s.push(null)),s}}const pu=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function du(e){return e.replace(pu,mu)}function mu(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),l=r===120||r===88;return wa(n.slice(l?2:1),l?16:10)}return gi(n)||e}const Da={}.hasOwnProperty;function fu(e,t,n){return typeof t!="string"&&(n=t,t=void 0),hu(n)(cu(su(n).document().write(uu()(e,t,!0))))}function hu(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(He),autolinkProtocol:K,autolinkEmail:K,atxHeading:l(Ke),blockQuote:l(Ce),characterEscape:K,characterReference:K,codeFenced:l(Re),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:l(Re,a),codeText:l(Ne,a),codeTextData:K,data:K,codeFlowValue:K,definition:l(nt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:l(it),hardBreakEscape:l(et),hardBreakTrailing:l(et),htmlFlow:l(Oe,a),htmlFlowData:K,htmlText:l(Oe,a),htmlTextData:K,image:l(Ye),label:a,link:l(He),listItem:l($),listItemValue:f,listOrdered:l(A,p),listUnordered:l(A),paragraph:l(H),reference:x,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:l(Ke),strong:l(V),thematicBreak:l(h)},exit:{atxHeading:s(),atxHeadingSequence:B,autolink:s(),autolinkEmail:je,autolinkProtocol:ke,blockQuote:s(),characterEscapeValue:w,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:J,characterReference:ve,codeFenced:s(N),codeFencedFence:k,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:w,codeIndented:s(b),codeText:s(L),codeTextData:w,data:w,definition:s(),definitionDestinationString:_,definitionLabelString:E,definitionTitleString:I,emphasis:s(),hardBreakEscape:s(R),hardBreakTrailing:s(R),htmlFlow:s(O),htmlFlowData:w,htmlText:s(T),htmlTextData:w,image:s(ce),label:le,labelText:me,lineEnding:F,link:s(oe),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:Y,resourceDestinationString:g,resourceTitleString:ae,resource:xe,setextHeading:s(X),setextHeadingLineSequence:U,setextHeadingText:C,strong:s(),thematicBreak:s()}};Ta(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(y){let j={type:"root",children:[]};const z={stack:[j],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:d,data:n},M=[];let G=-1;for(;++G<y.length;)if(y[G][1].type==="listOrdered"||y[G][1].type==="listUnordered")if(y[G][0]==="enter")M.push(G);else{const fe=M.pop();G=r(y,fe,G)}for(G=-1;++G<y.length;){const fe=t[y[G][0]];Da.call(fe,y[G][1].type)&&fe[y[G][1].type].call(Object.assign({sliceSerialize:y[G][2].sliceSerialize},z),y[G][1])}if(z.tokenStack.length>0){const fe=z.tokenStack[z.tokenStack.length-1];(fe[1]||fr).call(z,void 0,fe[0])}for(j.position={start:rt(y.length>0?y[0][1].start:{line:1,column:1,offset:0}),end:rt(y.length>0?y[y.length-2][1].end:{line:1,column:1,offset:0})},G=-1;++G<t.transforms.length;)j=t.transforms[G](j)||j;return j}function r(y,j,z){let M=j-1,G=-1,fe=!1,Fe,Se,Le,Q;for(;++M<=z;){const q=y[M];switch(q[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{q[0]==="enter"?G++:G--,Q=void 0;break}case"lineEndingBlank":{q[0]==="enter"&&(Fe&&!Q&&!G&&!Le&&(Le=M),Q=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Q=void 0}if(!G&&q[0]==="enter"&&q[1].type==="listItemPrefix"||G===-1&&q[0]==="exit"&&(q[1].type==="listUnordered"||q[1].type==="listOrdered")){if(Fe){let te=M;for(Se=void 0;te--;){const ne=y[te];if(ne[1].type==="lineEnding"||ne[1].type==="lineEndingBlank"){if(ne[0]==="exit")continue;Se&&(y[Se][1].type="lineEndingBlank",fe=!0),ne[1].type="lineEnding",Se=te}else if(!(ne[1].type==="linePrefix"||ne[1].type==="blockQuotePrefix"||ne[1].type==="blockQuotePrefixWhitespace"||ne[1].type==="blockQuoteMarker"||ne[1].type==="listItemIndent"))break}Le&&(!Se||Le<Se)&&(Fe._spread=!0),Fe.end=Object.assign({},Se?y[Se][1].start:q[1].end),y.splice(Se||M,0,["exit",Fe,q[2]]),M++,z++}if(q[1].type==="listItemPrefix"){const te={type:"listItem",_spread:!1,start:Object.assign({},q[1].start),end:void 0};Fe=te,y.splice(M,0,["enter",te,q[2]]),M++,z++,Le=void 0,Q=!0}}}return y[j][1]._spread=fe,z}function l(y,j){return z;function z(M){o.call(this,y(M),M),j&&j.call(this,M)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(y,j,z){this.stack[this.stack.length-1].children.push(y),this.stack.push(y),this.tokenStack.push([j,z||void 0]),y.position={start:rt(j.start),end:void 0}}function s(y){return j;function j(z){y&&y.call(this,z),c.call(this,z)}}function c(y,j){const z=this.stack.pop(),M=this.tokenStack.pop();if(M)M[0].type!==y.type&&(j?j.call(this,y,M[0]):(M[1]||fr).call(this,y,M[0]));else throw new Error("Cannot close `"+y.type+"` ("+_t({start:y.start,end:y.end})+"): it’s not open");z.position.end=rt(y.end)}function d(){return xi(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function f(y){if(this.data.expectingFirstListItemValue){const j=this.stack[this.stack.length-2];j.start=Number.parseInt(this.sliceSerialize(y),10),this.data.expectingFirstListItemValue=void 0}}function m(){const y=this.resume(),j=this.stack[this.stack.length-1];j.lang=y}function v(){const y=this.resume(),j=this.stack[this.stack.length-1];j.meta=y}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const y=this.resume(),j=this.stack[this.stack.length-1];j.value=y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const y=this.resume(),j=this.stack[this.stack.length-1];j.value=y.replace(/(\r?\n|\r)$/g,"")}function E(y){const j=this.resume(),z=this.stack[this.stack.length-1];z.label=j,z.identifier=Ge(this.sliceSerialize(y)).toLowerCase()}function I(){const y=this.resume(),j=this.stack[this.stack.length-1];j.title=y}function _(){const y=this.resume(),j=this.stack[this.stack.length-1];j.url=y}function B(y){const j=this.stack[this.stack.length-1];if(!j.depth){const z=this.sliceSerialize(y).length;j.depth=z}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function U(y){const j=this.stack[this.stack.length-1];j.depth=this.sliceSerialize(y).codePointAt(0)===61?1:2}function X(){this.data.setextHeadingSlurpLineEnding=void 0}function K(y){const z=this.stack[this.stack.length-1].children;let M=z[z.length-1];(!M||M.type!=="text")&&(M=P(),M.position={start:rt(y.start),end:void 0},z.push(M)),this.stack.push(M)}function w(y){const j=this.stack.pop();j.value+=this.sliceSerialize(y),j.position.end=rt(y.end)}function F(y){const j=this.stack[this.stack.length-1];if(this.data.atHardBreak){const z=j.children[j.children.length-1];z.position.end=rt(y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(j.type)&&(K.call(this,y),w.call(this,y))}function R(){this.data.atHardBreak=!0}function O(){const y=this.resume(),j=this.stack[this.stack.length-1];j.value=y}function T(){const y=this.resume(),j=this.stack[this.stack.length-1];j.value=y}function L(){const y=this.resume(),j=this.stack[this.stack.length-1];j.value=y}function oe(){const y=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";y.type+="Reference",y.referenceType=j,delete y.url,delete y.title}else delete y.identifier,delete y.label;this.data.referenceType=void 0}function ce(){const y=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";y.type+="Reference",y.referenceType=j,delete y.url,delete y.title}else delete y.identifier,delete y.label;this.data.referenceType=void 0}function me(y){const j=this.sliceSerialize(y),z=this.stack[this.stack.length-2];z.label=du(j),z.identifier=Ge(j).toLowerCase()}function le(){const y=this.stack[this.stack.length-1],j=this.resume(),z=this.stack[this.stack.length-1];if(this.data.inReference=!0,z.type==="link"){const M=y.children;z.children=M}else z.alt=j}function g(){const y=this.resume(),j=this.stack[this.stack.length-1];j.url=y}function ae(){const y=this.resume(),j=this.stack[this.stack.length-1];j.title=y}function xe(){this.data.inReference=void 0}function x(){this.data.referenceType="collapsed"}function Y(y){const j=this.resume(),z=this.stack[this.stack.length-1];z.label=j,z.identifier=Ge(this.sliceSerialize(y)).toLowerCase(),this.data.referenceType="full"}function ue(y){this.data.characterReferenceType=y.type}function J(y){const j=this.sliceSerialize(y),z=this.data.characterReferenceType;let M;z?(M=wa(j,z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):M=gi(j);const G=this.stack[this.stack.length-1];G.value+=M}function ve(y){const j=this.stack.pop();j.position.end=rt(y.end)}function ke(y){w.call(this,y);const j=this.stack[this.stack.length-1];j.url=this.sliceSerialize(y)}function je(y){w.call(this,y);const j=this.stack[this.stack.length-1];j.url="mailto:"+this.sliceSerialize(y)}function Ce(){return{type:"blockquote",children:[]}}function Re(){return{type:"code",lang:null,meta:null,value:""}}function Ne(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function it(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:0,children:[]}}function et(){return{type:"break"}}function Oe(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function A(y){return{type:"list",ordered:y.type==="listOrdered",start:null,spread:y._spread,children:[]}}function $(y){return{type:"listItem",spread:y._spread,checked:null,children:[]}}function H(){return{type:"paragraph",children:[]}}function V(){return{type:"strong",children:[]}}function P(){return{type:"text",value:""}}function h(){return{type:"thematicBreak"}}}function rt(e){return{line:e.line,column:e.column,offset:e.offset}}function Ta(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Ta(e,i):xu(e,i)}}function xu(e,t){let n;for(n in t)if(Da.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function fr(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+_t({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+_t({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+_t({start:t.start,end:t.end})+") is still open")}function gu(e){const t=this;t.parser=n;function n(i){return fu(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function vu(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function yu(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function bu(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r=e.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},e.patch(t,r),r}function wu(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ku(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ju(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=Nt(i.toLowerCase()),l=e.footnoteOrder.indexOf(i);let a,o=e.footnoteCounts.get(i);o===void 0?(o=0,e.footnoteOrder.push(i),a=e.footnoteOrder.length):a=l+1,o+=1,e.footnoteCounts.set(i,o);const s={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,s);const c={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,c),e.applyData(t,c)}function Cu(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Su(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function za(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),l=r[0];l&&l.type==="text"?l.value="["+l.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=i:r.push({type:"text",value:i}),r}function Eu(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return za(e,t);const r={src:Nt(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const l={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,l),e.applyData(t,l)}function Iu(e,t){const n={src:Nt(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function Nu(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function Pu(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return za(e,t);const r={href:Nt(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const l={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Au(e,t){const n={href:Nt(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Du(e,t,n){const i=e.all(t),r=n?Tu(n):Ra(t),l={},a=[];if(typeof t.checked=="boolean"){const d=i[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const d=i[o];(r||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?a.push(...d.children):a.push(d)}const s=i[i.length-1];s&&(r||s.type!=="element"||s.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:l,children:a};return e.patch(t,c),e.applyData(t,c)}function Tu(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=Ra(n[i])}return t}function Ra(e){const t=e.spread;return t??e.children.length>1}function zu(e,t){const n={},i=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++r<i.length;){const a=i[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function Ru(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fu(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function _u(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mu(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],a),r.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=di(t.children[1]),s=ma(t.children[t.children.length-1]);o&&s&&(a.position={start:o,end:s}),r.push(a)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function Ou(e,t,n){const i=n?n.children:void 0,l=(i?i.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let s=-1;const c=[];for(;++s<o;){const p=t.children[s],f={},m=a?a[s]:void 0;m&&(f.align=m);let v={type:"element",tagName:l,properties:f,children:[]};p&&(v.children=e.all(p),e.patch(p,v),v=e.applyData(p,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Lu(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const hr=9,xr=32;function Bu(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const l=[];for(;i;)l.push(gr(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return l.push(gr(t.slice(r),r>0,!1)),l.join("")}function gr(e,t,n){let i=0,r=e.length;if(t){let l=e.codePointAt(i);for(;l===hr||l===xr;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(r-1);for(;l===hr||l===xr;)r--,l=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}function $u(e,t){const n={type:"text",value:Bu(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Uu(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const qu={blockquote:vu,break:yu,code:bu,delete:wu,emphasis:ku,footnoteReference:ju,heading:Cu,html:Su,imageReference:Eu,image:Iu,inlineCode:Nu,linkReference:Pu,link:Au,listItem:Du,list:zu,paragraph:Ru,root:Fu,strong:_u,table:Mu,tableCell:Lu,tableRow:Ou,text:$u,thematicBreak:Uu,toml:Yt,yaml:Yt,definition:Yt,footnoteDefinition:Yt};function Yt(){}const Fa=-1,xn=0,Ot=1,on=2,yi=3,bi=4,wi=5,ki=6,_a=7,Ma=8,vr=typeof self=="object"?self:globalThis,Hu=(e,t)=>{const n=(r,l)=>(e.set(l,r),r),i=r=>{if(e.has(r))return e.get(r);const[l,a]=t[r];switch(l){case xn:case Fa:return n(a,r);case Ot:{const o=n([],r);for(const s of a)o.push(i(s));return o}case on:{const o=n({},r);for(const[s,c]of a)o[i(s)]=i(c);return o}case yi:return n(new Date(a),r);case bi:{const{source:o,flags:s}=a;return n(new RegExp(o,s),r)}case wi:{const o=n(new Map,r);for(const[s,c]of a)o.set(i(s),i(c));return o}case ki:{const o=n(new Set,r);for(const s of a)o.add(i(s));return o}case _a:{const{name:o,message:s}=a;return n(new vr[o](s),r)}case Ma:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new vr[l](a),r)};return i},yr=e=>Hu(new Map,e)(0),yt="",{toString:Vu}={},{keys:Wu}=Object,Rt=e=>{const t=typeof e;if(t!=="object"||!e)return[xn,t];const n=Vu.call(e).slice(8,-1);switch(n){case"Array":return[Ot,yt];case"Object":return[on,yt];case"Date":return[yi,yt];case"RegExp":return[bi,yt];case"Map":return[wi,yt];case"Set":return[ki,yt];case"DataView":return[Ot,n]}return n.includes("Array")?[Ot,n]:n.includes("Error")?[_a,n]:[on,n]},Xt=([e,t])=>e===xn&&(t==="function"||t==="symbol"),Gu=(e,t,n,i)=>{const r=(a,o)=>{const s=i.push(a)-1;return n.set(o,s),s},l=a=>{if(n.has(a))return n.get(a);let[o,s]=Rt(a);switch(o){case xn:{let d=a;switch(s){case"bigint":o=Ma,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);d=null;break;case"undefined":return r([Fa],a)}return r([o,d],a)}case Ot:{if(s){let f=a;return s==="DataView"?f=new Uint8Array(a.buffer):s==="ArrayBuffer"&&(f=new Uint8Array(a)),r([s,[...f]],a)}const d=[],p=r([o,d],a);for(const f of a)d.push(l(f));return p}case on:{if(s)switch(s){case"BigInt":return r([s,a.toString()],a);case"Boolean":case"Number":case"String":return r([s,a.valueOf()],a)}if(t&&"toJSON"in a)return l(a.toJSON());const d=[],p=r([o,d],a);for(const f of Wu(a))(e||!Xt(Rt(a[f])))&&d.push([l(f),l(a[f])]);return p}case yi:return r([o,a.toISOString()],a);case bi:{const{source:d,flags:p}=a;return r([o,{source:d,flags:p}],a)}case wi:{const d=[],p=r([o,d],a);for(const[f,m]of a)(e||!(Xt(Rt(f))||Xt(Rt(m))))&&d.push([l(f),l(m)]);return p}case ki:{const d=[],p=r([o,d],a);for(const f of a)(e||!Xt(Rt(f)))&&d.push(l(f));return p}}const{message:c}=a;return r([o,{name:s,message:c}],a)};return l},br=(e,{json:t,lossy:n}={})=>{const i=[];return Gu(!(t||n),!!t,new Map,i)(e),i},sn=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?yr(br(e,t)):structuredClone(e):(e,t)=>yr(br(e,t));function Ku(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Yu(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Xu(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ku,i=e.options.footnoteBackLabel||Yu,r=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let s=-1;for(;++s<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[s]);if(!c)continue;const d=e.all(c),p=String(c.identifier).toUpperCase(),f=Nt(p.toLowerCase());let m=0;const v=[],k=e.footnoteCounts.get(p);for(;k!==void 0&&++m<=k;){v.length>0&&v.push({type:"text",value:" "});let E=typeof n=="string"?n:n(s,m);typeof E=="string"&&(E={type:"text",value:E}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(s,m),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const N=d[d.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const E=N.children[N.children.length-1];E&&E.type==="text"?E.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...v)}else d.push(...v);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(c,b),o.push(b)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...sn(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const gn=function(e){if(e==null)return ep;if(typeof e=="function")return vn(e);if(typeof e=="object")return Array.isArray(e)?Qu(e):Zu(e);if(typeof e=="string")return Ju(e);throw new Error("Expected function, string, or object as test")};function Qu(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gn(e[n]);return vn(i);function i(...r){let l=-1;for(;++l<t.length;)if(t[l].apply(this,r))return!0;return!1}}function Zu(e){const t=e;return vn(n);function n(i){const r=i;let l;for(l in e)if(r[l]!==t[l])return!1;return!0}}function Ju(e){return vn(t);function t(n){return n&&n.type===e}}function vn(e){return t;function t(n,i,r){return!!(tp(n)&&e.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function ep(){return!0}function tp(e){return e!==null&&typeof e=="object"&&"type"in e}const Oa=[],np=!0,Zn=!1,ip="skip";function La(e,t,n,i){let r;typeof t=="function"&&typeof n!="function"?(i=n,n=t):r=t;const l=gn(r),a=i?-1:1;o(e,void 0,[])();function o(s,c,d){const p=s&&typeof s=="object"?s:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(s.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=Oa,v,k,N;if((!t||l(s,c,d[d.length-1]||void 0))&&(m=rp(n(s,d)),m[0]===Zn))return m;if("children"in s&&s.children){const b=s;if(b.children&&m[0]!==ip)for(k=(i?b.children.length:-1)+a,N=d.concat(b);k>-1&&k<b.children.length;){const E=b.children[k];if(v=o(E,k,N)(),v[0]===Zn)return v;k=typeof v[1]=="number"?v[1]:k+a}}return m}}}function rp(e){return Array.isArray(e)?e:typeof e=="number"?[np,e]:e==null?Oa:[e]}function ji(e,t,n,i){let r,l,a;typeof t=="function"?(l=void 0,a=t,r=n):(l=t,a=n,r=i),La(e,l,o,r);function o(s,c){const d=c[c.length-1],p=d?d.children.indexOf(s):void 0;return a(s,p,d)}}const Jn={}.hasOwnProperty,ap={};function lp(e,t){const n=t||ap,i=new Map,r=new Map,l=new Map,a={...qu,...n.handlers},o={all:c,applyData:sp,definitionById:i,footnoteById:r,footnoteCounts:l,footnoteOrder:[],handlers:a,one:s,options:n,patch:op,wrap:up};return ji(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?i:r,f=String(d.identifier).toUpperCase();p.has(f)||p.set(f,d)}}),o;function s(d,p){const f=d.type,m=o.handlers[f];if(Jn.call(o.handlers,f)&&m)return m(o,d,p);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in d){const{children:k,...N}=d,b=sn(N);return b.children=o.all(d),b}return sn(d)}return(o.options.unknownHandler||cp)(o,d,p)}function c(d){const p=[];if("children"in d){const f=d.children;let m=-1;for(;++m<f.length;){const v=o.one(f[m],d);if(v){if(m&&f[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=wr(v.value)),!Array.isArray(v)&&v.type==="element")){const k=v.children[0];k&&k.type==="text"&&(k.value=wr(k.value))}Array.isArray(v)?p.push(...v):p.push(v)}}}return p}}function op(e,t){e.position&&(t.position=Yo(e))}function sp(e,t){let n=t;if(e&&e.data){const i=e.data.hName,r=e.data.hChildren,l=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const a="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:a}}n.type==="element"&&l&&Object.assign(n.properties,sn(l)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function cp(e,t){const n=t.data||{},i="value"in t&&!(Jn.call(n,"hProperties")||Jn.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function up(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function wr(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function kr(e,t){const n=lp(e,t),i=n.one(e,void 0),r=Xu(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&l.children.push({type:"text",value:`
`},r),l}function pp(e,t){return e&&"run"in e?async function(n,i){const r=kr(n,{file:i,...t});await e.run(r,i)}:function(n,i){return kr(n,{file:i,...e||t})}}function jr(e){if(e)throw e}var Nn,Cr;function dp(){if(Cr)return Nn;Cr=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},l=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!p)return!1;var f;for(f in c);return typeof f>"u"||e.call(c,f)},a=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},o=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(i)return i(c,d).value}else return;return c[d]};return Nn=function s(){var c,d,p,f,m,v,k=arguments[0],N=1,b=arguments.length,E=!1;for(typeof k=="boolean"&&(E=k,k=arguments[1]||{},N=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});N<b;++N)if(c=arguments[N],c!=null)for(d in c)p=o(k,d),f=o(c,d),k!==f&&(E&&f&&(l(f)||(m=r(f)))?(m?(m=!1,v=p&&r(p)?p:[]):v=p&&l(p)?p:{},a(k,{name:d,newValue:s(E,v,f)})):typeof f<"u"&&a(k,{name:d,newValue:f}));return k},Nn}var mp=dp();const Pn=mn(mp);function ei(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function fp(){const e=[],t={run:n,use:i};return t;function n(...r){let l=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...r);function o(s,...c){const d=e[++l];let p=-1;if(s){a(s);return}for(;++p<r.length;)(c[p]===null||c[p]===void 0)&&(c[p]=r[p]);r=c,d?hp(d,o)(...c):a(null,...c)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function hp(e,t){let n;return i;function i(...a){const o=e.length>a.length;let s;o&&a.push(r);try{s=e.apply(this,a)}catch(c){const d=c;if(o&&n)throw d;return r(d)}o||(s&&s.then&&typeof s.then=="function"?s.then(l,r):s instanceof Error?r(s):l(s))}function r(a,...o){n||(n=!0,t(a,...o))}function l(a){r(null,a)}}const Qe={basename:xp,dirname:gp,extname:vp,join:yp,sep:"/"};function xp(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Wt(e);let n=0,i=-1,r=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.codePointAt(r)===47){if(l){n=r+1;break}}else i<0&&(l=!0,i=r+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let a=-1,o=t.length-1;for(;r--;)if(e.codePointAt(r)===47){if(l){n=r+1;break}}else a<0&&(l=!0,a=r+1),o>-1&&(e.codePointAt(r)===t.codePointAt(o--)?o<0&&(i=r):(o=-1,i=a));return n===i?i=a:i<0&&(i=e.length),e.slice(n,i)}function gp(e){if(Wt(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function vp(e){Wt(e);let t=e.length,n=-1,i=0,r=-1,l=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){i=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?r<0?r=t:l!==1&&(l=1):r>-1&&(l=-1)}return r<0||n<0||l===0||l===1&&r===n-1&&r===i+1?"":e.slice(r,n)}function yp(...e){let t=-1,n;for(;++t<e.length;)Wt(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":bp(n)}function bp(e){Wt(e);const t=e.codePointAt(0)===47;let n=wp(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function wp(e,t){let n="",i=0,r=-1,l=0,a=-1,o,s;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(r===a-1||l===1))if(r!==a-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(s=n.lastIndexOf("/"),s!==n.length-1){s<0?(n="",i=0):(n=n.slice(0,s),i=n.length-1-n.lastIndexOf("/")),r=a,l=0;continue}}else if(n.length>0){n="",i=0,r=a,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(r+1,a):n=e.slice(r+1,a),i=a-r-1;r=a,l=0}else o===46&&l>-1?l++:l=-1}return n}function Wt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const kp={cwd:jp};function jp(){return"/"}function ti(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Cp(e){if(typeof e=="string")e=new URL(e);else if(!ti(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Sp(e)}function Sp(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const An=["history","path","basename","stem","extname","dirname"];class Ba{constructor(t){let n;t?ti(t)?n={path:t}:typeof t=="string"||Ep(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":kp.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<An.length;){const l=An[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let r;for(r in n)An.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Qe.basename(this.path):void 0}set basename(t){Tn(t,"basename"),Dn(t,"basename"),this.path=Qe.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qe.dirname(this.path):void 0}set dirname(t){Sr(this.basename,"dirname"),this.path=Qe.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qe.extname(this.path):void 0}set extname(t){if(Dn(t,"extname"),Sr(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qe.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ti(t)&&(t=Cp(t)),Tn(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qe.basename(this.path,this.extname):void 0}set stem(t){Tn(t,"stem"),Dn(t,"stem"),this.path=Qe.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const r=this.message(t,n,i);throw r.fatal=!0,r}info(t,n,i){const r=this.message(t,n,i);return r.fatal=void 0,r}message(t,n,i){const r=new Ie(t,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Dn(e,t){if(e&&e.includes(Qe.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qe.sep+"`")}function Tn(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Sr(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ep(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ip=function(e){const i=this.constructor.prototype,r=i[e],l=function(){return r.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},Np={}.hasOwnProperty;class Ci extends Ip{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fp()}copy(){const t=new Ci;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Pn(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fn("data",this.frozen),this.namespace[t]=n,this):Np.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fn("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Qt(t),i=this.parser||this.Parser;return zn("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),zn("process",this.parser||this.Parser),Rn("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(l,a){const o=Qt(t),s=i.parse(o);i.run(s,o,function(d,p,f){if(d||!p||!f)return c(d);const m=p,v=i.stringify(m,f);Dp(v)?f.value=v:f.result=v,c(d,f)});function c(d,p){d||!p?a(d):l?l(p):n(void 0,p)}}}processSync(t){let n=!1,i;return this.freeze(),zn("processSync",this.parser||this.Parser),Rn("processSync",this.compiler||this.Compiler),this.process(t,r),Ir("processSync","process",n),i;function r(l,a){n=!0,jr(l),i=a}}run(t,n,i){Er(t),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(a,o){const s=Qt(n);r.run(t,s,c);function c(d,p,f){const m=p||t;d?o(d):a?a(m):i(void 0,m,f)}}}runSync(t,n){let i=!1,r;return this.run(t,n,l),Ir("runSync","run",i),r;function l(a,o){jr(a),r=o,i=!0}}stringify(t,n){this.freeze();const i=Qt(n),r=this.compiler||this.Compiler;return Rn("stringify",r),Er(t),r(t,i)}use(t,...n){const i=this.attachers,r=this.namespace;if(Fn("use",this.frozen),t!=null)if(typeof t=="function")s(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(c){if(typeof c=="function")s(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...p]=c;s(d,p)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(r.settings=Pn(!0,r.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const p=c[d];l(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function s(c,d){let p=-1,f=-1;for(;++p<i.length;)if(i[p][0]===c){f=p;break}if(f===-1)i.push([c,...d]);else if(d.length>0){let[m,...v]=d;const k=i[f][1];ei(k)&&ei(m)&&(m=Pn(!0,k,m)),i[f]=[c,m,...v]}}}}const Pp=new Ci().freeze();function zn(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Rn(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fn(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Er(e){if(!ei(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Ir(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Qt(e){return Ap(e)?e:new Ba(e)}function Ap(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Dp(e){return typeof e=="string"||Tp(e)}function Tp(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zp="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Nr=[],Pr={allowDangerousHtml:!0},Rp=/^(https?|ircs?|mailto|xmpp)$/i,Fp=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $a(e){const t=_p(e),n=Mp(e);return Op(t.runSync(t.parse(n),n),e)}function _p(e){const t=e.rehypePlugins||Nr,n=e.remarkPlugins||Nr,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Pr}:Pr;return Pp().use(gu).use(n).use(pp,i).use(t)}function Mp(e){const t=e.children||"",n=new Ba;return typeof t=="string"&&(n.value=t),n}function Op(e,t){const n=t.allowedElements,i=t.allowElement,r=t.components,l=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,s=t.urlTransform||Lp;for(const d of Fp)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+zp+d.id,void 0);return ji(e,c),es(e,{Fragment:u.Fragment,components:r,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,p,f){if(d.type==="raw"&&f&&typeof p=="number")return a?f.children.splice(p,1):f.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let m;for(m in Sn)if(Object.hasOwn(Sn,m)&&Object.hasOwn(d.properties,m)){const v=d.properties[m],k=Sn[m];(k===null||k.includes(d.tagName))&&(d.properties[m]=s(String(v||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):l?l.includes(d.tagName):!1;if(!m&&i&&typeof p=="number"&&(m=!i(d,p,f)),m&&f&&typeof p=="number")return o&&d.children?f.children.splice(p,1,...d.children):f.children.splice(p,1),p}}}function Lp(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),r=e.indexOf("/");return t===-1||r!==-1&&t>r||n!==-1&&t>n||i!==-1&&t>i||Rp.test(e.slice(0,t))?e:""}function Ar(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;r!==-1;)i++,r=n.indexOf(t,r+t.length);return i}function Bp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function $p(e,t,n){const r=gn((n||{}).ignore||[]),l=Up(t);let a=-1;for(;++a<l.length;)La(e,"text",o);function o(c,d){let p=-1,f;for(;++p<d.length;){const m=d[p],v=f?f.children:void 0;if(r(m,v?v.indexOf(m):void 0,f))return;f=m}if(f)return s(c,d)}function s(c,d){const p=d[d.length-1],f=l[a][0],m=l[a][1];let v=0;const N=p.children.indexOf(c);let b=!1,E=[];f.lastIndex=0;let I=f.exec(c.value);for(;I;){const _=I.index,B={index:I.index,input:I.input,stack:[...d,c]};let C=m(...I,B);if(typeof C=="string"&&(C=C.length>0?{type:"text",value:C}:void 0),C===!1?f.lastIndex=_+1:(v!==_&&E.push({type:"text",value:c.value.slice(v,_)}),Array.isArray(C)?E.push(...C):C&&E.push(C),v=_+I[0].length,b=!0),!f.global)break;I=f.exec(c.value)}return b?(v<c.value.length&&E.push({type:"text",value:c.value.slice(v)}),p.children.splice(N,1,...E)):E=[c],N+E.length}}function Up(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const r=n[i];t.push([qp(r[0]),Hp(r[1])])}return t}function qp(e){return typeof e=="string"?new RegExp(Bp(e),"g"):e}function Hp(e){return typeof e=="function"?e:function(){return e}}const _n="phrasing",Mn=["autolink","link","image","label"];function Vp(){return{transforms:[Zp],enter:{literalAutolink:Gp,literalAutolinkEmail:On,literalAutolinkHttp:On,literalAutolinkWww:On},exit:{literalAutolink:Qp,literalAutolinkEmail:Xp,literalAutolinkHttp:Kp,literalAutolinkWww:Yp}}}function Wp(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_n,notInConstruct:Mn},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_n,notInConstruct:Mn},{character:":",before:"[ps]",after:"\\/",inConstruct:_n,notInConstruct:Mn}]}}function Gp(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function On(e){this.config.enter.autolinkProtocol.call(this,e)}function Kp(e){this.config.exit.autolinkProtocol.call(this,e)}function Yp(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Xp(e){this.config.exit.autolinkEmail.call(this,e)}function Qp(e){this.exit(e)}function Zp(e){$p(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Jp],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ed]],{ignore:["link","linkReference"]})}function Jp(e,t,n,i,r){let l="";if(!Ua(r)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!td(n)))return!1;const a=nd(n+i);if(!a[0])return!1;const o={type:"link",title:null,url:l+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function ed(e,t,n,i){return!Ua(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function td(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function nd(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const r=Ar(e,"(");let l=Ar(e,")");for(;i!==-1&&r>l;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),l++;return[e,n]}function Ua(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||ht(n)||fn(n))&&(!t||n!==47)}qa.peek=pd;function id(){this.buffer()}function rd(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function ad(){this.buffer()}function ld(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function od(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ge(this.sliceSerialize(e)).toLowerCase(),n.label=t}function sd(e){this.exit(e)}function cd(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ge(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ud(e){this.exit(e)}function pd(){return"["}function qa(e,t,n,i){const r=n.createTracker(i);let l=r.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return l+=r.move(n.safe(n.associationId(e),{after:"]",before:l})),o(),a(),l+=r.move("]"),l}function dd(){return{enter:{gfmFootnoteCallString:id,gfmFootnoteCall:rd,gfmFootnoteDefinitionLabelString:ad,gfmFootnoteDefinition:ld},exit:{gfmFootnoteCallString:od,gfmFootnoteCall:sd,gfmFootnoteDefinitionLabelString:cd,gfmFootnoteDefinition:ud}}}function md(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:qa},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,l,a){const o=l.createTracker(a);let s=o.move("[^");const c=l.enter("footnoteDefinition"),d=l.enter("label");return s+=o.move(l.safe(l.associationId(i),{before:s,after:"]"})),d(),s+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),s+=o.move((t?`
`:" ")+l.indentLines(l.containerFlow(i,o.current()),t?Ha:fd))),c(),s}}function fd(e,t,n){return t===0?e:Ha(e,t,n)}function Ha(e,t,n){return(n?"":"    ")+e}const hd=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Va.peek=bd;function xd(){return{canContainEols:["delete"],enter:{strikethrough:vd},exit:{strikethrough:yd}}}function gd(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:hd}],handlers:{delete:Va}}}function vd(e){this.enter({type:"delete",children:[]},e)}function yd(e){this.exit(e)}function Va(e,t,n,i){const r=n.createTracker(i),l=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(e,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),l(),a}function bd(){return"~"}function wd(e){return e.length}function kd(e,t){const n=t||{},i=(n.align||[]).concat(),r=n.stringLength||wd,l=[],a=[],o=[],s=[];let c=0,d=-1;for(;++d<e.length;){const k=[],N=[];let b=-1;for(e[d].length>c&&(c=e[d].length);++b<e[d].length;){const E=jd(e[d][b]);if(n.alignDelimiters!==!1){const I=r(E);N[b]=I,(s[b]===void 0||I>s[b])&&(s[b]=I)}k.push(E)}a[d]=k,o[d]=N}let p=-1;if(typeof i=="object"&&"length"in i)for(;++p<c;)l[p]=Dr(i[p]);else{const k=Dr(i);for(;++p<c;)l[p]=k}p=-1;const f=[],m=[];for(;++p<c;){const k=l[p];let N="",b="";k===99?(N=":",b=":"):k===108?N=":":k===114&&(b=":");let E=n.alignDelimiters===!1?1:Math.max(1,s[p]-N.length-b.length);const I=N+"-".repeat(E)+b;n.alignDelimiters!==!1&&(E=N.length+E+b.length,E>s[p]&&(s[p]=E),m[p]=E),f[p]=I}a.splice(1,0,f),o.splice(1,0,m),d=-1;const v=[];for(;++d<a.length;){const k=a[d],N=o[d];p=-1;const b=[];for(;++p<c;){const E=k[p]||"";let I="",_="";if(n.alignDelimiters!==!1){const B=s[p]-(N[p]||0),C=l[p];C===114?I=" ".repeat(B):C===99?B%2?(I=" ".repeat(B/2+.5),_=" ".repeat(B/2-.5)):(I=" ".repeat(B/2),_=I):_=" ".repeat(B)}n.delimiterStart!==!1&&!p&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||p)&&b.push(" "),n.alignDelimiters!==!1&&b.push(I),b.push(E),n.alignDelimiters!==!1&&b.push(_),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&b.push("|")}v.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return v.join(`
`)}function jd(e){return e==null?"":String(e)}function Dr(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Cd(e,t,n,i){const r=n.enter("blockquote"),l=n.createTracker(i);l.move("> "),l.shift(2);const a=n.indentLines(n.containerFlow(e,l.current()),Sd);return r(),a}function Sd(e,t,n){return">"+(n?"":" ")+e}function Ed(e,t){return Tr(e,t.inConstruct,!0)&&!Tr(e,t.notInConstruct,!1)}function Tr(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function zr(e,t,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&Ed(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function Id(e,t){const n=String(e);let i=n.indexOf(t),r=i,l=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++l>a&&(a=l):l=1,r=i+t.length,i=n.indexOf(t,r);return a}function Nd(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Pd(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ad(e,t,n,i){const r=Pd(n),l=e.value||"",a=r==="`"?"GraveAccent":"Tilde";if(Nd(e,n)){const p=n.enter("codeIndented"),f=n.indentLines(l,Dd);return p(),f}const o=n.createTracker(i),s=r.repeat(Math.max(Id(l,r)+1,3)),c=n.enter("codeFenced");let d=o.move(s);if(e.lang){const p=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),p()}return d+=o.move(`
`),l&&(d+=o.move(l+`
`)),d+=o.move(s),c(),d}function Dd(e,t,n){return(n?"":"    ")+e}function Si(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Td(e,t,n,i){const r=Si(n),l=r==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const s=n.createTracker(i);let c=s.move("[");return c+=s.move(n.safe(n.associationId(e),{before:c,after:"]",...s.current()})),c+=s.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(o=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...s.current()}))),o(),e.title&&(o=n.enter(`title${l}`),c+=s.move(" "+r),c+=s.move(n.safe(e.title,{before:c,after:r,...s.current()})),c+=s.move(r),o()),a(),c}function zd(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ut(e){return"&#x"+e.toString(16).toUpperCase()+";"}function cn(e,t,n){const i=St(e),r=St(t);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Wa.peek=Rd;function Wa(e,t,n,i){const r=zd(n),l=n.enter("emphasis"),a=n.createTracker(i),o=a.move(r);let s=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const c=s.charCodeAt(0),d=cn(i.before.charCodeAt(i.before.length-1),c,r);d.inside&&(s=Ut(c)+s.slice(1));const p=s.charCodeAt(s.length-1),f=cn(i.after.charCodeAt(0),p,r);f.inside&&(s=s.slice(0,-1)+Ut(p));const m=a.move(r);return l(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},o+s+m}function Rd(e,t,n){return n.options.emphasis||"*"}function Fd(e,t){let n=!1;return ji(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Zn}),!!((!e.depth||e.depth<3)&&xi(e)&&(t.options.setext||n))}function _d(e,t,n,i){const r=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(i);if(Fd(e,n)){const d=n.enter("headingSetext"),p=n.enter("phrasing"),f=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return p(),d(),f+`
`+(r===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(r),o=n.enter("headingAtx"),s=n.enter("phrasing");l.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(c)&&(c=Ut(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),s(),o(),c}Ga.peek=Md;function Ga(e){return e.value||""}function Md(){return"<"}Ka.peek=Od;function Ka(e,t,n,i){const r=Si(n),l=r==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const s=n.createTracker(i);let c=s.move("![");return c+=s.move(n.safe(e.alt,{before:c,after:"]",...s.current()})),c+=s.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(o=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),o(),e.title&&(o=n.enter(`title${l}`),c+=s.move(" "+r),c+=s.move(n.safe(e.title,{before:c,after:r,...s.current()})),c+=s.move(r),o()),c+=s.move(")"),a(),c}function Od(){return"!"}Ya.peek=Ld;function Ya(e,t,n,i){const r=e.referenceType,l=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(i);let s=o.move("![");const c=n.safe(e.alt,{before:s,after:"]",...o.current()});s+=o.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:s,after:"]",...o.current()});return a(),n.stack=d,l(),r==="full"||!c||c!==p?s+=o.move(p+"]"):r==="shortcut"?s=s.slice(0,-1):s+=o.move("]"),s}function Ld(){return"!"}Xa.peek=Bd;function Xa(e,t,n){let i=e.value||"",r="`",l=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++l<n.unsafe.length;){const a=n.unsafe[l],o=n.compilePattern(a);let s;if(a.atBreak)for(;s=o.exec(i);){let c=s.index;i.charCodeAt(c)===10&&i.charCodeAt(c-1)===13&&c--,i=i.slice(0,c)+" "+i.slice(s.index+1)}}return r+i+r}function Bd(){return"`"}function Qa(e,t){const n=xi(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Za.peek=$d;function Za(e,t,n,i){const r=Si(n),l=r==='"'?"Quote":"Apostrophe",a=n.createTracker(i);let o,s;if(Qa(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),o(),n.stack=d,p}o=n.enter("link"),s=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(s=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),c+=a.move(" "+r),c+=a.move(n.safe(e.title,{before:c,after:r,...a.current()})),c+=a.move(r),s()),c+=a.move(")"),o(),c}function $d(e,t,n){return Qa(e,n)?"<":"["}Ja.peek=Ud;function Ja(e,t,n,i){const r=e.referenceType,l=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(i);let s=o.move("[");const c=n.containerPhrasing(e,{before:s,after:"]",...o.current()});s+=o.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:s,after:"]",...o.current()});return a(),n.stack=d,l(),r==="full"||!c||c!==p?s+=o.move(p+"]"):r==="shortcut"?s=s.slice(0,-1):s+=o.move("]"),s}function Ud(){return"["}function Ei(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function qd(e){const t=Ei(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Hd(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function el(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Vd(e,t,n,i){const r=n.enter("list"),l=n.bulletCurrent;let a=e.ordered?Hd(n):Ei(n);const o=e.ordered?a==="."?")":".":qd(n);let s=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(s=!0),el(n)===a&&d){let p=-1;for(;++p<e.children.length;){const f=e.children[p];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){s=!0;break}}}}s&&(a=o),n.bulletCurrent=a;const c=n.containerFlow(e,i);return n.bulletLastUsed=a,n.bulletCurrent=l,r(),c}function Wd(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Gd(e,t,n,i){const r=Wd(n);let l=n.bulletCurrent||Ei(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let a=l.length+1;(r==="tab"||r==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(i);o.move(l+" ".repeat(a-l.length)),o.shift(a);const s=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return s(),c;function d(p,f,m){return f?(m?"":" ".repeat(a))+p:(m?l:l+" ".repeat(a-l.length))+p}}function Kd(e,t,n,i){const r=n.enter("paragraph"),l=n.enter("phrasing"),a=n.containerPhrasing(e,i);return l(),r(),a}const Yd=gn(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Xd(e,t,n,i){return(e.children.some(function(a){return Yd(a)})?n.containerPhrasing:n.containerFlow).call(n,e,i)}function Qd(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}tl.peek=Zd;function tl(e,t,n,i){const r=Qd(n),l=n.enter("strong"),a=n.createTracker(i),o=a.move(r+r);let s=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const c=s.charCodeAt(0),d=cn(i.before.charCodeAt(i.before.length-1),c,r);d.inside&&(s=Ut(c)+s.slice(1));const p=s.charCodeAt(s.length-1),f=cn(i.after.charCodeAt(0),p,r);f.inside&&(s=s.slice(0,-1)+Ut(p));const m=a.move(r+r);return l(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},o+s+m}function Zd(e,t,n){return n.options.strong||"*"}function Jd(e,t,n,i){return n.safe(e.value,i)}function em(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function tm(e,t,n){const i=(el(n)+(n.options.ruleSpaces?" ":"")).repeat(em(n));return n.options.ruleSpaces?i.slice(0,-1):i}const nl={blockquote:Cd,break:zr,code:Ad,definition:Td,emphasis:Wa,hardBreak:zr,heading:_d,html:Ga,image:Ka,imageReference:Ya,inlineCode:Xa,link:Za,linkReference:Ja,list:Vd,listItem:Gd,paragraph:Kd,root:Xd,strong:tl,text:Jd,thematicBreak:tm};function nm(){return{enter:{table:im,tableData:Rr,tableHeader:Rr,tableRow:am},exit:{codeText:lm,table:rm,tableData:Ln,tableHeader:Ln,tableRow:Ln}}}function im(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function rm(e){this.exit(e),this.data.inTable=void 0}function am(e){this.enter({type:"tableRow",children:[]},e)}function Ln(e){this.exit(e)}function Rr(e){this.enter({type:"tableCell",children:[]},e)}function lm(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,om));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function om(e,t){return t==="|"?t:e}function sm(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:s,tableRow:o}};function a(m,v,k,N){return c(d(m,k,N),m.align)}function o(m,v,k,N){const b=p(m,k,N),E=c([b]);return E.slice(0,E.indexOf(`
`))}function s(m,v,k,N){const b=k.enter("tableCell"),E=k.enter("phrasing"),I=k.containerPhrasing(m,{...N,before:l,after:l});return E(),b(),I}function c(m,v){return kd(m,{align:v,alignDelimiters:i,padding:n,stringLength:r})}function d(m,v,k){const N=m.children;let b=-1;const E=[],I=v.enter("table");for(;++b<N.length;)E[b]=p(N[b],v,k);return I(),E}function p(m,v,k){const N=m.children;let b=-1;const E=[],I=v.enter("tableRow");for(;++b<N.length;)E[b]=s(N[b],m,v,k);return I(),E}function f(m,v,k){let N=nl.inlineCode(m,v,k);return k.stack.includes("tableCell")&&(N=N.replace(/\|/g,"\\$&")),N}}function cm(){return{exit:{taskListCheckValueChecked:Fr,taskListCheckValueUnchecked:Fr,paragraph:pm}}}function um(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:dm}}}function Fr(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function pm(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=t.children;let l=-1,a;for(;++l<r.length;){const o=r[l];if(o.type==="paragraph"){a=o;break}}a===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function dm(e,t,n,i){const r=e.children[0],l=typeof e.checked=="boolean"&&r&&r.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(i);l&&o.move(a);let s=nl.listItem(e,t,n,{...i,...o.current()});return l&&(s=s.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),s;function c(d){return d+a}}function mm(){return[Vp(),dd(),xd(),nm(),cm()]}function fm(e){return{extensions:[Wp(),md(e),gd(),sm(e),um()]}}const hm={tokenize:wm,partial:!0},il={tokenize:km,partial:!0},rl={tokenize:jm,partial:!0},al={tokenize:Cm,partial:!0},xm={tokenize:Sm,partial:!0},ll={name:"wwwAutolink",tokenize:ym,previous:sl},ol={name:"protocolAutolink",tokenize:bm,previous:cl},tt={name:"emailAutolink",tokenize:vm,previous:ul},Je={};function gm(){return{text:Je}}let ct=48;for(;ct<123;)Je[ct]=tt,ct++,ct===58?ct=65:ct===91&&(ct=97);Je[43]=tt;Je[45]=tt;Je[46]=tt;Je[95]=tt;Je[72]=[tt,ol];Je[104]=[tt,ol];Je[87]=[tt,ll];Je[119]=[tt,ll];function vm(e,t,n){const i=this;let r,l;return a;function a(p){return!ni(p)||!ul.call(i,i.previous)||Ii(i.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(p))}function o(p){return ni(p)?(e.consume(p),o):p===64?(e.consume(p),s):n(p)}function s(p){return p===46?e.check(xm,d,c)(p):p===45||p===95||Ee(p)?(l=!0,e.consume(p),s):d(p)}function c(p){return e.consume(p),r=!0,s}function d(p){return l&&r&&Te(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function ym(e,t,n){const i=this;return r;function r(a){return a!==87&&a!==119||!sl.call(i,i.previous)||Ii(i.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(hm,e.attempt(il,e.attempt(rl,l),n),n)(a))}function l(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function bm(e,t,n){const i=this;let r="",l=!1;return a;function a(p){return(p===72||p===104)&&cl.call(i,i.previous)&&!Ii(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(p),e.consume(p),o):n(p)}function o(p){if(Te(p)&&r.length<5)return r+=String.fromCodePoint(p),e.consume(p),o;if(p===58){const f=r.toLowerCase();if(f==="http"||f==="https")return e.consume(p),s}return n(p)}function s(p){return p===47?(e.consume(p),l?c:(l=!0,s)):n(p)}function c(p){return p===null||ln(p)||de(p)||ht(p)||fn(p)?n(p):e.attempt(il,e.attempt(rl,d),n)(p)}function d(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function wm(e,t,n){let i=0;return r;function r(a){return(a===87||a===119)&&i<3?(i++,e.consume(a),r):a===46&&i===3?(e.consume(a),l):n(a)}function l(a){return a===null?n(a):t(a)}}function km(e,t,n){let i,r,l;return a;function a(c){return c===46||c===95?e.check(al,s,o)(c):c===null||de(c)||ht(c)||c!==45&&fn(c)?s(c):(l=!0,e.consume(c),a)}function o(c){return c===95?i=!0:(r=i,i=void 0),e.consume(c),a}function s(c){return r||i||!l?n(c):t(c)}}function jm(e,t){let n=0,i=0;return r;function r(a){return a===40?(n++,e.consume(a),r):a===41&&i<n?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(al,t,l)(a):a===null||de(a)||ht(a)?t(a):(e.consume(a),r)}function l(a){return a===41&&i++,e.consume(a),r}}function Cm(e,t,n){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),i):o===38?(e.consume(o),l):o===93?(e.consume(o),r):o===60||o===null||de(o)||ht(o)?t(o):n(o)}function r(o){return o===null||o===40||o===91||de(o)||ht(o)?t(o):i(o)}function l(o){return Te(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),i):Te(o)?(e.consume(o),a):n(o)}}function Sm(e,t,n){return i;function i(l){return e.consume(l),r}function r(l){return Ee(l)?n(l):t(l)}}function sl(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||de(e)}function cl(e){return!Te(e)}function ul(e){return!(e===47||ni(e))}function ni(e){return e===43||e===45||e===46||e===95||Ee(e)}function Ii(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Em={tokenize:Rm,partial:!0};function Im(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Dm,continuation:{tokenize:Tm},exit:zm}},text:{91:{name:"gfmFootnoteCall",tokenize:Am},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Nm,resolveTo:Pm}}}}function Nm(e,t,n){const i=this;let r=i.events.length;const l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const s=i.events[r][1];if(s.type==="labelImage"){a=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return o;function o(s){if(!a||!a._balanced)return n(s);const c=Ge(i.sliceSerialize({start:a.end,end:i.now()}));return c.codePointAt(0)!==94||!l.includes(c.slice(1))?n(s):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),t(s))}}function Pm(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},o=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",l,t],["enter",a,t],["exit",a,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...o),e}function Am(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l=0,a;return o;function o(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),s}function s(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(l>999||p===93&&!a||p===null||p===91||de(p))return n(p);if(p===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return r.includes(Ge(i.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return de(p)||(a=!0),l++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),l++,c):c(p)}}function Dm(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,a=0,o;return s;function s(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(v)}function d(v){if(a>999||v===93&&!o||v===null||v===91||de(v))return n(v);if(v===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return l=Ge(i.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return de(v)||(o=!0),a++,e.consume(v),v===92?p:d}function p(v){return v===91||v===92||v===93?(e.consume(v),a++,d):d(v)}function f(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),r.includes(l)||r.push(l),re(e,m,"gfmFootnoteDefinitionWhitespace")):n(v)}function m(v){return t(v)}}function Tm(e,t,n){return e.check(Vt,t,e.attempt(Em,t,n))}function zm(e){e.exit("gfmFootnoteDefinition")}function Rm(e,t,n){const i=this;return re(e,r,"gfmFootnoteDefinitionIndent",5);function r(l){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(l):n(l)}}function Fm(e){let n=(e||{}).singleTilde;const i={name:"strikethrough",tokenize:l,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(a,o){let s=-1;for(;++s<a.length;)if(a[s][0]==="enter"&&a[s][1].type==="strikethroughSequenceTemporary"&&a[s][1]._close){let c=s;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[s][1].end.offset-a[s][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[s][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[s][1].end)},p={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[s][1].start)},f=[["enter",d,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",p,o]],m=o.parser.constructs.insideSpan.null;m&&Ue(f,f.length,0,hn(m,a.slice(c+1,s),o)),Ue(f,f.length,0,[["exit",p,o],["enter",a[s][1],o],["exit",a[s][1],o],["exit",d,o]]),Ue(a,c-1,s-c+3,f),s=c+f.length-2;break}}for(s=-1;++s<a.length;)a[s][1].type==="strikethroughSequenceTemporary"&&(a[s][1].type="data");return a}function l(a,o,s){const c=this.previous,d=this.events;let p=0;return f;function f(v){return c===126&&d[d.length-1][1].type!=="characterEscape"?s(v):(a.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const k=St(c);if(v===126)return p>1?s(v):(a.consume(v),p++,m);if(p<2&&!n)return s(v);const N=a.exit("strikethroughSequenceTemporary"),b=St(v);return N._open=!b||b===2&&!!k,N._close=!k||k===2&&!!b,o(v)}}}class _m{constructor(){this.map=[]}add(t,n,i){Mm(this,t,n,i)}consume(t){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];i.push(t.slice()),t.length=0;let r=i.pop();for(;r;){for(const l of r)t.push(l);r=i.pop()}this.map.length=0}}function Mm(e,t,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<e.map.length;){if(e.map[r][0]===t){e.map[r][1]+=n,e.map[r][2].push(...i);return}r+=1}e.map.push([t,n,i])}}function Om(e,t){let n=!1;const i=[];for(;t<e.length;){const r=e[t];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=i.length-1;i[l]=i[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return i}function Lm(){return{flow:{null:{name:"table",tokenize:Bm,resolveAll:$m}}}}function Bm(e,t,n){const i=this;let r=0,l=0,a;return o;function o(w){let F=i.events.length-1;for(;F>-1;){const T=i.events[F][1].type;if(T==="lineEnding"||T==="linePrefix")F--;else break}const R=F>-1?i.events[F][1].type:null,O=R==="tableHead"||R==="tableRow"?C:s;return O===C&&i.parser.lazy[i.now().line]?n(w):O(w)}function s(w){return e.enter("tableHead"),e.enter("tableRow"),c(w)}function c(w){return w===124||(a=!0,l+=1),d(w)}function d(w){return w===null?n(w):W(w)?l>1?(l=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),m):n(w):ee(w)?re(e,d,"whitespace")(w):(l+=1,a&&(a=!1,r+=1),w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),p(w)))}function p(w){return w===null||w===124||de(w)?(e.exit("data"),d(w)):(e.consume(w),w===92?f:p)}function f(w){return w===92||w===124?(e.consume(w),p):p(w)}function m(w){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(w):(e.enter("tableDelimiterRow"),a=!1,ee(w)?re(e,v,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):v(w))}function v(w){return w===45||w===58?N(w):w===124?(a=!0,e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),k):B(w)}function k(w){return ee(w)?re(e,N,"whitespace")(w):N(w)}function N(w){return w===58?(l+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),b):w===45?(l+=1,b(w)):w===null||W(w)?_(w):B(w)}function b(w){return w===45?(e.enter("tableDelimiterFiller"),E(w)):B(w)}function E(w){return w===45?(e.consume(w),E):w===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),I):(e.exit("tableDelimiterFiller"),I(w))}function I(w){return ee(w)?re(e,_,"whitespace")(w):_(w)}function _(w){return w===124?v(w):w===null||W(w)?!a||r!==l?B(w):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(w)):B(w)}function B(w){return n(w)}function C(w){return e.enter("tableRow"),U(w)}function U(w){return w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),U):w===null||W(w)?(e.exit("tableRow"),t(w)):ee(w)?re(e,U,"whitespace")(w):(e.enter("data"),X(w))}function X(w){return w===null||w===124||de(w)?(e.exit("data"),U(w)):(e.consume(w),w===92?K:X)}function K(w){return w===92||w===124?(e.consume(w),X):X(w)}}function $m(e,t){let n=-1,i=!0,r=0,l=[0,0,0,0],a=[0,0,0,0],o=!1,s=0,c,d,p;const f=new _m;for(;++n<e.length;){const m=e[n],v=m[1];m[0]==="enter"?v.type==="tableHead"?(o=!1,s!==0&&(_r(f,t,s,c,d),d=void 0,s=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},f.add(n,0,[["enter",c,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(i=!0,p=void 0,l=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},f.add(n,0,[["enter",d,t]])),r=v.type==="tableDelimiterRow"?2:d?3:1):r&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],p=Zt(f,t,l,r,void 0,p),l=[0,0,0,0]),a[2]=n)):v.type==="tableCellDivider"&&(i?i=!1:(l[1]!==0&&(a[0]=a[1],p=Zt(f,t,l,r,void 0,p)),l=a,a=[l[1],n,0,0])):v.type==="tableHead"?(o=!0,s=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(s=n,l[1]!==0?(a[0]=a[1],p=Zt(f,t,l,r,n,p)):a[1]!==0&&(p=Zt(f,t,a,r,n,p)),r=0):r&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=n)}for(s!==0&&_r(f,t,s,c,d),f.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Om(t.events,n))}return e}function Zt(e,t,n,i,r,l){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(l.end=Object.assign({},bt(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const s=bt(t.events,n[1]);if(l={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const c=bt(t.events,n[2]),d=bt(t.events,n[3]),p={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",p,t]]),i!==2){const f=t.events[n[2]],m=t.events[n[3]];if(f[1].end=Object.assign({},m[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,k=n[3]-n[2]-1;e.add(v,k,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return r!==void 0&&(l.end=Object.assign({},bt(t.events,r)),e.add(r,0,[["exit",l,t]]),l=void 0),l}function _r(e,t,n,i,r){const l=[],a=bt(t.events,n);r&&(r.end=Object.assign({},a),l.push(["exit",r,t])),i.end=Object.assign({},a),l.push(["exit",i,t]),e.add(n+1,0,l)}function bt(e,t){const n=e[t],i=n[0]==="enter"?"start":"end";return n[1][i]}const Um={name:"tasklistCheck",tokenize:Hm};function qm(){return{text:{91:Um}}}function Hm(e,t,n){const i=this;return r;function r(s){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(s):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),l)}function l(s){return de(s)?(e.enter("taskListCheckValueUnchecked"),e.consume(s),e.exit("taskListCheckValueUnchecked"),a):s===88||s===120?(e.enter("taskListCheckValueChecked"),e.consume(s),e.exit("taskListCheckValueChecked"),a):n(s)}function a(s){return s===93?(e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(s)}function o(s){return W(s)?t(s):ee(s)?e.check({tokenize:Vm},t,n)(s):n(s)}}function Vm(e,t,n){return re(e,i,"whitespace");function i(r){return r===null?n(r):t(r)}}function Wm(e){return ba([gm(),Im(),Fm(e),Lm(),qm()])}const Gm={};function pl(e){const t=this,n=e||Gm,i=t.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),l=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(Wm(n)),l.push(mm()),a.push(fm(n))}var Ni="ContextMenu",[Km,Gh]=zl(Ni,[ia]),ze=ia(),[Ym,dl]=Km(Ni),ml=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:i,dir:r,modal:l=!0}=e,[a,o]=S.useState(!1),s=ze(t),c=Tl(i),d=S.useCallback(p=>{o(p),c(p)},[c]);return u.jsx(Ym,{scope:t,open:a,onOpenChange:d,modal:l,children:u.jsx(Rl,{...s,dir:r,open:a,onOpenChange:d,modal:l,children:n})})};ml.displayName=Ni;var fl="ContextMenuTrigger",hl=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:i=!1,...r}=e,l=dl(fl,n),a=ze(n),o=S.useRef({x:0,y:0}),s=S.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...o.current})}),c=S.useRef(0),d=S.useCallback(()=>window.clearTimeout(c.current),[]),p=f=>{o.current={x:f.clientX,y:f.clientY},l.onOpenChange(!0)};return S.useEffect(()=>d,[d]),S.useEffect(()=>void(i&&d()),[i,d]),u.jsxs(u.Fragment,{children:[u.jsx(Fl,{...a,virtualRef:s}),u.jsx(_l.span,{"data-state":l.open?"open":"closed","data-disabled":i?"":void 0,...r,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:i?e.onContextMenu:Pt(e.onContextMenu,f=>{d(),p(f),f.preventDefault()}),onPointerDown:i?e.onPointerDown:Pt(e.onPointerDown,Jt(f=>{d(),c.current=window.setTimeout(()=>p(f),700)})),onPointerMove:i?e.onPointerMove:Pt(e.onPointerMove,Jt(d)),onPointerCancel:i?e.onPointerCancel:Pt(e.onPointerCancel,Jt(d)),onPointerUp:i?e.onPointerUp:Pt(e.onPointerUp,Jt(d))})]})});hl.displayName=fl;var Xm="ContextMenuPortal",xl=e=>{const{__scopeContextMenu:t,...n}=e,i=ze(t);return u.jsx(Ml,{...i,...n})};xl.displayName=Xm;var gl="ContextMenuContent",vl=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=dl(gl,n),l=ze(n),a=S.useRef(!1);return u.jsx(Ol,{...l,...i,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:o=>{var s;(s=e.onCloseAutoFocus)==null||s.call(e,o),!o.defaultPrevented&&a.current&&o.preventDefault(),a.current=!1},onInteractOutside:o=>{var s;(s=e.onInteractOutside)==null||s.call(e,o),!o.defaultPrevented&&!r.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vl.displayName=gl;var Qm="ContextMenuGroup",Zm=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Bl,{...r,...i,ref:t})});Zm.displayName=Qm;var Jm="ContextMenuLabel",ef=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx($l,{...r,...i,ref:t})});ef.displayName=Jm;var tf="ContextMenuItem",yl=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Ll,{...r,...i,ref:t})});yl.displayName=tf;var nf="ContextMenuCheckboxItem",rf=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Ul,{...r,...i,ref:t})});rf.displayName=nf;var af="ContextMenuRadioGroup",lf=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(ql,{...r,...i,ref:t})});lf.displayName=af;var of="ContextMenuRadioItem",sf=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Hl,{...r,...i,ref:t})});sf.displayName=of;var cf="ContextMenuItemIndicator",uf=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Vl,{...r,...i,ref:t})});uf.displayName=cf;var pf="ContextMenuSeparator",df=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Wl,{...r,...i,ref:t})});df.displayName=pf;var mf="ContextMenuArrow",ff=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Gl,{...r,...i,ref:t})});ff.displayName=mf;var hf="ContextMenuSubTrigger",xf=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Kl,{...r,...i,ref:t})});xf.displayName=hf;var gf="ContextMenuSubContent",vf=S.forwardRef((e,t)=>{const{__scopeContextMenu:n,...i}=e,r=ze(n);return u.jsx(Yl,{...r,...i,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vf.displayName=gf;function Jt(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var yf=ml,bf=hl,wf=xl,kf=vl,jf=yl;function Cf({...e}){return u.jsx(yf,{"data-slot":"context-menu",...e})}function Sf({...e}){return u.jsx(bf,{"data-slot":"context-menu-trigger",...e})}function Ef({className:e,...t}){return u.jsx(wf,{children:u.jsx(kf,{"data-slot":"context-menu-content",className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),...t})})}function Mr({className:e,inset:t,variant:n="default",...i}){return u.jsx(jf,{"data-slot":"context-menu-item","data-inset":t,"data-variant":n,className:De("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}const Or=Lt.memo(({content:e})=>/[*_~`#>|\[\]()]/.test(e)?u.jsx($a,{remarkPlugins:[pl],children:e}):u.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e})),If=({messages:e,onSendMessage:t,onEditMessage:n,apiKey:i,selectedModel:r,onModelChange:l,isProcessing:a,handleFileUpload:o})=>{const[s,c]=S.useState(""),[d,p]=S.useState(!1),[f,m]=S.useState(""),[v,k]=S.useState(r);S.useEffect(()=>{d&&(m(s),k(r))},[d,r]);const N=()=>{c(f),l(v),p(!1)},[b,E]=S.useState([]),[I,_]=S.useState([]),[B,C]=S.useState(null),[U,X]=S.useState(null),[K,w]=S.useState(null),[F,R]=S.useState(1),[O,T]=S.useState(!1),[L,oe]=S.useState({x:0,y:0}),[ce,me]=S.useState({x:0,y:0}),le=S.useRef(null),g=S.useRef(null),ae=S.useRef(null),xe=S.useRef(null),x=S.useRef(null),Y=S.useRef(null),ue=h=>{const j=Array.from(h.target.files||[]).filter(M=>M.type.startsWith("image/"));if(j.length===0)return;const z=j.map(M=>URL.createObjectURL(M));E(M=>[...M,...j]),_(M=>[...M,...z])},J=h=>{E(y=>y.filter((j,z)=>z!==h)),URL.revokeObjectURL(I[h]),_(y=>y.filter((j,z)=>z!==h))},ve=h=>{C(h)},ke=(h,y)=>{h.preventDefault(),h.dataTransfer.dropEffect="move",X(y)},je=()=>{C(null),X(null)},Ce=(h,y)=>{if(h.preventDefault(),B===null||B===y){C(null),X(null);return}const j=[...b],z=[...I],M=j[B],G=z[B];j.splice(B,1),z.splice(B,1),j.splice(y,0,M),z.splice(y,0,G),E(j),_(z),C(null),X(null)},Re=()=>{E([]),I.forEach(h=>URL.revokeObjectURL(h)),_([]),ae.current&&(ae.current.value="")},Ne=async()=>{const h=s.trim();!h&&b.length===0||!i||(b.length>0?t(h,[...b]):t(h),c(""),E([]),_([]),ae.current&&(ae.current.value=""))},nt=h=>{(h.key==="Enter"&&!h.shiftKey||h.key==="Enter"&&h.ctrlKey)&&(h.preventDefault(),Ne())},it=h=>{const y=h.clipboardData.items,j=Array.from(y).filter(z=>z.type.startsWith("image/"));if(j.length>0){const z=j.map(G=>G.getAsFile()),M=z.map(G=>URL.createObjectURL(G));E(G=>[...G,...z]),_(G=>[...G,...M])}};S.useEffect(()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[s]);const Ke=h=>{var z;const y=typeof h.content=="string"?h.content:((z=h.content)==null?void 0:z.content)||"";if(y.trim()==="")return;const j=e.findIndex(M=>M.id===h.id);if(j!==-1){const M=[...e];M[j].isEditing=!1,n(h.id,y)}},et=()=>{var h,y;if((y=(h=ae.current)==null?void 0:h.files)!=null&&y.length){const j=Array.from(ae.current.files);o(j),ae.current&&(ae.current.value="")}};S.useEffect(()=>()=>{I.forEach(h=>URL.revokeObjectURL(h))},[]);const Oe=()=>{w(null),R(1),me({x:0,y:0})},Ye=()=>R(h=>Math.min(h+.5,5)),He=()=>R(h=>Math.max(h-.5,.5)),A=()=>R(1),$=h=>{F<=1||(T(!0),oe({x:h.clientX,y:h.clientY}))},H=h=>{if(!O||F<=1)return;const y=h.clientX-L.x,j=h.clientY-L.y;me(z=>({x:z.x+y,y:z.y+j})),oe({x:h.clientX,y:h.clientY})},V=()=>{T(!1)};S.useEffect(()=>{F<=1&&me({x:0,y:0})},[F]),S.useEffect(()=>{P()},[e]),S.useEffect(()=>{P()},[e]);const P=()=>{Y.current&&requestAnimationFrame(()=>{Y.current&&(Y.current.scrollTop=Y.current.scrollHeight)})};return u.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-background rounded-md border relative transition-transform duration-200",style:{},children:[u.jsx(rn,{className:"min-h-[70vh] p-4 pb-[140px]",ref:Y,children:u.jsxs("div",{className:"space-y-4",children:[e.map((h,y)=>{var j,z,M,G,fe,Fe,Se,Le;return u.jsx("div",{className:De("flex animate-in fade-in-0 slide-in-from-bottom-4 duration-300 ease-in-out",h.role==="user"?"justify-end":"justify-start"),style:{animationDelay:`${y*50}ms`},children:u.jsx("div",{className:De("flex flex-col",h.role==="user"?"items-end ml-auto":"items-start mr-auto","max-w-[85%] w-auto"),children:h.role==="user"&&!h.isProcessing&&!h.isEditing?u.jsxs(Cf,{children:[u.jsx(Sf,{asChild:!0,children:u.jsxs("div",{children:[u.jsx(Ft,{className:De("p-3 shadow-sm group hover:shadow-md transition-shadow duration-200",h.role==="user"?"bg-muted/5":"bg-muted"),style:{wordBreak:"break-word",width:"100%"},children:h.isEditing?u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(Kt,{value:typeof h.content=="string"?h.content:((j=h.content)==null?void 0:j.content)||"",onChange:Q=>{const q=[...e],te=q.findIndex(ne=>ne.id===h.id);te!==-1&&(q[te].content=Q.target.value,n(h.id,Q.target.value))},className:"min-h-[60px] bg-background/50",autoFocus:!0}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>{var te,ne;const Q=[...e],q=Q.findIndex(se=>se.id===h.id);if(q!==-1){h.originalContent&&(Q[q].content=h.originalContent),Q[q].isEditing=!1;const se=typeof h.originalContent=="string"?h.originalContent:((te=h.originalContent)==null?void 0:te.content)||"",Be=typeof h.content=="string"?h.content:((ne=h.content)==null?void 0:ne.content)||"";n(h.id,se||Be)}},children:"Cancel"}),u.jsxs(ie,{size:"sm",onClick:()=>Ke(h),children:[u.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"prose prose-sm max-w-none break-words dark:prose-invert",children:u.jsx(Or,{content:typeof h.content=="string"?h.content:((z=h.content)==null?void 0:z.content)||""})}),(h.imageDataUrls&&h.imageDataUrls.length>0?h.imageDataUrls:typeof h.content=="object"&&((M=h.content)==null?void 0:M.imageBase64s))&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 max-w-full overflow-hidden",children:(h.imageDataUrls&&h.imageDataUrls.length>0?h.imageDataUrls:typeof h.content=="object"&&((G=h.content)==null?void 0:G.imageBase64s)||[]).map((Q,q)=>u.jsxs("div",{className:"relative animate-in zoom-in-95 duration-200 max-w-[calc(100%-8px)]",style:{animationDelay:`${q*100}ms`},children:[u.jsx("img",{src:Q,alt:`Uploaded ${q}`,className:"max-w-full max-h-[150px] rounded-md object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>w(Q),style:{objectFit:"cover",aspectRatio:"4/3"}}),u.jsx("div",{className:"absolute top-1 right-1 bg-black/50 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(kn,{className:"h-3 w-3 text-white"})})]},q))}),h.isProcessing&&u.jsxs("div",{className:"flex items-center mt-2 text-sm animate-in fade-in-0 duration-200",children:[u.jsx(bn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}),h.hasError&&u.jsx("div",{className:"text-destructive mt-2 text-sm animate-in fade-in-0 duration-200",children:"Error processing message"})]})}),u.jsxs("div",{className:"flex gap-2 mt-2 opacity-100 transition-opacity duration-200 justify-end",children:[u.jsx(ie,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0","aria-label":"Edit",onClick:async()=>{var te,ne;const Q=typeof h.content=="string"?h.content:((te=h.content)==null?void 0:te.content)||"";c(Q),I.forEach(se=>URL.revokeObjectURL(se)),E([]),_([]);const q=h.imageDataUrls&&h.imageDataUrls.length>0?h.imageDataUrls:typeof h.content=="object"&&((ne=h.content)==null?void 0:ne.imageBase64s);if(q&&q.length>0)try{const se=await Promise.all(q.map(async(Pe,lt)=>{const Ve=Pe.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),We=Ve?Ve[1]:"image/png",ot=await(await fetch(Pe)).blob(),st=We.split("/")[1]||"png";return new File([ot],`edit-image-${lt}.${st}`,{type:We})})),Be=se.map(Pe=>URL.createObjectURL(Pe));E(se),_(Be)}catch(se){console.error("Failed to load images for editing:",se)}},children:u.jsx(qi,{className:"h-4 w-4"})}),u.jsx(ie,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0","aria-label":"Retry",onClick:async()=>{var ne,se;const Q=h,q=h.imageDataUrls&&h.imageDataUrls.length>0?h.imageDataUrls:Q.imageBase64s||typeof h.content=="object"&&((ne=h.content)==null?void 0:ne.imageBase64s),te=typeof h.content=="string"?h.content:((se=h.content)==null?void 0:se.content)||"";if(Q.originalFiles&&Q.originalFiles.length>0)t(te,Q.originalFiles);else if(q&&q.length>0)try{const Be=await Promise.all(q.map(async(Pe,lt)=>{const Ve=Pe.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),We=Ve?Ve[1]:"image/png",ot=await(await fetch(Pe)).blob(),st=We.split("/")[1]||"png";return new File([ot],`retried-image-${lt}.${st}`,{type:We})}));t(te,Be)}catch{alert("Unable to retry image prompt: could not reconstruct image files from base64.")}else t(te)},children:u.jsx(Ct,{className:"h-4 w-4"})})]})]})}),u.jsxs(Ef,{children:[u.jsxs(Mr,{onClick:async()=>{var te,ne;const Q=typeof h.content=="string"?h.content:((te=h.content)==null?void 0:te.content)||"";c(Q),I.forEach(se=>URL.revokeObjectURL(se)),E([]),_([]);const q=h.imageDataUrls&&h.imageDataUrls.length>0?h.imageDataUrls:typeof h.content=="object"&&((ne=h.content)==null?void 0:ne.imageBase64s);if(q&&q.length>0)try{const se=await Promise.all(q.map(async(Pe,lt)=>{const Ve=Pe.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),We=Ve?Ve[1]:"image/png",ot=await(await fetch(Pe)).blob(),st=We.split("/")[1]||"png";return new File([ot],`edit-image-${lt}.${st}`,{type:We})})),Be=se.map(Pe=>URL.createObjectURL(Pe));E(se),_(Be)}catch(se){console.error("Failed to load images for editing:",se)}},children:[u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Edit"]}),u.jsxs(Mr,{onClick:async()=>{var ne,se;const Q=h,q=h.imageDataUrls&&h.imageDataUrls.length>0?h.imageDataUrls:Q.imageBase64s||typeof h.content=="object"&&((ne=h.content)==null?void 0:ne.imageBase64s),te=typeof h.content=="string"?h.content:((se=h.content)==null?void 0:se.content)||"";if(Q.originalFiles&&Q.originalFiles.length>0)t(te,Q.originalFiles);else if(q&&q.length>0)try{const Be=await Promise.all(q.map(async(Pe,lt)=>{const Ve=Pe.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/),We=Ve?Ve[1]:"image/png",ot=await(await fetch(Pe)).blob(),st=We.split("/")[1]||"png";return new File([ot],`retried-image-${lt}.${st}`,{type:We})}));t(te,Be)}catch{alert("Unable to retry image prompt: could not reconstruct image files from base64.")}else t(te)},children:[u.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]}):u.jsx(Ft,{className:De("p-3 shadow-sm group hover:shadow-md transition-shadow duration-200",h.role==="user"?"bg-muted/5":"bg-muted"),style:{wordBreak:"break-word",width:"100%"},children:h.isEditing?u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(Kt,{value:typeof h.content=="string"?h.content:((fe=h.content)==null?void 0:fe.content)||"",onChange:Q=>{const q=[...e],te=q.findIndex(ne=>ne.id===h.id);te!==-1&&(q[te].content=Q.target.value,n(h.id,Q.target.value))},className:"min-h-[60px] bg-background/50",autoFocus:!0}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>{var te,ne;const Q=[...e],q=Q.findIndex(se=>se.id===h.id);if(q!==-1){h.originalContent&&(Q[q].content=h.originalContent),Q[q].isEditing=!1;const se=typeof h.originalContent=="string"?h.originalContent:((te=h.originalContent)==null?void 0:te.content)||"",Be=typeof h.content=="string"?h.content:((ne=h.content)==null?void 0:ne.content)||"";n(h.id,se||Be)}},children:"Cancel"}),u.jsxs(ie,{size:"sm",onClick:()=>Ke(h),children:[u.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"prose prose-sm max-w-none break-words dark:prose-invert",children:u.jsx(Or,{content:typeof h.content=="string"?h.content:((Fe=h.content)==null?void 0:Fe.content)||""})}),(h.imageDataUrls&&h.imageDataUrls.length>0?h.imageDataUrls:typeof h.content=="object"&&((Se=h.content)==null?void 0:Se.imageBase64s))&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 max-w-full overflow-hidden",children:(h.imageDataUrls&&h.imageDataUrls.length>0?h.imageDataUrls:typeof h.content=="object"&&((Le=h.content)==null?void 0:Le.imageBase64s)||[]).map((Q,q)=>u.jsxs("div",{className:"relative animate-in zoom-in-95 duration-200 max-w-[calc(100%-8px)]",style:{animationDelay:`${q*100}ms`},children:[u.jsx("img",{src:Q,alt:`Uploaded ${q}`,className:"max-w-full max-h-[150px] rounded-md object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>w(Q),style:{objectFit:"cover",aspectRatio:"4/3"}}),u.jsx("div",{className:"absolute top-1 right-1 bg-black/50 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(kn,{className:"h-3 w-3 text-white"})})]},q))}),h.isProcessing&&u.jsxs("div",{className:"flex items-center mt-2 text-sm animate-in fade-in-0 duration-200",children:[u.jsx(bn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}),h.hasError&&u.jsx("div",{className:"text-destructive mt-2 text-sm animate-in fade-in-0 duration-200",children:"Error processing message"})]})})})},h.id)}),u.jsx("div",{ref:g})]})}),u.jsx("div",{className:"absolute bottom-[150px] left-0 right-0 h-[60px] bg-gradient-to-t from-background to-transparent pointer-events-none z-[5]"}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-auto max-h-[400px] flex flex-col overflow-hidden z-10 mb-4 px-4",children:u.jsxs("div",{className:"relative rounded-[24px] p-2 mx-auto w-full max-w-5xl",children:[u.jsx("div",{className:"absolute inset-0 -z-10 rounded-[24px] shadow-lg backdrop-blur-md bg-background/40 border"}),u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"flex p-1",children:[u.jsx("button",{type:"button",onClick:()=>{var h;return(h=ae.current)==null?void 0:h.click()},disabled:!i||a,className:"relative w-[36px] h-[36px] p-1.5 rounded-full bg-muted/30 hover:bg-muted/50 transition-colors flex items-center justify-center",children:u.jsx(Vi,{className:"h-4 w-4"})}),u.jsx("input",{ref:ae,type:"file",multiple:!0,accept:"image/*",onChange:ue,className:"hidden",disabled:!i||a})]}),u.jsxs("div",{className:"flex-1 flex items-center relative",children:[u.jsx(Kt,{ref:x,value:s,onChange:h=>c(h.target.value),onKeyDown:nt,onPaste:it,placeholder:"Type a message...",className:"w-full resize-none border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-sm overflow-y-auto bg-transparent px-2 py-3",disabled:!i||a,style:{opacity:!i||a?.6:1,overflow:"auto",overflowWrap:"break-word",minHeight:"44px",maxHeight:"200px",transition:"height 0.1s ease-in-out"}}),u.jsx("button",{type:"button","aria-label":"Expand editor",className:"w-[24px] h-[24px] rounded-full bg-muted/30 hover:bg-muted/50 transition-colors justify-center flex items-center ml-1",onClick:()=>p(!0),disabled:!i||a,tabIndex:-1,children:u.jsx(po,{className:"h-4 w-4 text-primary"})})]})]}),I.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[u.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.length," file",I.length!==1?"s":""," selected"]}),u.jsxs(ie,{variant:"ghost",size:"sm",onClick:Re,className:"h-7 px-2 text-xs hover:bg-destructive hover:text-destructive-foreground rounded-full",children:[u.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Clear all"]})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 overflow-auto max-h-[80px]",children:I.map((h,y)=>u.jsx("div",{draggable:!0,onDragStart:()=>ve(y),onDragOver:j=>ke(j,y),onDragEnd:je,onDrop:j=>Ce(j,y),className:De("relative group cursor-grab transition-transform duration-200",B===y&&"opacity-50",U===y&&"scale-105"),children:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:h,alt:`Preview ${y}`,className:"w-16 h-16 rounded-md object-cover border cursor-pointer",onClick:j=>{j.stopPropagation(),w(h)},style:{objectFit:"cover",aspectRatio:"1/1"}}),u.jsx("button",{onClick:()=>J(y),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Bt,{className:"w-3 h-3"})}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Ai,{className:"w-4 h-4 text-white drop-shadow-md"})})]})},`preview-${y}`))})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx(ie,{type:"button",size:"sm",variant:"outline",onClick:()=>{ae.current&&(ae.current.multiple=!0,ae.current.click(),ae.current.onchange=()=>et())},disabled:!i||a,className:"bg-muted/30 hover:bg-muted/50 border-muted/30 font-semibold px-3 py-2 h-9 rounded-full",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(an,{className:"h-[18px] w-[18px] sm:block hidden"}),u.jsx("span",{className:"truncate",children:"Image"})]})}),u.jsxs(pt,{value:r,onValueChange:l,disabled:!i||a,children:[u.jsx(dt,{className:"h-9 text-sm font-semibold bg-muted/30 hover:bg-muted/50 border-muted/30 px-3 py-2 rounded-full",children:u.jsx(mt,{placeholder:"Model",children:r.includes("flash")?"2.0":"2.5"})}),u.jsxs(ft,{className:"z-[1100]",children:[u.jsx(be,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),u.jsx(be,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]})]}),u.jsx(ie,{type:"button",disabled:!s.trim()&&b.length===0||!i||a,onClick:Ne,className:"w-[36px] h-[36px] p-0 rounded-full flex items-center justify-center bg-primary text-primary-foreground hover:bg-primary/90",children:a?u.jsx(bn,{className:"h-5 w-5 animate-spin"}):u.jsx(Wi,{className:"h-5 w-5"})})]})]})]})}),u.jsx(Di,{open:!!K,onOpenChange:h=>{h||Oe()},children:u.jsx(Ti,{className:"sm:max-w-4xl p-0 bg-background/95 backdrop-blur-xs border-none",children:u.jsxs("div",{ref:le,className:"relative flex items-center justify-center max-h-[85vh] min-h-[300px] overflow-hidden",onMouseDown:$,onMouseMove:H,onMouseUp:V,onMouseLeave:V,style:{cursor:O?"grabbing":F>1?"grab":"default"},children:[K&&u.jsx("div",{className:"transition-transform duration-200",style:{transform:`scale(${F})`,position:"relative",left:`${ce.x}px`,top:`${ce.y}px`},children:u.jsx("img",{src:K,alt:"Expanded view",className:"max-w-full max-h-[80vh] object-contain",draggable:!1})}),F>1&&u.jsx("div",{className:"absolute top-2 left-2 text-xs bg-background/70 p-1 px-2 rounded-md animate-in fade-in-0 duration-200",children:O?"Moving...":"Click and drag to move"}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-2 bg-background/80 p-2 rounded-full shadow-md",children:[u.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:He,disabled:F<=.5,children:u.jsx(bo,{className:"h-4 w-4"})}),u.jsxs(ie,{variant:"outline",size:"sm",className:"h-8 min-w-14 text-xs",onClick:A,children:[Math.round(F*100),"%"]}),u.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:Ye,disabled:F>=5,children:u.jsx(kn,{className:"h-4 w-4"})})]})]})})}),u.jsx(Di,{open:d,onOpenChange:h=>p(h),children:u.jsxs(Ti,{className:"sm:max-w-[95%] md:max-w-[90%] lg:max-w-[80%] xl:max-w-[70%] fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 p-4 sm:p-6 md:p-8 flex items-center justify-center w-full h-[90vh] max-h-[90vh]",style:{zIndex:1e3,"--hide-dialog-close":"none"},children:[u.jsx("style",{children:`
              [data-dialog-close], .DialogClose, .dialog-close, .dialog__close {
                display: none !important;
              }
            `}),u.jsxs("div",{className:"relative flex flex-col w-full h-full min-h-0 overflow-hidden",children:[I.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"flex items-center justify-between pt-2",children:u.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.length," file",I.length!==1?"s":""," selected"]})}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 overflow-auto max-h-[80px]",children:I.map((h,y)=>u.jsx("div",{draggable:!0,onDragStart:()=>ve(y),onDragOver:j=>ke(j,y),onDragEnd:je,onDrop:j=>Ce(j,y),className:De("relative group cursor-grab transition-transform duration-200",B===y&&"opacity-50",U===y&&"scale-105"),children:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:h,alt:`Preview ${y}`,className:"w-16 h-16 rounded-md object-cover border cursor-pointer",onClick:j=>{j.stopPropagation(),w(h)},style:{objectFit:"cover",aspectRatio:"1/1"}}),u.jsx("button",{onClick:()=>J(y),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Bt,{className:"w-3 h-3"})}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Ai,{className:"w-4 h-4 text-white drop-shadow-md"})})]})},`dialog-preview-${y}`))})]}),u.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:u.jsxs(si,{value:f===void 0?"raw":void 0,defaultValue:"raw",className:"flex-1 flex flex-col min-h-0 overflow-hidden",onValueChange:()=>{},children:[u.jsxs(ci,{className:"mb-2",children:[u.jsx(kt,{value:"raw",children:"Raw"}),u.jsx(kt,{value:"markdown",children:"Markdown"})]}),u.jsx(jt,{value:"raw",className:"flex-1 min-h-0 overflow-hidden",children:u.jsx(Kt,{value:s,onChange:h=>c(h.target.value),onKeyDown:h=>{h.key==="Enter"&&h.ctrlKey&&(h.preventDefault(),Ne(),N())},className:"h-full min-h-0 max-h-full w-full text-sm sm:text-base md:text-lg font-mono resize-none overflow-auto p-3 sm:p-4",autoFocus:!0})}),u.jsx(jt,{value:"markdown",className:"flex-1 min-h-0 overflow-hidden",children:u.jsx(Lt.Suspense,{fallback:u.jsxs("div",{className:"flex items-center justify-center h-full",children:[u.jsx("span",{className:"animate-spin mr-2 inline-block w-5 h-5 border-2 border-primary border-t-transparent rounded-full"}),u.jsx("span",{className:"text-muted-foreground",children:"Rendering preview…"})]}),children:u.jsx(Nf,{inputValue:s})})})]})}),u.jsxs("div",{className:"mt-4 border-t pt-4 flex flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(pt,{value:v,onValueChange:h=>{k(h),l(h)},disabled:!i||a,children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{ref:xe,type:"file",multiple:!0,accept:"image/*",onChange:ue,className:"hidden",disabled:!i||a}),u.jsxs(ie,{type:"button",onClick:()=>{var h;return(h=xe.current)==null?void 0:h.click()},className:"h-9 px-3 rounded-full text-xs sm:text-sm",disabled:!i||a,children:[u.jsx(Vi,{className:"h-4 w-4 mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Add Image"}),u.jsx("span",{className:"inline sm:hidden",children:"Image"})]})]}),u.jsx(dt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsx(mt,{placeholder:"Model",children:v.includes("flash")?"2.0":"2.5"})}),u.jsxs(ft,{className:"z-[1100]",children:[u.jsx(be,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),u.jsx(be,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),b.length>0&&u.jsxs(ie,{variant:"ghost",size:"sm",onClick:Re,className:"h-7 px-2 text-xs hover:bg-destructive hover:text-destructive-foreground rounded-full",children:[u.jsx(Wn,{className:"h-3 w-3 mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Clear all"}),u.jsx("span",{className:"inline sm:hidden",children:"Clear"})]})]}),u.jsxs(ie,{type:"button",onClick:async()=>{await Ne(),N()},className:"h-9 px-5 rounded-full bg-primary text-primary-foreground font-semibold z-10 shadow-lg flex items-center",disabled:!s.trim()&&b.length===0||!i||a,children:[u.jsx(Wi,{className:"h-5 w-5 mr-1"}),"Send"]})]})]})]})})]})},Nf=Lt.lazy(()=>Promise.resolve({default:Lt.memo(({inputValue:e})=>{const t=/[*_~`#>|\[\]()]/.test(e);return u.jsx("div",{className:"h-full min-h-[40vh] max-h-[70vh] w-full overflow-auto bg-background border rounded-md p-2 sm:p-4 prose prose-sm sm:prose-base md:prose-lg dark:prose-invert",children:t?u.jsx($a,{remarkPlugins:[pl],children:e}):u.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e})})})}));var Bn={exports:{}},$n,Lr;function Pf(){if(Lr)return $n;Lr=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $n=e,$n}var Un,Br;function Af(){if(Br)return Un;Br=1;var e=Pf();function t(){}function n(){}return n.resetWarningCache=t,Un=function(){function i(a,o,s,c,d,p){if(p!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}i.isRequired=i;function r(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Un}var $r;function Df(){return $r||($r=1,Bn.exports=Af()()),Bn.exports}var Tf=Df();const pe=mn(Tf),zf=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Et(e,t,n){const i=Rf(e),{webkitRelativePath:r}=e,l=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof i.path!="string"&&Ur(i,"path",l),Ur(i,"relativePath",l),i}function Rf(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),r=zf.get(i);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function Ur(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Ff=[".DS_Store","Thumbs.db"];function _f(e){return xt(this,void 0,void 0,function*(){return un(e)&&Mf(e.dataTransfer)?$f(e.dataTransfer,e.type):Of(e)?Lf(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Bf(e):[]})}function Mf(e){return un(e)}function Of(e){return un(e)&&un(e.target)}function un(e){return typeof e=="object"&&e!==null}function Lf(e){return ii(e.target.files).map(t=>Et(t))}function Bf(e){return xt(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Et(n))})}function $f(e,t){return xt(this,void 0,void 0,function*(){if(e.items){const n=ii(e.items).filter(r=>r.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(Uf));return qr(bl(i))}return qr(ii(e.files).map(n=>Et(n)))})}function qr(e){return e.filter(t=>Ff.indexOf(t.name)===-1)}function ii(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function Uf(e){if(typeof e.webkitGetAsEntry!="function")return Hr(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?wl(t):Hr(e,t)}function bl(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?bl(n):[n]],[])}function Hr(e,t){return xt(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const l=yield e.getAsFileSystemHandle();if(l===null)throw new Error(`${e} is not a File`);if(l!==void 0){const a=yield l.getFile();return a.handle=l,Et(a)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return Et(i,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function qf(e){return xt(this,void 0,void 0,function*(){return e.isDirectory?wl(e):Hf(e)})}function wl(e){const t=e.createReader();return new Promise((n,i)=>{const r=[];function l(){t.readEntries(a=>xt(this,void 0,void 0,function*(){if(a.length){const o=Promise.all(a.map(qf));r.push(o),l()}else try{const o=yield Promise.all(r);n(o)}catch(o){i(o)}}),a=>{i(a)})}l()})}function Hf(e){return xt(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const r=Et(i,e.fullPath);t(r)},i=>{n(i)})})})}var en={},Vr;function Vf(){return Vr||(Vr=1,en.__esModule=!0,en.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",r=(e.type||"").toLowerCase(),l=r.replace(/\/.*$/,"");return n.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?l===o.replace(/\/.*$/,""):r===o})}return!0}),en}var Wf=Vf();const qn=mn(Wf);function Wr(e){return Yf(e)||Kf(e)||jl(e)||Gf()}function Gf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kf(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yf(e){if(Array.isArray(e))return ri(e)}function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gr(Object(n),!0).forEach(function(i){kl(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t){return Zf(e)||Qf(e,t)||jl(e,t)||Xf()}function Xf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jl(e,t){if(e){if(typeof e=="string")return ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ri(e,t)}}function ri(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Qf(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,l=!1,a,o;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!(t&&i.length===t));r=!0);}catch(s){l=!0,o=s}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw o}}return i}}function Zf(e){if(Array.isArray(e))return e}var Jf=typeof qn=="function"?qn:qn.default,eh="file-invalid-type",th="file-too-large",nh="file-too-small",ih="too-many-files",rh=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:eh,message:"File type must be ".concat(i)}},Yr=function(t){return{code:th,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Xr=function(t){return{code:nh,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},ah={code:ih,message:"Too many files"};function Cl(e,t){var n=e.type==="application/x-moz-file"||Jf(e,t);return[n,n?null:rh(t)]}function Sl(e,t,n){if(ut(e.size))if(ut(t)&&ut(n)){if(e.size>n)return[!1,Yr(n)];if(e.size<t)return[!1,Xr(t)]}else{if(ut(t)&&e.size<t)return[!1,Xr(t)];if(ut(n)&&e.size>n)return[!1,Yr(n)]}return[!0,null]}function ut(e){return e!=null}function lh(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize,l=e.multiple,a=e.maxFiles,o=e.validator;return!l&&t.length>1||l&&a>=1&&t.length>a?!1:t.every(function(s){var c=Cl(s,n),d=qt(c,1),p=d[0],f=Sl(s,i,r),m=qt(f,1),v=m[0],k=o?o(s):null;return p&&v&&!k})}function pn(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function tn(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Qr(e){e.preventDefault()}function oh(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function sh(e){return e.indexOf("Edge/")!==-1}function ch(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return oh(e)||sh(e)}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,l=new Array(r>1?r-1:0),a=1;a<r;a++)l[a-1]=arguments[a];return t.some(function(o){return!pn(i)&&o&&o.apply(void 0,[i].concat(l)),pn(i)})}}function uh(){return"showOpenFilePicker"in window}function ph(e){if(ut(e)){var t=Object.entries(e).filter(function(n){var i=qt(n,2),r=i[0],l=i[1],a=!0;return El(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(l)||!l.every(Il))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,i){var r=qt(i,2),l=r[0],a=r[1];return Kr(Kr({},n),{},kl({},l,a))},{});return[{description:"Files",accept:t}]}return e}function dh(e){if(ut(e))return Object.entries(e).reduce(function(t,n){var i=qt(n,2),r=i[0],l=i[1];return[].concat(Wr(t),[r],Wr(l))},[]).filter(function(t){return El(t)||Il(t)}).join(",")}function mh(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function fh(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function El(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Il(e){return/^.*\.[\w]+$/.test(e)}var hh=["children"],xh=["open"],gh=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],vh=["refKey","onChange","onClick"];function yh(e){return kh(e)||wh(e)||Nl(e)||bh()}function bh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kh(e){if(Array.isArray(e))return ai(e)}function Hn(e,t){return Sh(e)||Ch(e,t)||Nl(e,t)||jh()}function jh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nl(e,t){if(e){if(typeof e=="string")return ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ai(e,t)}}function ai(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ch(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,l=!1,a,o;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!(t&&i.length===t));r=!0);}catch(s){l=!0,o=s}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw o}}return i}}function Sh(e){if(Array.isArray(e))return e}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zr(Object(n),!0).forEach(function(i){li(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t){if(e==null)return{};var n=Eh(e,t),i,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)i=l[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Eh(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,l;for(l=0;l<i.length;l++)r=i[l],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var Pi=S.forwardRef(function(e,t){var n=e.children,i=dn(e,hh),r=Al(i),l=r.open,a=dn(r,xh);return S.useImperativeHandle(t,function(){return{open:l}},[l]),Lt.createElement(S.Fragment,null,n(ge(ge({},a),{},{open:l})))});Pi.displayName="Dropzone";var Pl={disabled:!1,getFilesFromEvent:_f,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Pi.defaultProps=Pl;Pi.propTypes={children:pe.func,accept:pe.objectOf(pe.arrayOf(pe.string)),multiple:pe.bool,preventDropOnDocument:pe.bool,noClick:pe.bool,noKeyboard:pe.bool,noDrag:pe.bool,noDragEventsBubbling:pe.bool,minSize:pe.number,maxSize:pe.number,maxFiles:pe.number,disabled:pe.bool,getFilesFromEvent:pe.func,onFileDialogCancel:pe.func,onFileDialogOpen:pe.func,useFsAccessApi:pe.bool,autoFocus:pe.bool,onDragEnter:pe.func,onDragLeave:pe.func,onDragOver:pe.func,onDrop:pe.func,onDropAccepted:pe.func,onDropRejected:pe.func,onError:pe.func,validator:pe.func};var oi={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Al(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ge(ge({},Pl),e),n=t.accept,i=t.disabled,r=t.getFilesFromEvent,l=t.maxSize,a=t.minSize,o=t.multiple,s=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,p=t.onDragOver,f=t.onDrop,m=t.onDropAccepted,v=t.onDropRejected,k=t.onFileDialogCancel,N=t.onFileDialogOpen,b=t.useFsAccessApi,E=t.autoFocus,I=t.preventDropOnDocument,_=t.noClick,B=t.noKeyboard,C=t.noDrag,U=t.noDragEventsBubbling,X=t.onError,K=t.validator,w=S.useMemo(function(){return dh(n)},[n]),F=S.useMemo(function(){return ph(n)},[n]),R=S.useMemo(function(){return typeof N=="function"?N:Jr},[N]),O=S.useMemo(function(){return typeof k=="function"?k:Jr},[k]),T=S.useRef(null),L=S.useRef(null),oe=S.useReducer(Ih,oi),ce=Hn(oe,2),me=ce[0],le=ce[1],g=me.isFocused,ae=me.isFileDialogActive,xe=S.useRef(typeof window<"u"&&window.isSecureContext&&b&&uh()),x=function(){!xe.current&&ae&&setTimeout(function(){if(L.current){var h=L.current.files;h.length||(le({type:"closeDialog"}),O())}},300)};S.useEffect(function(){return window.addEventListener("focus",x,!1),function(){window.removeEventListener("focus",x,!1)}},[L,ae,O,xe]);var Y=S.useRef([]),ue=function(h){T.current&&T.current.contains(h.target)||(h.preventDefault(),Y.current=[])};S.useEffect(function(){return I&&(document.addEventListener("dragover",Qr,!1),document.addEventListener("drop",ue,!1)),function(){I&&(document.removeEventListener("dragover",Qr),document.removeEventListener("drop",ue))}},[T,I]),S.useEffect(function(){return!i&&E&&T.current&&T.current.focus(),function(){}},[T,E,i]);var J=S.useCallback(function(P){X?X(P):console.error(P)},[X]),ve=S.useCallback(function(P){P.preventDefault(),P.persist(),A(P),Y.current=[].concat(yh(Y.current),[P.target]),tn(P)&&Promise.resolve(r(P)).then(function(h){if(!(pn(P)&&!U)){var y=h.length,j=y>0&&lh({files:h,accept:w,minSize:a,maxSize:l,multiple:o,maxFiles:s,validator:K}),z=y>0&&!j;le({isDragAccept:j,isDragReject:z,isDragActive:!0,type:"setDraggedFiles"}),c&&c(P)}}).catch(function(h){return J(h)})},[r,c,J,U,w,a,l,o,s,K]),ke=S.useCallback(function(P){P.preventDefault(),P.persist(),A(P);var h=tn(P);if(h&&P.dataTransfer)try{P.dataTransfer.dropEffect="copy"}catch{}return h&&p&&p(P),!1},[p,U]),je=S.useCallback(function(P){P.preventDefault(),P.persist(),A(P);var h=Y.current.filter(function(j){return T.current&&T.current.contains(j)}),y=h.indexOf(P.target);y!==-1&&h.splice(y,1),Y.current=h,!(h.length>0)&&(le({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),tn(P)&&d&&d(P))},[T,d,U]),Ce=S.useCallback(function(P,h){var y=[],j=[];P.forEach(function(z){var M=Cl(z,w),G=Hn(M,2),fe=G[0],Fe=G[1],Se=Sl(z,a,l),Le=Hn(Se,2),Q=Le[0],q=Le[1],te=K?K(z):null;if(fe&&Q&&!te)y.push(z);else{var ne=[Fe,q];te&&(ne=ne.concat(te)),j.push({file:z,errors:ne.filter(function(se){return se})})}}),(!o&&y.length>1||o&&s>=1&&y.length>s)&&(y.forEach(function(z){j.push({file:z,errors:[ah]})}),y.splice(0)),le({acceptedFiles:y,fileRejections:j,isDragReject:j.length>0,type:"setFiles"}),f&&f(y,j,h),j.length>0&&v&&v(j,h),y.length>0&&m&&m(y,h)},[le,o,w,a,l,s,f,m,v,K]),Re=S.useCallback(function(P){P.preventDefault(),P.persist(),A(P),Y.current=[],tn(P)&&Promise.resolve(r(P)).then(function(h){pn(P)&&!U||Ce(h,P)}).catch(function(h){return J(h)}),le({type:"reset"})},[r,Ce,J,U]),Ne=S.useCallback(function(){if(xe.current){le({type:"openDialog"}),R();var P={multiple:o,types:F};window.showOpenFilePicker(P).then(function(h){return r(h)}).then(function(h){Ce(h,null),le({type:"closeDialog"})}).catch(function(h){mh(h)?(O(h),le({type:"closeDialog"})):fh(h)?(xe.current=!1,L.current?(L.current.value=null,L.current.click()):J(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):J(h)});return}L.current&&(le({type:"openDialog"}),R(),L.current.value=null,L.current.click())},[le,R,O,b,Ce,J,F,o]),nt=S.useCallback(function(P){!T.current||!T.current.isEqualNode(P.target)||(P.key===" "||P.key==="Enter"||P.keyCode===32||P.keyCode===13)&&(P.preventDefault(),Ne())},[T,Ne]),it=S.useCallback(function(){le({type:"focus"})},[]),Ke=S.useCallback(function(){le({type:"blur"})},[]),et=S.useCallback(function(){_||(ch()?setTimeout(Ne,0):Ne())},[_,Ne]),Oe=function(h){return i?null:h},Ye=function(h){return B?null:Oe(h)},He=function(h){return C?null:Oe(h)},A=function(h){U&&h.stopPropagation()},$=S.useMemo(function(){return function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=P.refKey,y=h===void 0?"ref":h,j=P.role,z=P.onKeyDown,M=P.onFocus,G=P.onBlur,fe=P.onClick,Fe=P.onDragEnter,Se=P.onDragOver,Le=P.onDragLeave,Q=P.onDrop,q=dn(P,gh);return ge(ge(li({onKeyDown:Ye(Xe(z,nt)),onFocus:Ye(Xe(M,it)),onBlur:Ye(Xe(G,Ke)),onClick:Oe(Xe(fe,et)),onDragEnter:He(Xe(Fe,ve)),onDragOver:He(Xe(Se,ke)),onDragLeave:He(Xe(Le,je)),onDrop:He(Xe(Q,Re)),role:typeof j=="string"&&j!==""?j:"presentation"},y,T),!i&&!B?{tabIndex:0}:{}),q)}},[T,nt,it,Ke,et,ve,ke,je,Re,B,C,i]),H=S.useCallback(function(P){P.stopPropagation()},[]),V=S.useMemo(function(){return function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=P.refKey,y=h===void 0?"ref":h,j=P.onChange,z=P.onClick,M=dn(P,vh),G=li({accept:w,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Oe(Xe(j,Re)),onClick:Oe(Xe(z,H)),tabIndex:-1},y,L);return ge(ge({},G),M)}},[L,n,o,Re,i]);return ge(ge({},me),{},{isFocused:g&&!i,getRootProps:$,getInputProps:V,rootRef:T,inputRef:L,open:Oe(Ne)})}function Ih(e,t){switch(t.type){case"focus":return ge(ge({},e),{},{isFocused:!0});case"blur":return ge(ge({},e),{},{isFocused:!1});case"openDialog":return ge(ge({},oi),{},{isFileDialogActive:!0});case"closeDialog":return ge(ge({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ge(ge({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ge(ge({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return ge({},oi);default:return e}}function Jr(){}const Nh={initial:{x:0,y:0},animate:{x:20,y:-20,opacity:.9}},Ph={initial:{opacity:0},animate:{opacity:1}},ea=({onChange:e,id:t,disabled:n=!1})=>{const[i,r]=S.useState([]),l=S.useRef(null),a=d=>{if(n)return;const p=1e3-i.length;if(p<=0)return;const f=d.slice(0,p);r(f),e&&(e(f),setTimeout(()=>{r([])},1e3))};S.useEffect(()=>{i.length===0&&l.current&&(l.current.value="")},[i]);const{getRootProps:o,isDragActive:s}=Al({multiple:!0,noClick:!0,onDrop:a,onDropRejected:d=>{console.log(d)},disabled:n}),c=i.length>3?i.slice(-2):i;return u.jsx("div",{className:De("w-full",n&&"opacity-60 cursor-not-allowed"),...o(),children:u.jsxs(we.div,{whileHover:n?void 0:"animate",children:[u.jsx("input",{ref:l,id:t||"file-upload-handle",type:"file",multiple:!0,disabled:n,onChange:d=>a(Array.from(d.target.files||[])),className:"hidden"}),u.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,white,transparent)]",children:u.jsx(Ah,{})}),u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx("p",{className:"relative z-20 font-sans font-bold text-neutral-700 dark:text-neutral-300 text-base",children:"Upload file"}),u.jsx("p",{className:"relative z-20 font-sans font-normal text-neutral-400 dark:text-neutral-400 text-base mt-2",children:"Drag or drop your files here or click to upload"}),u.jsxs("div",{className:"relative w-full mt-10 max-w-xl mx-auto",children:[i.length>0&&u.jsxs(u.Fragment,{children:[i.length>3&&u.jsx(we.div,{layoutId:"file-upload-ellipsis",children:"..."}),c.map((d,p)=>u.jsxs(we.div,{layoutId:p===0?"file-upload":"file-upload-"+(i.length-c.length+p),children:[u.jsxs("div",{className:"flex justify-between w-full items-center gap-4",children:[u.jsx(we.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:d.name}),u.jsxs(we.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:[(d.size/(1024*1024)).toFixed(2)," MB"]})]}),u.jsxs("div",{className:"flex text-sm md:flex-row flex-col items-start md:items-center w-full mt-2 justify-between text-neutral-600 dark:text-neutral-400",children:[u.jsx(we.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:d.type}),u.jsxs(we.p,{initial:{opacity:0},animate:{opacity:1},layout:!0,children:["modified"," ",new Date(d.lastModified).toLocaleDateString()]})]})]},"file"+(i.length-c.length+p)))]}),!i.length&&u.jsx(we.div,{layoutId:"file-upload",variants:Nh,transition:{type:"spring",stiffness:300,damping:20},children:s?u.jsxs(we.p,{initial:{opacity:0},animate:{opacity:1},children:["Drop it",u.jsx(an,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-400"})]}):u.jsx(an,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-300"})}),!i.length&&u.jsx(we.div,{variants:Ph})]})]})]})})};function Ah(){return u.jsx("div",{className:"flex bg-gray-100 dark:bg-neutral-900 shrink-0 flex-wrap justify-center items-center gap-x-px gap-y-px  scale-105",children:Array.from({length:11}).map((n,i)=>Array.from({length:41}).map((r,l)=>{const a=i*41+l;return u.jsx("div",{className:`w-10 h-10 flex shrink-0 rounded-[2px] ${a%2===0?"bg-gray-50 dark:bg-neutral-950":"bg-gray-50 dark:bg-neutral-950 shadow-[0px_0px_1px_3px_rgba(255,255,255,1)_inset] dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]"}`},`${l}-${i}`)}))})}const Dh="apiKey",ta="systemPrompt",Kh=()=>{const[e,t]=S.useState([]),[n,i]=S.useState(!1),[r,l]=S.useState([]),[a,o]=S.useState("all"),[s,c]=S.useState([]),[d,p]=S.useState("images"),[f,m]=S.useState(!1),[v,k]=S.useState(null),[N,b]=S.useState(!0),[E,I]=S.useState("gemini-2.0-flash-exp-image-generation"),[_,B]=S.useState(10),[C,U]=S.useState(""),[X,K]=S.useState(!1),[w,F]=S.useState(3),[R,O]=S.useState([]),[T,L]=S.useState(0),[oe,ce]=S.useState(""),me=S.useId(),[le,g]=S.useState(!1),ae=S.useRef(null),xe=S.useRef(null);S.useEffect(()=>{(async()=>{b(!0);try{const $=await At(Dh),H=await At("selectedModel"),V=await At("rpm"),P=await At(ta),h=await At("maxConcurrentRequests");k($),H&&I(H),V&&V>0&&B(V),h&&h>0&&F(h),P&&(U(P),ce(P))}catch($){console.error("Error retrieving settings from IndexedDB:",$)}finally{b(!1)}})()},[]),S.useEffect(()=>{F(_);const A=()=>{if(R.length===0){L(0);return}if(R.length<_){L(0);return}const H=Date.now(),P=R[R.length-_]+6e4;H>=P?(x(),L(0)):L(Math.ceil((P-H)/1e3))},$=setInterval(A,1e3);return A(),()=>clearInterval($)},[R,_]);const x=()=>{const $=Date.now()-6e4;O(H=>H.filter(V=>V>$))},Y=()=>(x(),R.length<_),ue=()=>{const A=Date.now();O($=>{const H=[...$,A].sort((V,P)=>P-V);return H.slice(0,Math.min(_,H.length))})},J=async A=>{I(A),await Gt("selectedModel",A)},ve=async()=>{await Gt(ta,oe),U(oe),Ae.success("System prompt saved")},ke=async A=>{if(v){t($=>$.map(H=>H.id===A.id?{...H,isProcessing:!0,willProcess:!1}:H).sort((H,V)=>(V.timestamp||0)-(H.timestamp||0))),l($=>[...$,A.id]),Ae.info(`Processing ${A.file.name}...`);try{ue();const $=await eo([A.file],v,E,C||void 0);t(H=>H.map(V=>V.id===A.id?{...V,geminiResponse:$,hasError:$.hasError,isProcessing:!1,willProcess:!1,timestamp:Date.now()}:V).sort((V,P)=>(P.timestamp||0)-(V.timestamp||0))),$.hasError?Ae.error(`Failed to process ${A.file.name}`):Ae.success(`Successfully processed ${A.file.name}`)}catch($){console.error("Error processing image:",$),t(H=>H.map(V=>V.id===A.id?{...V,geminiResponse:{thinking:"",ocrText:"",hasError:!0},hasError:!0,isProcessing:!1,willProcess:!1,timestamp:Date.now()}:V).sort((V,P)=>(P.timestamp||0)-(V.timestamp||0))),Ae.error(`Error processing ${A.file.name}`,{description:"See console for details"})}finally{l($=>$.filter(H=>H!==A.id))}}},je=async A=>{if(!v){Ae.error("API key is not set",{description:"Please set it in the API Key Settings section."});return}x();const $=A.filter(V=>V.type.startsWith("image/"));if($.length===0){Ae.error("No valid image files found");return}const H=$.map(V=>{const P=URL.createObjectURL(V);return{id:`${V.name}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,file:V,url:P,geminiResponse:{thinking:"",ocrText:"",hasError:!1},hasError:!1,isProcessing:!1,willProcess:!0,timestamp:Date.now()}});t(V=>[...V,...H].sort((P,h)=>(h.timestamp||0)-(P.timestamp||0))),Ae.success(`Added ${$.length} image${$.length>1?"s":""} for processing`),p("images")},Ce=async(A,$)=>{if(!v)return;let H,V;typeof A=="string"?H=A:(H=A.content,V=A.imageBase64s);const P=`message-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,h=($==null?void 0:$.map(M=>URL.createObjectURL(M)))||V||[],y={id:P,role:"user",content:A,timestamp:Date.now(),files:$,imageDataUrls:h};c(M=>[...M,y]);const j=`assistant-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,z={id:j,role:"assistant",content:"",timestamp:Date.now(),isProcessing:!0};c(M=>[...M,z]),m(!0);try{ue();const M=await Jl($||[],H,v,E);c(G=>G.map(fe=>fe.id===j?{...fe,content:M.ocrText||"I couldn't process your request.",isProcessing:!1,hasError:M.hasError}:fe))}catch(M){console.error("Error in chat:",M),c(G=>G.map(fe=>fe.id===j?{...fe,content:"Sorry, an error occurred while processing your request.",isProcessing:!1,hasError:!0}:fe))}finally{m(!1)}},Re=(A,$)=>{c(H=>H.map(V=>V.id===A?{...V,content:$}:V))},Ne=async A=>{if(v){if(x(),!Y()){t($=>$.map(H=>H.id===A.id?{...H,willProcess:!0,isProcessing:!1}:H).sort((H,V)=>(V.timestamp||0)-(H.timestamp||0))),console.log(`Queued image ${A.file.name} for retry due to rate limits`);return}await ke(A)}},nt=()=>{let A=e;if(a==="completed"&&(A=e.filter($=>!$.isProcessing&&!$.willProcess&&!$.hasError)),A.length>0){const $=A.sort((H,V)=>{const P=parseInt(H.file.name.split(".")[0],10),h=parseInt(V.file.name.split(".")[0],10);return P-h}).map(H=>`${H.file.name}:
${H.geminiResponse.ocrText}
`).join(`
`);navigator.clipboard.writeText($),i(!0),Ae.success("All text copied to clipboard"),setTimeout(()=>i(!1),2e3)}else Ae.error("No processed images to copy")},it=A=>{const $=e.find(H=>H.id===A);t(H=>H.filter(V=>V.id!==A)),$&&Ae.success(`Removed image: ${$.file.name}`)},Ke=()=>{if(e.length===0){Ae.error("No images to remove");return}const A=e.length;t([]),Ae.success(`Removed all ${A} images`)};S.useEffect(()=>{const A=async()=>{if(!v||!Y())return;const H=r.length,V=Math.min(w-H,_-R.length,e.filter(h=>h.willProcess).length);if(V<=0)return;const P=e.filter(h=>h.willProcess&&!h.isProcessing).slice(0,V);P.length!==0&&await Promise.all(P.map(h=>ke(h)))},$=setTimeout(()=>{A()},100);return()=>clearTimeout($)},[r.length,e,v,R.length,w]);const et=()=>{switch(a){case"completed":return e.filter(A=>!A.isProcessing&&!A.willProcess&&!A.hasError);case"processing":return e.filter(A=>A.isProcessing);case"queued":return e.filter(A=>A.willProcess);case"error":return e.filter(A=>A.hasError);case"all":default:return e}},Oe=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};S.useEffect(()=>{const A=()=>{const $=document.documentElement.scrollHeight-document.documentElement.scrollTop-document.documentElement.clientHeight;g($>500)};return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]);const Ye=()=>{xe.current&&requestAnimationFrame(()=>{xe.current&&(xe.current.scrollTop=xe.current.scrollHeight)})};S.useEffect(()=>{d==="chat"&&Ye()},[s,d]);const He=A=>{p(A),A==="chat"&&setTimeout(Ye,50)};return N?u.jsx(Ft,{className:"container mx-auto px-4 py-8 flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):u.jsxs("div",{className:De("container mx-auto p-4"),ref:ae,children:[u.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between items-start justify-start gap-2 mb-2 bg-transparent w-full",children:[u.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center w-full",children:[u.jsxs("h1",{className:"text-xl xs:text-2xl font-bold overflow-visible inline-flex items-center flex-wrap",children:[u.jsx(ko,{className:"text-2xl xs:text-3xl font-bold",text:"Gemini"}),u.jsx("span",{className:"ml-2 text-base xs:text-xl",children:"AI Chat & OCR"})]}),u.jsxs("div",{className:"mt-2 xs:mt-0 xs:ml-3 px-2 py-1 bg-primary/10 rounded-full text-xs font-medium inline-flex items-center animate-in fade-in slide-in-from-left-4 duration-300",children:[u.jsxs("span",{className:"text-primary",children:[R.length,"/",_]}),T>0&&u.jsxs("span",{className:"ml-1 text-amber-600 animate-pulse",children:["(",T,"s)"]})]})]}),u.jsxs(ie,{variant:X?"default":"ghost",size:"sm",className:"flex items-center gap-1 h-8 transition-colors duration-200 mt-2 sm:mt-0 self-end sm:self-auto",onClick:()=>K(!X),children:[u.jsx(wn,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),u.jsx(Vn,{children:X&&u.jsx(Ft,{className:"mb-4 p-4",children:u.jsx(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(ro,{htmlFor:"system-prompt",className:"text-sm font-medium",children:"System Prompt"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("textarea",{id:"system-prompt",value:oe,onChange:A=>ce(A.target.value),placeholder:"Enter system prompt for Gemini",className:"flex-1 min-h-[100px] px-3 py-2 border rounded-md text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",rows:4}),u.jsx(ie,{onClick:ve,children:"Save"})]})]})})})})}),u.jsxs(si,{value:d,onValueChange:He,className:"flex-1 flex flex-col",children:[u.jsxs(ci,{className:"grid grid-cols-2 mb-4",children:[u.jsxs(kt,{value:"images",className:De("flex items-center gap-1 transition-all duration-200 data-[state=active]:scale-105",d==="images"?"font-medium":""),children:[u.jsx(an,{className:"h-3.5 w-3.5"}),"Images"," ",e.length>0&&u.jsx("span",{className:"bg-primary/15 text-primary px-1.5 py-0.5 rounded-full text-xs ml-1",children:e.length})]}),u.jsxs(kt,{value:"chat",className:De("flex items-center gap-1 transition-all duration-200 data-[state=active]:scale-105",d==="chat"?"font-medium":""),children:[u.jsx(fo,{className:"h-3.5 w-3.5"}),"Chat"]})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx(jt,{value:"chat",className:"h-full",children:v?u.jsx("div",{className:"h-full",ref:xe,children:u.jsx(If,{messages:s,onSendMessage:Ce,onEditMessage:Re,apiKey:v,selectedModel:E,onModelChange:I,isProcessing:f,handleFileUpload:je})}):u.jsx("div",{className:"flex flex-col items-center justify-center h-full rounded-md border",children:u.jsxs("div",{className:"text-center p-6 max-w-md",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No API Key Found"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Please set your Gemini API key in the settings to start using the chat interface."}),u.jsxs(ie,{onClick:()=>K(!0),className:"flex items-center gap-1",children:[u.jsx(wn,{className:"h-4 w-4 mr-1"}),"Open Settings",u.jsx(zi,{className:"h-4 w-4 ml-1"})]})]})})}),u.jsx(jt,{value:"images",className:"h-full flex flex-col",children:v?e.length===0?u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6 py-12",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Images Uploaded"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by uploading some images for processing"})]}),u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(ie,{className:"w-full h-24 rounded-xl bg-primary hover:bg-primary/90 flex flex-col gap-2 shadow-lg",onClick:()=>{const A=document.getElementById(`file-upload-${me}`);A&&A.click()},disabled:R.length>=_,children:[u.jsx(Hi,{className:"h-8 w-8"}),u.jsx("span",{className:"text-lg font-medium",children:"Upload Images"})]})}),u.jsxs("div",{className:"w-full max-w-md flex flex-wrap gap-3 justify-center",children:[u.jsxs(pt,{value:E,onValueChange:J,children:[u.jsx(dt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsx(mt,{placeholder:"Model",children:E.includes("flash")?"2.0 Flash":"2.5 Pro"})}),u.jsxs(ft,{className:"z-[1100]",children:[u.jsx(be,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),u.jsx(be,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),u.jsxs(pt,{value:_.toString(),onValueChange:A=>{const $=parseInt(A);B($),Gt("rpm",$)},children:[u.jsx(dt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsxs(mt,{placeholder:"RPM",children:[_," RPM"]})}),u.jsxs(ft,{className:"z-[1100]",children:[u.jsx(be,{value:"2",children:"2 RPM"}),u.jsx(be,{value:"5",children:"5 RPM"}),u.jsx(be,{value:"10",children:"10 RPM"}),u.jsx(be,{value:"15",children:"15 RPM"})]})]})]}),u.jsx("div",{className:"hidden",children:u.jsx(ea,{id:`file-upload-${me}`,onChange:je,disabled:R.length>=_})})]}):u.jsxs(u.Fragment,{children:[u.jsxs(Ft,{className:"mb-3 animate-in fade-in-0 duration-300",children:[u.jsxs("div",{className:"p-4 flex flex-col sm:flex-row gap-4 items-center justify-between",children:[u.jsxs(ie,{className:"w-full sm:w-auto h-12 rounded-xl bg-primary hover:bg-primary/90 flex items-center gap-2",onClick:()=>{const A=document.getElementById(`file-upload-${me}`);A&&A.click()},disabled:R.length>=_,children:[u.jsx(Hi,{className:"h-5 w-5"}),u.jsx("span",{className:"font-medium",children:"Upload More Images"})]}),u.jsxs("div",{className:"w-full sm:w-auto flex flex-wrap justify-end gap-2",children:[u.jsxs(pt,{value:E,onValueChange:J,children:[u.jsx(dt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsx(mt,{placeholder:"Model",children:E.includes("flash")?"2.0 Flash":"2.5 Pro"})}),u.jsxs(ft,{className:"z-[1100]",children:[u.jsx(be,{value:"gemini-2.0-flash-exp-image-generation",children:"2.0 Flash"}),u.jsx(be,{value:"gemini-2.5-pro-exp-03-25",children:"2.5 Pro"})]})]}),u.jsxs(pt,{value:_.toString(),onValueChange:A=>{const $=parseInt(A);B($),Gt("rpm",$)},children:[u.jsx(dt,{className:"h-9 text-sm font-semibold px-3 py-2 rounded-full min-w-[120px]",children:u.jsxs(mt,{placeholder:"RPM",children:[_," RPM"]})}),u.jsxs(ft,{className:"z-[1100]",children:[u.jsx(be,{value:"2",children:"2 RPM"}),u.jsx(be,{value:"5",children:"5 RPM"}),u.jsx(be,{value:"10",children:"10 RPM"}),u.jsx(be,{value:"15",children:"15 RPM"})]})]})]})]}),u.jsx("div",{className:"hidden",children:u.jsx(ea,{id:`file-upload-${me}`,onChange:je,disabled:R.length>=_})})]}),u.jsxs("div",{className:"mb-3 p-3 rounded-md border flex flex-wrap gap-2 text-sm",children:[u.jsxs(ie,{variant:a==="all"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("all"),children:[u.jsx(so,{className:"h-3 w-3"}),u.jsx("span",{className:"font-medium",children:"Total:"}),u.jsx("span",{className:"text-primary",children:e.length})]}),u.jsxs(ie,{variant:a==="completed"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("completed"),children:[u.jsx("span",{className:"font-medium",children:"Completed:"}),u.jsx("span",{className:"text-green-600",children:e.filter(A=>!A.isProcessing&&!A.willProcess&&!A.hasError).length})]}),u.jsxs(ie,{variant:a==="processing"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("processing"),children:[u.jsx("span",{className:"font-medium",children:"Processing:"}),u.jsx("span",{className:"text-blue-600",children:e.filter(A=>A.isProcessing).length})]}),u.jsxs(ie,{variant:a==="queued"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("queued"),children:[u.jsx("span",{className:"font-medium",children:"Queued:"}),u.jsx("span",{className:"text-amber-600",children:e.filter(A=>A.willProcess).length})]}),u.jsxs(ie,{variant:a==="error"?"default":"outline",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>o("error"),children:[u.jsx("span",{className:"font-medium",children:"Error:"}),u.jsx("span",{className:"text-red-600",children:e.filter(A=>A.hasError).length})]})]}),u.jsx("div",{className:"flex-1 mb-2",children:u.jsx(Co,{images:et(),handleRetry:Ne,copiedAll:n,copyAllToClipboard:nt,handleDelete:it,handleDeleteAll:Ke})})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-full rounded-md border",children:u.jsxs("div",{className:"text-center p-6 max-w-md",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No API Key Found"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Please set your Gemini API key in the settings to start using the image processing."}),u.jsxs(ie,{onClick:()=>K(!0),className:"flex items-center gap-1",children:[u.jsx(wn,{className:"h-4 w-4 mr-1"}),"Open Settings",u.jsx(zi,{className:"h-4 w-4 ml-1"})]})]})})})]})]}),le&&u.jsx(ie,{className:"fixed bottom-5 right-5 rounded-full h-12 w-12 shadow-md hover:bg-primary/90 z-50 flex items-center justify-center",size:"icon",onClick:Oe,"aria-label":"Scroll to bottom",children:u.jsx(Zl,{className:"h-6 w-6"})})]})};export{Kh as default};
